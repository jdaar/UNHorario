(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function du(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const lE="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",uE=du(lE);function Bd(t){return!!t||t===""}function pu(t){if(ee(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=We(r)?hE(r):pu(r);if(i)for(const s in i)e[s]=i[s]}return e}else{if(We(t))return t;if(Te(t))return t}}const cE=/;(?![^(]*\))/g,fE=/:(.+)/;function hE(t){const e={};return t.split(cE).forEach(n=>{if(n){const r=n.split(fE);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function gu(t){let e="";if(We(t))e=t;else if(ee(t))for(let n=0;n<t.length;n++){const r=gu(t[n]);r&&(e+=r+" ")}else if(Te(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const bt=t=>We(t)?t:t==null?"":ee(t)||Te(t)&&(t.toString===qd||!re(t.toString))?JSON.stringify(t,$d,2):String(t),$d=(t,e)=>e&&e.__v_isRef?$d(t,e.value):Sr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:jd(e)?{[`Set(${e.size})`]:[...e.values()]}:Te(e)&&!ee(e)&&!zd(e)?String(e):e,me={},Cr=[],Tt=()=>{},dE=()=>!1,pE=/^on[^a-z]/,Oo=t=>pE.test(t),vu=t=>t.startsWith("onUpdate:"),lt=Object.assign,mu=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},gE=Object.prototype.hasOwnProperty,ae=(t,e)=>gE.call(t,e),ee=Array.isArray,Sr=t=>Po(t)==="[object Map]",jd=t=>Po(t)==="[object Set]",re=t=>typeof t=="function",We=t=>typeof t=="string",yu=t=>typeof t=="symbol",Te=t=>t!==null&&typeof t=="object",Wd=t=>Te(t)&&re(t.then)&&re(t.catch),qd=Object.prototype.toString,Po=t=>qd.call(t),vE=t=>Po(t).slice(8,-1),zd=t=>Po(t)==="[object Object]",Eu=t=>We(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ls=du(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Lo=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},mE=/-(\w)/g,$t=Lo(t=>t.replace(mE,(e,n)=>n?n.toUpperCase():"")),yE=/\B([A-Z])/g,Kr=Lo(t=>t.replace(yE,"-$1").toLowerCase()),Fo=Lo(t=>t.charAt(0).toUpperCase()+t.slice(1)),ka=Lo(t=>t?`on${Fo(t)}`:""),Ai=(t,e)=>!Object.is(t,e),Fs=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Ys=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},ll=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let sf;const EE=()=>sf||(sf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Mt;class Gd{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&Mt&&(this.parent=Mt,this.index=(Mt.scopes||(Mt.scopes=[])).push(this)-1)}run(e){if(this.active){const n=Mt;try{return Mt=this,e()}finally{Mt=n}}}on(){Mt=this}off(){Mt=this.parent}stop(e){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.active=!1}}}function Kd(t){return new Gd(t)}function bE(t,e=Mt){e&&e.active&&e.effects.push(t)}const bu=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Yd=t=>(t.w&Rn)>0,Qd=t=>(t.n&Rn)>0,wE=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Rn},CE=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];Yd(i)&&!Qd(i)?i.delete(t):e[n++]=i,i.w&=~Rn,i.n&=~Rn}e.length=n}},ul=new WeakMap;let di=0,Rn=1;const cl=30;let wt;const Yn=Symbol(""),fl=Symbol("");class wu{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,bE(this,r)}run(){if(!this.active)return this.fn();let e=wt,n=yn;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=wt,wt=this,yn=!0,Rn=1<<++di,di<=cl?wE(this):of(this),this.fn()}finally{di<=cl&&CE(this),Rn=1<<--di,wt=this.parent,yn=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){wt===this?this.deferStop=!0:this.active&&(of(this),this.onStop&&this.onStop(),this.active=!1)}}function of(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let yn=!0;const Xd=[];function Yr(){Xd.push(yn),yn=!1}function Qr(){const t=Xd.pop();yn=t===void 0?!0:t}function pt(t,e,n){if(yn&&wt){let r=ul.get(t);r||ul.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=bu()),Zd(i)}}function Zd(t,e){let n=!1;di<=cl?Qd(t)||(t.n|=Rn,n=!Yd(t)):n=!t.has(wt),n&&(t.add(wt),wt.deps.push(t))}function en(t,e,n,r,i,s){const o=ul.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&ee(t))o.forEach((l,u)=>{(u==="length"||u>=r)&&a.push(l)});else switch(n!==void 0&&a.push(o.get(n)),e){case"add":ee(t)?Eu(n)&&a.push(o.get("length")):(a.push(o.get(Yn)),Sr(t)&&a.push(o.get(fl)));break;case"delete":ee(t)||(a.push(o.get(Yn)),Sr(t)&&a.push(o.get(fl)));break;case"set":Sr(t)&&a.push(o.get(Yn));break}if(a.length===1)a[0]&&hl(a[0]);else{const l=[];for(const u of a)u&&l.push(...u);hl(bu(l))}}function hl(t,e){const n=ee(t)?t:[...t];for(const r of n)r.computed&&af(r);for(const r of n)r.computed||af(r)}function af(t,e){(t!==wt||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const SE=du("__proto__,__v_isRef,__isVue"),Jd=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(yu)),TE=Cu(),_E=Cu(!1,!0),DE=Cu(!0),lf=RE();function RE(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=he(this);for(let s=0,o=this.length;s<o;s++)pt(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(he)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Yr();const r=he(this)[e].apply(this,n);return Qr(),r}}),t}function Cu(t=!1,e=!1){return function(r,i,s){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&s===(t?e?jE:ip:e?rp:np).get(r))return r;const o=ee(r);if(!t&&o&&ae(lf,i))return Reflect.get(lf,i,s);const a=Reflect.get(r,i,s);return(yu(i)?Jd.has(i):SE(i))||(t||pt(r,"get",i),e)?a:ke(a)?o&&Eu(i)?a:a.value:Te(a)?t?sp(a):Ho(a):a}}const IE=ep(),AE=ep(!0);function ep(t=!1){return function(n,r,i,s){let o=n[r];if(xr(o)&&ke(o)&&!ke(i))return!1;if(!t&&(!Qs(i)&&!xr(i)&&(o=he(o),i=he(i)),!ee(n)&&ke(o)&&!ke(i)))return o.value=i,!0;const a=ee(n)&&Eu(r)?Number(r)<n.length:ae(n,r),l=Reflect.set(n,r,i,s);return n===he(s)&&(a?Ai(i,o)&&en(n,"set",r,i):en(n,"add",r,i)),l}}function kE(t,e){const n=ae(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&en(t,"delete",e,void 0),r}function xE(t,e){const n=Reflect.has(t,e);return(!yu(e)||!Jd.has(e))&&pt(t,"has",e),n}function ME(t){return pt(t,"iterate",ee(t)?"length":Yn),Reflect.ownKeys(t)}const tp={get:TE,set:IE,deleteProperty:kE,has:xE,ownKeys:ME},NE={get:DE,set(t,e){return!0},deleteProperty(t,e){return!0}},OE=lt({},tp,{get:_E,set:AE}),Su=t=>t,Uo=t=>Reflect.getPrototypeOf(t);function ys(t,e,n=!1,r=!1){t=t.__v_raw;const i=he(t),s=he(e);n||(e!==s&&pt(i,"get",e),pt(i,"get",s));const{has:o}=Uo(i),a=r?Su:n?Du:ki;if(o.call(i,e))return a(t.get(e));if(o.call(i,s))return a(t.get(s));t!==i&&t.get(e)}function Es(t,e=!1){const n=this.__v_raw,r=he(n),i=he(t);return e||(t!==i&&pt(r,"has",t),pt(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function bs(t,e=!1){return t=t.__v_raw,!e&&pt(he(t),"iterate",Yn),Reflect.get(t,"size",t)}function uf(t){t=he(t);const e=he(this);return Uo(e).has.call(e,t)||(e.add(t),en(e,"add",t,t)),this}function cf(t,e){e=he(e);const n=he(this),{has:r,get:i}=Uo(n);let s=r.call(n,t);s||(t=he(t),s=r.call(n,t));const o=i.call(n,t);return n.set(t,e),s?Ai(e,o)&&en(n,"set",t,e):en(n,"add",t,e),this}function ff(t){const e=he(this),{has:n,get:r}=Uo(e);let i=n.call(e,t);i||(t=he(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&en(e,"delete",t,void 0),s}function hf(){const t=he(this),e=t.size!==0,n=t.clear();return e&&en(t,"clear",void 0,void 0),n}function ws(t,e){return function(r,i){const s=this,o=s.__v_raw,a=he(o),l=e?Su:t?Du:ki;return!t&&pt(a,"iterate",Yn),o.forEach((u,c)=>r.call(i,l(u),l(c),s))}}function Cs(t,e,n){return function(...r){const i=this.__v_raw,s=he(i),o=Sr(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...r),c=n?Su:e?Du:ki;return!e&&pt(s,"iterate",l?fl:Yn),{next(){const{value:f,done:h}=u.next();return h?{value:f,done:h}:{value:a?[c(f[0]),c(f[1])]:c(f),done:h}},[Symbol.iterator](){return this}}}}function dn(t){return function(...e){return t==="delete"?!1:this}}function PE(){const t={get(s){return ys(this,s)},get size(){return bs(this)},has:Es,add:uf,set:cf,delete:ff,clear:hf,forEach:ws(!1,!1)},e={get(s){return ys(this,s,!1,!0)},get size(){return bs(this)},has:Es,add:uf,set:cf,delete:ff,clear:hf,forEach:ws(!1,!0)},n={get(s){return ys(this,s,!0)},get size(){return bs(this,!0)},has(s){return Es.call(this,s,!0)},add:dn("add"),set:dn("set"),delete:dn("delete"),clear:dn("clear"),forEach:ws(!0,!1)},r={get(s){return ys(this,s,!0,!0)},get size(){return bs(this,!0)},has(s){return Es.call(this,s,!0)},add:dn("add"),set:dn("set"),delete:dn("delete"),clear:dn("clear"),forEach:ws(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Cs(s,!1,!1),n[s]=Cs(s,!0,!1),e[s]=Cs(s,!1,!0),r[s]=Cs(s,!0,!0)}),[t,n,e,r]}const[LE,FE,UE,HE]=PE();function Tu(t,e){const n=e?t?HE:UE:t?FE:LE;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(ae(n,i)&&i in r?n:r,i,s)}const VE={get:Tu(!1,!1)},BE={get:Tu(!1,!0)},$E={get:Tu(!0,!1)},np=new WeakMap,rp=new WeakMap,ip=new WeakMap,jE=new WeakMap;function WE(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function qE(t){return t.__v_skip||!Object.isExtensible(t)?0:WE(vE(t))}function Ho(t){return xr(t)?t:_u(t,!1,tp,VE,np)}function zE(t){return _u(t,!1,OE,BE,rp)}function sp(t){return _u(t,!0,NE,$E,ip)}function _u(t,e,n,r,i){if(!Te(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=qE(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function En(t){return xr(t)?En(t.__v_raw):!!(t&&t.__v_isReactive)}function xr(t){return!!(t&&t.__v_isReadonly)}function Qs(t){return!!(t&&t.__v_isShallow)}function op(t){return En(t)||xr(t)}function he(t){const e=t&&t.__v_raw;return e?he(e):t}function Mr(t){return Ys(t,"__v_skip",!0),t}const ki=t=>Te(t)?Ho(t):t,Du=t=>Te(t)?sp(t):t;function ap(t){yn&&wt&&(t=he(t),Zd(t.dep||(t.dep=bu())))}function lp(t,e){t=he(t),t.dep&&hl(t.dep)}function ke(t){return!!(t&&t.__v_isRef===!0)}function Xi(t){return GE(t,!1)}function GE(t,e){return ke(t)?t:new KE(t,e)}class KE{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:he(e),this._value=n?e:ki(e)}get value(){return ap(this),this._value}set value(e){const n=this.__v_isShallow||Qs(e)||xr(e);e=n?e:he(e),Ai(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:ki(e),lp(this))}}function st(t){return ke(t)?t.value:t}const YE={get:(t,e,n)=>st(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return ke(i)&&!ke(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function up(t){return En(t)?t:new Proxy(t,YE)}function QE(t){const e=ee(t)?new Array(t.length):{};for(const n in t)e[n]=ZE(t,n);return e}class XE{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function ZE(t,e,n){const r=t[e];return ke(r)?r:new XE(t,e,n)}var cp;class JE{constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[cp]=!1,this._dirty=!0,this.effect=new wu(e,()=>{this._dirty||(this._dirty=!0,lp(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=he(this);return ap(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}cp="__v_isReadonly";function eb(t,e,n=!1){let r,i;const s=re(t);return s?(r=t,i=Tt):(r=t.get,i=t.set),new JE(r,i,s||!i,n)}function bn(t,e,n,r){let i;try{i=r?t(...r):t()}catch(s){Vo(s,e,n)}return i}function _t(t,e,n,r){if(re(t)){const s=bn(t,e,n,r);return s&&Wd(s)&&s.catch(o=>{Vo(o,e,n)}),s}const i=[];for(let s=0;s<t.length;s++)i.push(_t(t[s],e,n,r));return i}function Vo(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=n;for(;s;){const u=s.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](t,o,a)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){bn(l,null,10,[t,o,a]);return}}tb(t,n,i,r)}function tb(t,e,n,r=!0){console.error(t)}let xi=!1,dl=!1;const Ze=[];let Pt=0;const Tr=[];let Kt=null,jn=0;const fp=Promise.resolve();let Ru=null;function hp(t){const e=Ru||fp;return t?e.then(this?t.bind(this):t):e}function nb(t){let e=Pt+1,n=Ze.length;for(;e<n;){const r=e+n>>>1;Mi(Ze[r])<t?e=r+1:n=r}return e}function Iu(t){(!Ze.length||!Ze.includes(t,xi&&t.allowRecurse?Pt+1:Pt))&&(t.id==null?Ze.push(t):Ze.splice(nb(t.id),0,t),dp())}function dp(){!xi&&!dl&&(dl=!0,Ru=fp.then(gp))}function rb(t){const e=Ze.indexOf(t);e>Pt&&Ze.splice(e,1)}function ib(t){ee(t)?Tr.push(...t):(!Kt||!Kt.includes(t,t.allowRecurse?jn+1:jn))&&Tr.push(t),dp()}function df(t,e=xi?Pt+1:0){for(;e<Ze.length;e++){const n=Ze[e];n&&n.pre&&(Ze.splice(e,1),e--,n())}}function pp(t){if(Tr.length){const e=[...new Set(Tr)];if(Tr.length=0,Kt){Kt.push(...e);return}for(Kt=e,Kt.sort((n,r)=>Mi(n)-Mi(r)),jn=0;jn<Kt.length;jn++)Kt[jn]();Kt=null,jn=0}}const Mi=t=>t.id==null?1/0:t.id,sb=(t,e)=>{const n=Mi(t)-Mi(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function gp(t){dl=!1,xi=!0,Ze.sort(sb);const e=Tt;try{for(Pt=0;Pt<Ze.length;Pt++){const n=Ze[Pt];n&&n.active!==!1&&bn(n,null,14)}}finally{Pt=0,Ze.length=0,pp(),xi=!1,Ru=null,(Ze.length||Tr.length)&&gp()}}function ob(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||me;let i=n;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in r){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:h}=r[c]||me;h&&(i=n.map(d=>d.trim())),f&&(i=n.map(ll))}let a,l=r[a=ka(e)]||r[a=ka($t(e))];!l&&s&&(l=r[a=ka(Kr(e))]),l&&_t(l,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,_t(u,t,6,i)}}function vp(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!re(t)){const l=u=>{const c=vp(u,e,!0);c&&(a=!0,lt(o,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(Te(t)&&r.set(t,null),null):(ee(s)?s.forEach(l=>o[l]=null):lt(o,s),Te(t)&&r.set(t,o),o)}function Bo(t,e){return!t||!Oo(e)?!1:(e=e.slice(2).replace(/Once$/,""),ae(t,e[0].toLowerCase()+e.slice(1))||ae(t,Kr(e))||ae(t,e))}let et=null,$o=null;function Xs(t){const e=et;return et=t,$o=t&&t.type.__scopeId||null,e}function mp(t){$o=t}function yp(){$o=null}function jo(t,e=et,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Sf(-1);const s=Xs(e),o=t(...i);return Xs(s),r._d&&Sf(1),o};return r._n=!0,r._c=!0,r._d=!0,r}function xa(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[o],slots:a,attrs:l,emit:u,render:c,renderCache:f,data:h,setupState:d,ctx:p,inheritAttrs:g}=t;let m,v;const b=Xs(t);try{if(n.shapeFlag&4){const D=i||r;m=Nt(c.call(D,D,f,s,d,h,p)),v=l}else{const D=e;m=Nt(D.length>1?D(s,{attrs:l,slots:a,emit:u}):D(s,null)),v=e.props?l:ab(l)}}catch(D){Ei.length=0,Vo(D,t,1),m=Oe(In)}let T=m;if(v&&g!==!1){const D=Object.keys(v),{shapeFlag:F}=T;D.length&&F&7&&(o&&D.some(vu)&&(v=lb(v,o)),T=Nr(T,v))}return n.dirs&&(T=Nr(T),T.dirs=T.dirs?T.dirs.concat(n.dirs):n.dirs),n.transition&&(T.transition=n.transition),m=T,Xs(b),m}const ab=t=>{let e;for(const n in t)(n==="class"||n==="style"||Oo(n))&&((e||(e={}))[n]=t[n]);return e},lb=(t,e)=>{const n={};for(const r in t)(!vu(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function ub(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?pf(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let f=0;f<c.length;f++){const h=c[f];if(o[h]!==r[h]&&!Bo(u,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?pf(r,o,u):!0:!!o;return!1}function pf(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!Bo(n,s))return!0}return!1}function cb({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const fb=t=>t.__isSuspense;function hb(t,e){e&&e.pendingBranch?ee(t)?e.effects.push(...t):e.effects.push(t):ib(t)}function db(t,e){if($e){let n=$e.provides;const r=$e.parent&&$e.parent.provides;r===n&&(n=$e.provides=Object.create(r)),n[t]=e}}function Us(t,e,n=!1){const r=$e||et;if(r){const i=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&re(e)?e.call(r.proxy):e}}const gf={};function mi(t,e,n){return Ep(t,e,n)}function Ep(t,e,{immediate:n,deep:r,flush:i,onTrack:s,onTrigger:o}=me){const a=$e;let l,u=!1,c=!1;if(ke(t)?(l=()=>t.value,u=Qs(t)):En(t)?(l=()=>t,r=!0):ee(t)?(c=!0,u=t.some(v=>En(v)||Qs(v)),l=()=>t.map(v=>{if(ke(v))return v.value;if(En(v))return qn(v);if(re(v))return bn(v,a,2)})):re(t)?e?l=()=>bn(t,a,2):l=()=>{if(!(a&&a.isUnmounted))return f&&f(),_t(t,a,3,[h])}:l=Tt,e&&r){const v=l;l=()=>qn(v())}let f,h=v=>{f=m.onStop=()=>{bn(v,a,4)}};if(Oi)return h=Tt,e?n&&_t(e,a,3,[l(),c?[]:void 0,h]):l(),Tt;let d=c?[]:gf;const p=()=>{if(!!m.active)if(e){const v=m.run();(r||u||(c?v.some((b,T)=>Ai(b,d[T])):Ai(v,d)))&&(f&&f(),_t(e,a,3,[v,d===gf?void 0:d,h]),d=v)}else m.run()};p.allowRecurse=!!e;let g;i==="sync"?g=p:i==="post"?g=()=>ut(p,a&&a.suspense):(p.pre=!0,a&&(p.id=a.uid),g=()=>Iu(p));const m=new wu(l,g);return e?n?p():d=m.run():i==="post"?ut(m.run.bind(m),a&&a.suspense):m.run(),()=>{m.stop(),a&&a.scope&&mu(a.scope.effects,m)}}function pb(t,e,n){const r=this.proxy,i=We(t)?t.includes(".")?bp(r,t):()=>r[t]:t.bind(r,r);let s;re(e)?s=e:(s=e.handler,n=e);const o=$e;Or(this);const a=Ep(i,s.bind(r),n);return o?Or(o):Xn(),a}function bp(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function qn(t,e){if(!Te(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),ke(t))qn(t.value,e);else if(ee(t))for(let n=0;n<t.length;n++)qn(t[n],e);else if(jd(t)||Sr(t))t.forEach(n=>{qn(n,e)});else if(zd(t))for(const n in t)qn(t[n],e);return t}function Xr(t){return re(t)?{setup:t,name:t.name}:t}const yi=t=>!!t.type.__asyncLoader,wp=t=>t.type.__isKeepAlive;function gb(t,e){Cp(t,"a",e)}function vb(t,e){Cp(t,"da",e)}function Cp(t,e,n=$e){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Wo(e,r,n),n){let i=n.parent;for(;i&&i.parent;)wp(i.parent.vnode)&&mb(r,e,n,i),i=i.parent}}function mb(t,e,n,r){const i=Wo(e,t,r,!0);Au(()=>{mu(r[e],i)},n)}function Wo(t,e,n=$e,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;Yr(),Or(n);const a=_t(e,n,t,o);return Xn(),Qr(),a});return r?i.unshift(s):i.push(s),s}}const ln=t=>(e,n=$e)=>(!Oi||t==="sp")&&Wo(t,e,n),yb=ln("bm"),Eb=ln("m"),bb=ln("bu"),wb=ln("u"),Cb=ln("bum"),Au=ln("um"),Sb=ln("sp"),Tb=ln("rtg"),_b=ln("rtc");function Db(t,e=$e){Wo("ec",t,e)}function Rb(t,e){const n=et;if(n===null)return t;const r=zo(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[o,a,l,u=me]=e[s];re(o)&&(o={mounted:o,updated:o}),o.deep&&qn(a),i.push({dir:o,instance:r,value:a,oldValue:void 0,arg:l,modifiers:u})}return t}function Un(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(Yr(),_t(l,n,8,[t.el,a,t,e]),Qr())}}const Sp="components";function Qn(t,e){return Ab(Sp,t,!0,e)||t}const Ib=Symbol();function Ab(t,e,n=!0,r=!1){const i=et||$e;if(i){const s=i.type;if(t===Sp){const a=sw(s,!1);if(a&&(a===e||a===$t(e)||a===Fo($t(e))))return s}const o=vf(i[t]||s[t],e)||vf(i.appContext[t],e);return!o&&r?s:o}}function vf(t,e){return t&&(t[e]||t[$t(e)]||t[Fo($t(e))])}function Tp(t,e,n,r){let i;const s=n&&n[r];if(ee(t)||We(t)){i=new Array(t.length);for(let o=0,a=t.length;o<a;o++)i[o]=e(t[o],o,void 0,s&&s[o])}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,s&&s[o])}else if(Te(t))if(t[Symbol.iterator])i=Array.from(t,(o,a)=>e(o,a,void 0,s&&s[a]));else{const o=Object.keys(t);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];i[a]=e(t[u],u,a,s&&s[a])}}else i=[];return n&&(n[r]=i),i}function _p(t,e,n={},r,i){if(et.isCE||et.parent&&yi(et.parent)&&et.parent.isCE)return Oe("slot",e==="default"?null:{name:e},r&&r());let s=t[e];s&&s._c&&(s._d=!1),dt();const o=s&&Dp(s(n)),a=Nu(ht,{key:n.key||o&&o.key||`_${e}`},o||(r?r():[]),o&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function Dp(t){return t.some(e=>eo(e)?!(e.type===In||e.type===ht&&!Dp(e.children)):!0)?t:null}const pl=t=>t?Up(t)?zo(t)||t.proxy:pl(t.parent):null,Zs=lt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>pl(t.parent),$root:t=>pl(t.root),$emit:t=>t.emit,$options:t=>ku(t),$forceUpdate:t=>t.f||(t.f=()=>Iu(t.update)),$nextTick:t=>t.n||(t.n=hp.bind(t.proxy)),$watch:t=>pb.bind(t)}),kb={get({_:t},e){const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const d=o[e];if(d!==void 0)switch(d){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(r!==me&&ae(r,e))return o[e]=1,r[e];if(i!==me&&ae(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&ae(u,e))return o[e]=3,s[e];if(n!==me&&ae(n,e))return o[e]=4,n[e];gl&&(o[e]=0)}}const c=Zs[e];let f,h;if(c)return e==="$attrs"&&pt(t,"get",e),c(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==me&&ae(n,e))return o[e]=4,n[e];if(h=l.config.globalProperties,ae(h,e))return h[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return i!==me&&ae(i,e)?(i[e]=n,!0):r!==me&&ae(r,e)?(r[e]=n,!0):ae(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==me&&ae(t,o)||e!==me&&ae(e,o)||(a=s[0])&&ae(a,o)||ae(r,o)||ae(Zs,o)||ae(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ae(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};let gl=!0;function xb(t){const e=ku(t),n=t.proxy,r=t.ctx;gl=!1,e.beforeCreate&&mf(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:f,mounted:h,beforeUpdate:d,updated:p,activated:g,deactivated:m,beforeDestroy:v,beforeUnmount:b,destroyed:T,unmounted:D,render:F,renderTracked:V,renderTriggered:U,errorCaptured:O,serverPrefetch:le,expose:se,inheritAttrs:_e,components:He,directives:fn,filters:At}=e;if(u&&Mb(u,r,null,t.appContext.config.unwrapInjectedRef),o)for(const De in o){const Ee=o[De];re(Ee)&&(r[De]=Ee.bind(n))}if(i){const De=i.call(n,n);Te(De)&&(t.data=Ho(De))}if(gl=!0,s)for(const De in s){const Ee=s[De],zt=re(Ee)?Ee.bind(n,n):re(Ee.get)?Ee.get.bind(n,n):Tt,Ra=!re(Ee)&&re(Ee.set)?Ee.set.bind(n):Tt,li=tr({get:zt,set:Ra});Object.defineProperty(r,De,{enumerable:!0,configurable:!0,get:()=>li.value,set:hr=>li.value=hr})}if(a)for(const De in a)Rp(a[De],r,n,De);if(l){const De=re(l)?l.call(n):l;Reflect.ownKeys(De).forEach(Ee=>{db(Ee,De[Ee])})}c&&mf(c,t,"c");function Ye(De,Ee){ee(Ee)?Ee.forEach(zt=>De(zt.bind(n))):Ee&&De(Ee.bind(n))}if(Ye(yb,f),Ye(Eb,h),Ye(bb,d),Ye(wb,p),Ye(gb,g),Ye(vb,m),Ye(Db,O),Ye(_b,V),Ye(Tb,U),Ye(Cb,b),Ye(Au,D),Ye(Sb,le),ee(se))if(se.length){const De=t.exposed||(t.exposed={});se.forEach(Ee=>{Object.defineProperty(De,Ee,{get:()=>n[Ee],set:zt=>n[Ee]=zt})})}else t.exposed||(t.exposed={});F&&t.render===Tt&&(t.render=F),_e!=null&&(t.inheritAttrs=_e),He&&(t.components=He),fn&&(t.directives=fn)}function Mb(t,e,n=Tt,r=!1){ee(t)&&(t=vl(t));for(const i in t){const s=t[i];let o;Te(s)?"default"in s?o=Us(s.from||i,s.default,!0):o=Us(s.from||i):o=Us(s),ke(o)&&r?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):e[i]=o}}function mf(t,e,n){_t(ee(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Rp(t,e,n,r){const i=r.includes(".")?bp(n,r):()=>n[r];if(We(t)){const s=e[t];re(s)&&mi(i,s)}else if(re(t))mi(i,t.bind(n));else if(Te(t))if(ee(t))t.forEach(s=>Rp(s,e,n,r));else{const s=re(t.handler)?t.handler.bind(n):e[t.handler];re(s)&&mi(i,s,t)}}function ku(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>Js(l,u,o,!0)),Js(l,e,o)),Te(e)&&s.set(e,l),l}function Js(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&Js(t,s,n,!0),i&&i.forEach(o=>Js(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=Nb[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Nb={data:yf,props:Vn,emits:Vn,methods:Vn,computed:Vn,beforeCreate:it,created:it,beforeMount:it,mounted:it,beforeUpdate:it,updated:it,beforeDestroy:it,beforeUnmount:it,destroyed:it,unmounted:it,activated:it,deactivated:it,errorCaptured:it,serverPrefetch:it,components:Vn,directives:Vn,watch:Pb,provide:yf,inject:Ob};function yf(t,e){return e?t?function(){return lt(re(t)?t.call(this,this):t,re(e)?e.call(this,this):e)}:e:t}function Ob(t,e){return Vn(vl(t),vl(e))}function vl(t){if(ee(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function it(t,e){return t?[...new Set([].concat(t,e))]:e}function Vn(t,e){return t?lt(lt(Object.create(null),t),e):e}function Pb(t,e){if(!t)return e;if(!e)return t;const n=lt(Object.create(null),t);for(const r in e)n[r]=it(t[r],e[r]);return n}function Lb(t,e,n,r=!1){const i={},s={};Ys(s,qo,1),t.propsDefaults=Object.create(null),Ip(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:zE(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function Fb(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=he(i),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let f=0;f<c.length;f++){let h=c[f];if(Bo(t.emitsOptions,h))continue;const d=e[h];if(l)if(ae(s,h))d!==s[h]&&(s[h]=d,u=!0);else{const p=$t(h);i[p]=ml(l,a,p,d,t,!1)}else d!==s[h]&&(s[h]=d,u=!0)}}}else{Ip(t,e,i,s)&&(u=!0);let c;for(const f in a)(!e||!ae(e,f)&&((c=Kr(f))===f||!ae(e,c)))&&(l?n&&(n[f]!==void 0||n[c]!==void 0)&&(i[f]=ml(l,a,f,void 0,t,!0)):delete i[f]);if(s!==a)for(const f in s)(!e||!ae(e,f)&&!0)&&(delete s[f],u=!0)}u&&en(t,"set","$attrs")}function Ip(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Ls(l))continue;const u=e[l];let c;i&&ae(i,c=$t(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:Bo(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(s){const l=he(n),u=a||me;for(let c=0;c<s.length;c++){const f=s[c];n[f]=ml(i,l,f,u[f],t,!ae(u,f))}}return o}function ml(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=ae(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&re(l)){const{propsDefaults:u}=i;n in u?r=u[n]:(Or(i),r=u[n]=l.call(null,e),Xn())}else r=l}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===Kr(n))&&(r=!0))}return r}function Ap(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!re(t)){const c=f=>{l=!0;const[h,d]=Ap(f,e,!0);lt(o,h),d&&a.push(...d)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!s&&!l)return Te(t)&&r.set(t,Cr),Cr;if(ee(s))for(let c=0;c<s.length;c++){const f=$t(s[c]);Ef(f)&&(o[f]=me)}else if(s)for(const c in s){const f=$t(c);if(Ef(f)){const h=s[c],d=o[f]=ee(h)||re(h)?{type:h}:h;if(d){const p=Cf(Boolean,d.type),g=Cf(String,d.type);d[0]=p>-1,d[1]=g<0||p<g,(p>-1||ae(d,"default"))&&a.push(f)}}}const u=[o,a];return Te(t)&&r.set(t,u),u}function Ef(t){return t[0]!=="$"}function bf(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function wf(t,e){return bf(t)===bf(e)}function Cf(t,e){return ee(e)?e.findIndex(n=>wf(n,t)):re(e)&&wf(e,t)?0:-1}const kp=t=>t[0]==="_"||t==="$stable",xu=t=>ee(t)?t.map(Nt):[Nt(t)],Ub=(t,e,n)=>{if(e._n)return e;const r=jo((...i)=>xu(e(...i)),n);return r._c=!1,r},xp=(t,e,n)=>{const r=t._ctx;for(const i in t){if(kp(i))continue;const s=t[i];if(re(s))e[i]=Ub(i,s,r);else if(s!=null){const o=xu(s);e[i]=()=>o}}},Mp=(t,e)=>{const n=xu(e);t.slots.default=()=>n},Hb=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=he(e),Ys(e,"_",n)):xp(e,t.slots={})}else t.slots={},e&&Mp(t,e);Ys(t.slots,qo,1)},Vb=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=me;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:(lt(i,e),!n&&a===1&&delete i._):(s=!e.$stable,xp(e,i)),o=e}else e&&(Mp(t,e),o={default:1});if(s)for(const a in i)!kp(a)&&!(a in o)&&delete i[a]};function Np(){return{app:null,config:{isNativeTag:dE,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Bb=0;function $b(t,e){return function(r,i=null){re(r)||(r=Object.assign({},r)),i!=null&&!Te(i)&&(i=null);const s=Np(),o=new Set;let a=!1;const l=s.app={_uid:Bb++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:aw,get config(){return s.config},set config(u){},use(u,...c){return o.has(u)||(u&&re(u.install)?(o.add(u),u.install(l,...c)):re(u)&&(o.add(u),u(l,...c))),l},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),l},component(u,c){return c?(s.components[u]=c,l):s.components[u]},directive(u,c){return c?(s.directives[u]=c,l):s.directives[u]},mount(u,c,f){if(!a){const h=Oe(r,i);return h.appContext=s,c&&e?e(h,u):t(h,u,f),a=!0,l._container=u,u.__vue_app__=l,zo(h.component)||h.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,c){return s.provides[u]=c,l}};return l}}function yl(t,e,n,r,i=!1){if(ee(t)){t.forEach((h,d)=>yl(h,e&&(ee(e)?e[d]:e),n,r,i));return}if(yi(r)&&!i)return;const s=r.shapeFlag&4?zo(r.component)||r.component.proxy:r.el,o=i?null:s,{i:a,r:l}=t,u=e&&e.r,c=a.refs===me?a.refs={}:a.refs,f=a.setupState;if(u!=null&&u!==l&&(We(u)?(c[u]=null,ae(f,u)&&(f[u]=null)):ke(u)&&(u.value=null)),re(l))bn(l,a,12,[o,c]);else{const h=We(l),d=ke(l);if(h||d){const p=()=>{if(t.f){const g=h?c[l]:l.value;i?ee(g)&&mu(g,s):ee(g)?g.includes(s)||g.push(s):h?(c[l]=[s],ae(f,l)&&(f[l]=c[l])):(l.value=[s],t.k&&(c[t.k]=l.value))}else h?(c[l]=o,ae(f,l)&&(f[l]=o)):d&&(l.value=o,t.k&&(c[t.k]=o))};o?(p.id=-1,ut(p,n)):p()}}}const ut=hb;function jb(t){return Wb(t)}function Wb(t,e){const n=EE();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:h,setScopeId:d=Tt,cloneNode:p,insertStaticContent:g}=t,m=(E,C,_,A=null,I=null,N=null,L=!1,M=null,P=!!C.dynamicChildren)=>{if(E===C)return;E&&!ci(E,C)&&(A=ms(E),hn(E,I,N,!0),E=null),C.patchFlag===-2&&(P=!1,C.dynamicChildren=null);const{type:k,ref:z,shapeFlag:$}=C;switch(k){case Mu:v(E,C,_,A);break;case In:b(E,C,_,A);break;case Ma:E==null&&T(C,_,A,L);break;case ht:fn(E,C,_,A,I,N,L,M,P);break;default:$&1?V(E,C,_,A,I,N,L,M,P):$&6?At(E,C,_,A,I,N,L,M,P):($&64||$&128)&&k.process(E,C,_,A,I,N,L,M,P,dr)}z!=null&&I&&yl(z,E&&E.ref,N,C||E,!C)},v=(E,C,_,A)=>{if(E==null)r(C.el=a(C.children),_,A);else{const I=C.el=E.el;C.children!==E.children&&u(I,C.children)}},b=(E,C,_,A)=>{E==null?r(C.el=l(C.children||""),_,A):C.el=E.el},T=(E,C,_,A)=>{[E.el,E.anchor]=g(E.children,C,_,A,E.el,E.anchor)},D=({el:E,anchor:C},_,A)=>{let I;for(;E&&E!==C;)I=h(E),r(E,_,A),E=I;r(C,_,A)},F=({el:E,anchor:C})=>{let _;for(;E&&E!==C;)_=h(E),i(E),E=_;i(C)},V=(E,C,_,A,I,N,L,M,P)=>{L=L||C.type==="svg",E==null?U(C,_,A,I,N,L,M,P):se(E,C,I,N,L,M,P)},U=(E,C,_,A,I,N,L,M)=>{let P,k;const{type:z,props:$,shapeFlag:G,transition:J,patchFlag:ue,dirs:ge}=E;if(E.el&&p!==void 0&&ue===-1)P=E.el=p(E.el);else{if(P=E.el=o(E.type,N,$&&$.is,$),G&8?c(P,E.children):G&16&&le(E.children,P,null,A,I,N&&z!=="foreignObject",L,M),ge&&Un(E,null,A,"created"),$){for(const be in $)be!=="value"&&!Ls(be)&&s(P,be,null,$[be],N,E.children,A,I,Gt);"value"in $&&s(P,"value",null,$.value),(k=$.onVnodeBeforeMount)&&xt(k,A,E)}O(P,E,E.scopeId,L,A)}ge&&Un(E,null,A,"beforeMount");const ve=(!I||I&&!I.pendingBranch)&&J&&!J.persisted;ve&&J.beforeEnter(P),r(P,C,_),((k=$&&$.onVnodeMounted)||ve||ge)&&ut(()=>{k&&xt(k,A,E),ve&&J.enter(P),ge&&Un(E,null,A,"mounted")},I)},O=(E,C,_,A,I)=>{if(_&&d(E,_),A)for(let N=0;N<A.length;N++)d(E,A[N]);if(I){let N=I.subTree;if(C===N){const L=I.vnode;O(E,L,L.scopeId,L.slotScopeIds,I.parent)}}},le=(E,C,_,A,I,N,L,M,P=0)=>{for(let k=P;k<E.length;k++){const z=E[k]=M?pn(E[k]):Nt(E[k]);m(null,z,C,_,A,I,N,L,M)}},se=(E,C,_,A,I,N,L)=>{const M=C.el=E.el;let{patchFlag:P,dynamicChildren:k,dirs:z}=C;P|=E.patchFlag&16;const $=E.props||me,G=C.props||me;let J;_&&Hn(_,!1),(J=G.onVnodeBeforeUpdate)&&xt(J,_,C,E),z&&Un(C,E,_,"beforeUpdate"),_&&Hn(_,!0);const ue=I&&C.type!=="foreignObject";if(k?_e(E.dynamicChildren,k,M,_,A,ue,N):L||zt(E,C,M,null,_,A,ue,N,!1),P>0){if(P&16)He(M,C,$,G,_,A,I);else if(P&2&&$.class!==G.class&&s(M,"class",null,G.class,I),P&4&&s(M,"style",$.style,G.style,I),P&8){const ge=C.dynamicProps;for(let ve=0;ve<ge.length;ve++){const be=ge[ve],Et=$[be],pr=G[be];(pr!==Et||be==="value")&&s(M,be,Et,pr,I,E.children,_,A,Gt)}}P&1&&E.children!==C.children&&c(M,C.children)}else!L&&k==null&&He(M,C,$,G,_,A,I);((J=G.onVnodeUpdated)||z)&&ut(()=>{J&&xt(J,_,C,E),z&&Un(C,E,_,"updated")},A)},_e=(E,C,_,A,I,N,L)=>{for(let M=0;M<C.length;M++){const P=E[M],k=C[M],z=P.el&&(P.type===ht||!ci(P,k)||P.shapeFlag&70)?f(P.el):_;m(P,k,z,null,A,I,N,L,!0)}},He=(E,C,_,A,I,N,L)=>{if(_!==A){for(const M in A){if(Ls(M))continue;const P=A[M],k=_[M];P!==k&&M!=="value"&&s(E,M,k,P,L,C.children,I,N,Gt)}if(_!==me)for(const M in _)!Ls(M)&&!(M in A)&&s(E,M,_[M],null,L,C.children,I,N,Gt);"value"in A&&s(E,"value",_.value,A.value)}},fn=(E,C,_,A,I,N,L,M,P)=>{const k=C.el=E?E.el:a(""),z=C.anchor=E?E.anchor:a("");let{patchFlag:$,dynamicChildren:G,slotScopeIds:J}=C;J&&(M=M?M.concat(J):J),E==null?(r(k,_,A),r(z,_,A),le(C.children,_,z,I,N,L,M,P)):$>0&&$&64&&G&&E.dynamicChildren?(_e(E.dynamicChildren,G,_,I,N,L,M),(C.key!=null||I&&C===I.subTree)&&Op(E,C,!0)):zt(E,C,_,z,I,N,L,M,P)},At=(E,C,_,A,I,N,L,M,P)=>{C.slotScopeIds=M,E==null?C.shapeFlag&512?I.ctx.activate(C,_,A,L,P):Ve(C,_,A,I,N,L,P):Ye(E,C,P)},Ve=(E,C,_,A,I,N,L)=>{const M=E.component=ew(E,A,I);if(wp(E)&&(M.ctx.renderer=dr),tw(M),M.asyncDep){if(I&&I.registerDep(M,De),!E.el){const P=M.subTree=Oe(In);b(null,P,C,_)}return}De(M,E,C,_,I,N,L)},Ye=(E,C,_)=>{const A=C.component=E.component;if(ub(E,C,_))if(A.asyncDep&&!A.asyncResolved){Ee(A,C,_);return}else A.next=C,rb(A.update),A.update();else C.el=E.el,A.vnode=C},De=(E,C,_,A,I,N,L)=>{const M=()=>{if(E.isMounted){let{next:z,bu:$,u:G,parent:J,vnode:ue}=E,ge=z,ve;Hn(E,!1),z?(z.el=ue.el,Ee(E,z,L)):z=ue,$&&Fs($),(ve=z.props&&z.props.onVnodeBeforeUpdate)&&xt(ve,J,z,ue),Hn(E,!0);const be=xa(E),Et=E.subTree;E.subTree=be,m(Et,be,f(Et.el),ms(Et),E,I,N),z.el=be.el,ge===null&&cb(E,be.el),G&&ut(G,I),(ve=z.props&&z.props.onVnodeUpdated)&&ut(()=>xt(ve,J,z,ue),I)}else{let z;const{el:$,props:G}=C,{bm:J,m:ue,parent:ge}=E,ve=yi(C);if(Hn(E,!1),J&&Fs(J),!ve&&(z=G&&G.onVnodeBeforeMount)&&xt(z,ge,C),Hn(E,!0),$&&Aa){const be=()=>{E.subTree=xa(E),Aa($,E.subTree,E,I,null)};ve?C.type.__asyncLoader().then(()=>!E.isUnmounted&&be()):be()}else{const be=E.subTree=xa(E);m(null,be,_,A,E,I,N),C.el=be.el}if(ue&&ut(ue,I),!ve&&(z=G&&G.onVnodeMounted)){const be=C;ut(()=>xt(z,ge,be),I)}(C.shapeFlag&256||ge&&yi(ge.vnode)&&ge.vnode.shapeFlag&256)&&E.a&&ut(E.a,I),E.isMounted=!0,C=_=A=null}},P=E.effect=new wu(M,()=>Iu(k),E.scope),k=E.update=()=>P.run();k.id=E.uid,Hn(E,!0),k()},Ee=(E,C,_)=>{C.component=E;const A=E.vnode.props;E.vnode=C,E.next=null,Fb(E,C.props,A,_),Vb(E,C.children,_),Yr(),df(),Qr()},zt=(E,C,_,A,I,N,L,M,P=!1)=>{const k=E&&E.children,z=E?E.shapeFlag:0,$=C.children,{patchFlag:G,shapeFlag:J}=C;if(G>0){if(G&128){li(k,$,_,A,I,N,L,M,P);return}else if(G&256){Ra(k,$,_,A,I,N,L,M,P);return}}J&8?(z&16&&Gt(k,I,N),$!==k&&c(_,$)):z&16?J&16?li(k,$,_,A,I,N,L,M,P):Gt(k,I,N,!0):(z&8&&c(_,""),J&16&&le($,_,A,I,N,L,M,P))},Ra=(E,C,_,A,I,N,L,M,P)=>{E=E||Cr,C=C||Cr;const k=E.length,z=C.length,$=Math.min(k,z);let G;for(G=0;G<$;G++){const J=C[G]=P?pn(C[G]):Nt(C[G]);m(E[G],J,_,null,I,N,L,M,P)}k>z?Gt(E,I,N,!0,!1,$):le(C,_,A,I,N,L,M,P,$)},li=(E,C,_,A,I,N,L,M,P)=>{let k=0;const z=C.length;let $=E.length-1,G=z-1;for(;k<=$&&k<=G;){const J=E[k],ue=C[k]=P?pn(C[k]):Nt(C[k]);if(ci(J,ue))m(J,ue,_,null,I,N,L,M,P);else break;k++}for(;k<=$&&k<=G;){const J=E[$],ue=C[G]=P?pn(C[G]):Nt(C[G]);if(ci(J,ue))m(J,ue,_,null,I,N,L,M,P);else break;$--,G--}if(k>$){if(k<=G){const J=G+1,ue=J<z?C[J].el:A;for(;k<=G;)m(null,C[k]=P?pn(C[k]):Nt(C[k]),_,ue,I,N,L,M,P),k++}}else if(k>G)for(;k<=$;)hn(E[k],I,N,!0),k++;else{const J=k,ue=k,ge=new Map;for(k=ue;k<=G;k++){const ft=C[k]=P?pn(C[k]):Nt(C[k]);ft.key!=null&&ge.set(ft.key,k)}let ve,be=0;const Et=G-ue+1;let pr=!1,tf=0;const ui=new Array(Et);for(k=0;k<Et;k++)ui[k]=0;for(k=J;k<=$;k++){const ft=E[k];if(be>=Et){hn(ft,I,N,!0);continue}let kt;if(ft.key!=null)kt=ge.get(ft.key);else for(ve=ue;ve<=G;ve++)if(ui[ve-ue]===0&&ci(ft,C[ve])){kt=ve;break}kt===void 0?hn(ft,I,N,!0):(ui[kt-ue]=k+1,kt>=tf?tf=kt:pr=!0,m(ft,C[kt],_,null,I,N,L,M,P),be++)}const nf=pr?qb(ui):Cr;for(ve=nf.length-1,k=Et-1;k>=0;k--){const ft=ue+k,kt=C[ft],rf=ft+1<z?C[ft+1].el:A;ui[k]===0?m(null,kt,_,rf,I,N,L,M,P):pr&&(ve<0||k!==nf[ve]?hr(kt,_,rf,2):ve--)}}},hr=(E,C,_,A,I=null)=>{const{el:N,type:L,transition:M,children:P,shapeFlag:k}=E;if(k&6){hr(E.component.subTree,C,_,A);return}if(k&128){E.suspense.move(C,_,A);return}if(k&64){L.move(E,C,_,dr);return}if(L===ht){r(N,C,_);for(let $=0;$<P.length;$++)hr(P[$],C,_,A);r(E.anchor,C,_);return}if(L===Ma){D(E,C,_);return}if(A!==2&&k&1&&M)if(A===0)M.beforeEnter(N),r(N,C,_),ut(()=>M.enter(N),I);else{const{leave:$,delayLeave:G,afterLeave:J}=M,ue=()=>r(N,C,_),ge=()=>{$(N,()=>{ue(),J&&J()})};G?G(N,ue,ge):ge()}else r(N,C,_)},hn=(E,C,_,A=!1,I=!1)=>{const{type:N,props:L,ref:M,children:P,dynamicChildren:k,shapeFlag:z,patchFlag:$,dirs:G}=E;if(M!=null&&yl(M,null,_,E,!0),z&256){C.ctx.deactivate(E);return}const J=z&1&&G,ue=!yi(E);let ge;if(ue&&(ge=L&&L.onVnodeBeforeUnmount)&&xt(ge,C,E),z&6)aE(E.component,_,A);else{if(z&128){E.suspense.unmount(_,A);return}J&&Un(E,null,C,"beforeUnmount"),z&64?E.type.remove(E,C,_,I,dr,A):k&&(N!==ht||$>0&&$&64)?Gt(k,C,_,!1,!0):(N===ht&&$&384||!I&&z&16)&&Gt(P,C,_),A&&Jc(E)}(ue&&(ge=L&&L.onVnodeUnmounted)||J)&&ut(()=>{ge&&xt(ge,C,E),J&&Un(E,null,C,"unmounted")},_)},Jc=E=>{const{type:C,el:_,anchor:A,transition:I}=E;if(C===ht){oE(_,A);return}if(C===Ma){F(E);return}const N=()=>{i(_),I&&!I.persisted&&I.afterLeave&&I.afterLeave()};if(E.shapeFlag&1&&I&&!I.persisted){const{leave:L,delayLeave:M}=I,P=()=>L(_,N);M?M(E.el,N,P):P()}else N()},oE=(E,C)=>{let _;for(;E!==C;)_=h(E),i(E),E=_;i(C)},aE=(E,C,_)=>{const{bum:A,scope:I,update:N,subTree:L,um:M}=E;A&&Fs(A),I.stop(),N&&(N.active=!1,hn(L,E,C,_)),M&&ut(M,C),ut(()=>{E.isUnmounted=!0},C),C&&C.pendingBranch&&!C.isUnmounted&&E.asyncDep&&!E.asyncResolved&&E.suspenseId===C.pendingId&&(C.deps--,C.deps===0&&C.resolve())},Gt=(E,C,_,A=!1,I=!1,N=0)=>{for(let L=N;L<E.length;L++)hn(E[L],C,_,A,I)},ms=E=>E.shapeFlag&6?ms(E.component.subTree):E.shapeFlag&128?E.suspense.next():h(E.anchor||E.el),ef=(E,C,_)=>{E==null?C._vnode&&hn(C._vnode,null,null,!0):m(C._vnode||null,E,C,null,null,null,_),df(),pp(),C._vnode=E},dr={p:m,um:hn,m:hr,r:Jc,mt:Ve,mc:le,pc:zt,pbc:_e,n:ms,o:t};let Ia,Aa;return e&&([Ia,Aa]=e(dr)),{render:ef,hydrate:Ia,createApp:$b(ef,Ia)}}function Hn({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Op(t,e,n=!1){const r=t.children,i=e.children;if(ee(r)&&ee(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=pn(i[s]),a.el=o.el),n||Op(o,a))}}function qb(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<u?s=a+1:o=a;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}const zb=t=>t.__isTeleport,ht=Symbol(void 0),Mu=Symbol(void 0),In=Symbol(void 0),Ma=Symbol(void 0),Ei=[];let Ct=null;function dt(t=!1){Ei.push(Ct=t?null:[])}function Gb(){Ei.pop(),Ct=Ei[Ei.length-1]||null}let Ni=1;function Sf(t){Ni+=t}function Pp(t){return t.dynamicChildren=Ni>0?Ct||Cr:null,Gb(),Ni>0&&Ct&&Ct.push(t),t}function Ut(t,e,n,r,i,s){return Pp(X(t,e,n,r,i,s,!0))}function Nu(t,e,n,r,i){return Pp(Oe(t,e,n,r,i,!0))}function eo(t){return t?t.__v_isVNode===!0:!1}function ci(t,e){return t.type===e.type&&t.key===e.key}const qo="__vInternal",Lp=({key:t})=>t!=null?t:null,Hs=({ref:t,ref_key:e,ref_for:n})=>t!=null?We(t)||ke(t)||re(t)?{i:et,r:t,k:e,f:!!n}:t:null;function X(t,e=null,n=null,r=0,i=null,s=t===ht?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Lp(e),ref:e&&Hs(e),scopeId:$o,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null};return a?(Ou(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=We(n)?8:16),Ni>0&&!o&&Ct&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Ct.push(l),l}const Oe=Kb;function Kb(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===Ib)&&(t=In),eo(t)){const a=Nr(t,e,!0);return n&&Ou(a,n),Ni>0&&!s&&Ct&&(a.shapeFlag&6?Ct[Ct.indexOf(t)]=a:Ct.push(a)),a.patchFlag|=-2,a}if(ow(t)&&(t=t.__vccOpts),e){e=Yb(e);let{class:a,style:l}=e;a&&!We(a)&&(e.class=gu(a)),Te(l)&&(op(l)&&!ee(l)&&(l=lt({},l)),e.style=pu(l))}const o=We(t)?1:fb(t)?128:zb(t)?64:Te(t)?4:re(t)?2:0;return X(t,e,n,r,i,o,s,!0)}function Yb(t){return t?op(t)||qo in t?lt({},t):t:null}function Nr(t,e,n=!1){const{props:r,ref:i,patchFlag:s,children:o}=t,a=e?Xb(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&Lp(a),ref:e&&e.ref?n&&i?ee(i)?i.concat(Hs(e)):[i,Hs(e)]:Hs(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ht?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Nr(t.ssContent),ssFallback:t.ssFallback&&Nr(t.ssFallback),el:t.el,anchor:t.anchor}}function yt(t=" ",e=0){return Oe(Mu,null,t,e)}function Qb(t="",e=!1){return e?(dt(),Nu(In,null,t)):Oe(In,null,t)}function Nt(t){return t==null||typeof t=="boolean"?Oe(In):ee(t)?Oe(ht,null,t.slice()):typeof t=="object"?pn(t):Oe(Mu,null,String(t))}function pn(t){return t.el===null||t.memo?t:Nr(t)}function Ou(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ee(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),Ou(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(qo in e)?e._ctx=et:i===3&&et&&(et.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else re(e)?(e={default:e,_ctx:et},n=32):(e=String(e),r&64?(n=16,e=[yt(e)]):n=8);t.children=e,t.shapeFlag|=n}function Xb(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=gu([e.class,r.class]));else if(i==="style")e.style=pu([e.style,r.style]);else if(Oo(i)){const s=e[i],o=r[i];o&&s!==o&&!(ee(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function xt(t,e,n,r=null){_t(t,e,7,[n,r])}const Zb=Np();let Jb=0;function ew(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||Zb,s={uid:Jb++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Gd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ap(r,i),emitsOptions:vp(r,i),emit:null,emitted:null,propsDefaults:me,inheritAttrs:r.inheritAttrs,ctx:me,data:me,props:me,attrs:me,slots:me,refs:me,setupState:me,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=ob.bind(null,s),t.ce&&t.ce(s),s}let $e=null;const Fp=()=>$e||et,Or=t=>{$e=t,t.scope.on()},Xn=()=>{$e&&$e.scope.off(),$e=null};function Up(t){return t.vnode.shapeFlag&4}let Oi=!1;function tw(t,e=!1){Oi=e;const{props:n,children:r}=t.vnode,i=Up(t);Lb(t,n,i,e),Hb(t,r);const s=i?nw(t,e):void 0;return Oi=!1,s}function nw(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Mr(new Proxy(t.ctx,kb));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?iw(t):null;Or(t),Yr();const s=bn(r,t,0,[t.props,i]);if(Qr(),Xn(),Wd(s)){if(s.then(Xn,Xn),e)return s.then(o=>{Tf(t,o,e)}).catch(o=>{Vo(o,t,0)});t.asyncDep=s}else Tf(t,s,e)}else Hp(t,e)}function Tf(t,e,n){re(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Te(e)&&(t.setupState=up(e)),Hp(t,n)}let _f;function Hp(t,e,n){const r=t.type;if(!t.render){if(!e&&_f&&!r.render){const i=r.template||ku(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=lt(lt({isCustomElement:s,delimiters:a},o),l);r.render=_f(i,u)}}t.render=r.render||Tt}Or(t),Yr(),xb(t),Qr(),Xn()}function rw(t){return new Proxy(t.attrs,{get(e,n){return pt(t,"get","$attrs"),e[n]}})}function iw(t){const e=r=>{t.exposed=r||{}};let n;return{get attrs(){return n||(n=rw(t))},slots:t.slots,emit:t.emit,expose:e}}function zo(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(up(Mr(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Zs)return Zs[n](t)}}))}function sw(t,e=!0){return re(t)?t.displayName||t.name:t.name||e&&t.__name}function ow(t){return re(t)&&"__vccOpts"in t}const tr=(t,e)=>eb(t,e,Oi);function Vp(t,e,n){const r=arguments.length;return r===2?Te(e)&&!ee(e)?eo(e)?Oe(t,null,[e]):Oe(t,e):Oe(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&eo(n)&&(n=[n]),Oe(t,e,n))}const aw="3.2.39",lw="http://www.w3.org/2000/svg",Wn=typeof document<"u"?document:null,Df=Wn&&Wn.createElement("template"),uw={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?Wn.createElementNS(lw,t):Wn.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Wn.createTextNode(t),createComment:t=>Wn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Wn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{Df.innerHTML=r?`<svg>${t}</svg>`:t;const a=Df.content;if(r){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function cw(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function fw(t,e,n){const r=t.style,i=We(n);if(n&&!i){for(const s in n)El(r,s,n[s]);if(e&&!We(e))for(const s in e)n[s]==null&&El(r,s,"")}else{const s=r.display;i?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=s)}}const Rf=/\s*!important$/;function El(t,e,n){if(ee(n))n.forEach(r=>El(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=hw(t,e);Rf.test(n)?t.setProperty(Kr(r),n.replace(Rf,""),"important"):t[r]=n}}const If=["Webkit","Moz","ms"],Na={};function hw(t,e){const n=Na[e];if(n)return n;let r=$t(e);if(r!=="filter"&&r in t)return Na[e]=r;r=Fo(r);for(let i=0;i<If.length;i++){const s=If[i]+r;if(s in t)return Na[e]=s}return e}const Af="http://www.w3.org/1999/xlink";function dw(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Af,e.slice(6,e.length)):t.setAttributeNS(Af,e,n);else{const s=uE(e);n==null||s&&!Bd(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function pw(t,e,n,r,i,s,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,i,s),t[e]=n==null?"":n;return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const l=n==null?"":n;(t.value!==l||t.tagName==="OPTION")&&(t.value=l),n==null&&t.removeAttribute(e);return}let a=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=Bd(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(e)}const[Bp,gw]=(()=>{let t=Date.now,e=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(t=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);e=!!(n&&Number(n[1])<=53)}return[t,e]})();let bl=0;const vw=Promise.resolve(),mw=()=>{bl=0},yw=()=>bl||(vw.then(mw),bl=Bp());function mr(t,e,n,r){t.addEventListener(e,n,r)}function Ew(t,e,n,r){t.removeEventListener(e,n,r)}function bw(t,e,n,r,i=null){const s=t._vei||(t._vei={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=ww(e);if(r){const u=s[e]=Cw(r,i);mr(t,a,u,l)}else o&&(Ew(t,a,o,l),s[e]=void 0)}}const kf=/(?:Once|Passive|Capture)$/;function ww(t){let e;if(kf.test(t)){e={};let r;for(;r=t.match(kf);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Kr(t.slice(2)),e]}function Cw(t,e){const n=r=>{const i=r.timeStamp||Bp();(gw||i>=n.attached-1)&&_t(Sw(r,n.value),e,5,[r])};return n.value=t,n.attached=yw(),n}function Sw(t,e){if(ee(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const xf=/^on[a-z]/,Tw=(t,e,n,r,i=!1,s,o,a,l)=>{e==="class"?cw(t,r,i):e==="style"?fw(t,n,r):Oo(e)?vu(e)||bw(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):_w(t,e,r,i))?pw(t,e,r,s,o,a,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),dw(t,e,r,i))};function _w(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&xf.test(e)&&re(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||xf.test(e)&&We(n)?!1:e in t}const Mf=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ee(e)?n=>Fs(e,n):e};function Dw(t){t.target.composing=!0}function Nf(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Rw={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t._assign=Mf(i);const s=r||i.props&&i.props.type==="number";mr(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=ll(a)),t._assign(a)}),n&&mr(t,"change",()=>{t.value=t.value.trim()}),e||(mr(t,"compositionstart",Dw),mr(t,"compositionend",Nf),mr(t,"change",Nf))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},s){if(t._assign=Mf(s),t.composing||document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===e||(i||t.type==="number")&&ll(t.value)===e))return;const o=e==null?"":e;t.value!==o&&(t.value=o)}},Iw=lt({patchProp:Tw},uw);let Of;function Aw(){return Of||(Of=jb(Iw))}const $p=(...t)=>{const e=Aw().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=kw(r);if(!i)return;const s=e._component;!re(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function kw(t){return We(t)?document.querySelector(t):t}var wl=function(t,e){return wl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},wl(t,e)};function B(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");wl(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var w=function(){return w=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},w.apply(this,arguments)};function Re(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Go,K,jp,bi,Pf,Wp,to={},qp=[],xw=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function gn(t,e){for(var n in e)t[n]=e[n];return t}function zp(t){var e=t.parentNode;e&&e.removeChild(t)}function An(t,e,n){var r,i,s,o={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?Go.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return Vs(t,o,r,i,null)}function Vs(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++jp:i};return i==null&&K.vnode!=null&&K.vnode(s),s}function Mw(){return{current:null}}function nr(t){return t.children}function Dt(t,e){this.props=t,this.context=e}function Pr(t,e){if(e==null)return t.__?Pr(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Pr(t):null}function Gp(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return Gp(t)}}function Cl(t){(!t.__d&&(t.__d=!0)&&bi.push(t)&&!no.__r++||Pf!==K.debounceRendering)&&((Pf=K.debounceRendering)||setTimeout)(no)}function no(){for(var t;no.__r=bi.length;)t=bi.sort(function(e,n){return e.__v.__b-n.__v.__b}),bi=[],t.some(function(e){var n,r,i,s,o,a;e.__d&&(o=(s=(n=e).__v).__e,(a=n.__P)&&(r=[],(i=gn({},s)).__v=s.__v+1,Pu(a,s,i,n.__n,a.ownerSVGElement!==void 0,s.__h!=null?[o]:null,r,o==null?Pr(s):o,s.__h),Xp(r,s),s.__e!=o&&Gp(s)))})}function Kp(t,e,n,r,i,s,o,a,l,u){var c,f,h,d,p,g,m,v=r&&r.__k||qp,b=v.length;for(n.__k=[],c=0;c<e.length;c++)if((d=n.__k[c]=(d=e[c])==null||typeof d=="boolean"?null:typeof d=="string"||typeof d=="number"||typeof d=="bigint"?Vs(null,d,null,null,d):Array.isArray(d)?Vs(nr,{children:d},null,null,null):d.__b>0?Vs(d.type,d.props,d.key,null,d.__v):d)!=null){if(d.__=n,d.__b=n.__b+1,(h=v[c])===null||h&&d.key==h.key&&d.type===h.type)v[c]=void 0;else for(f=0;f<b;f++){if((h=v[f])&&d.key==h.key&&d.type===h.type){v[f]=void 0;break}h=null}Pu(t,d,h=h||to,i,s,o,a,l,u),p=d.__e,(f=d.ref)&&h.ref!=f&&(m||(m=[]),h.ref&&m.push(h.ref,null,d),m.push(f,d.__c||p,d)),p!=null?(g==null&&(g=p),typeof d.type=="function"&&d.__k===h.__k?d.__d=l=Yp(d,l,t):l=Qp(t,d,h,v,p,l),typeof n.type=="function"&&(n.__d=l)):l&&h.__e==l&&l.parentNode!=t&&(l=Pr(h))}for(n.__e=g,c=b;c--;)v[c]!=null&&(typeof n.type=="function"&&v[c].__e!=null&&v[c].__e==n.__d&&(n.__d=Pr(r,c+1)),Jp(v[c],v[c]));if(m)for(c=0;c<m.length;c++)Zp(m[c],m[++c],m[++c])}function Yp(t,e,n){for(var r,i=t.__k,s=0;i&&s<i.length;s++)(r=i[s])&&(r.__=t,e=typeof r.type=="function"?Yp(r,e,n):Qp(n,r,r,i,r.__e,e));return e}function ro(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){ro(n,e)}):e.push(t)),e}function Qp(t,e,n,r,i,s){var o,a,l;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(n==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(i),o=null;else{for(a=s,l=0;(a=a.nextSibling)&&l<r.length;l+=2)if(a==i)break e;t.insertBefore(i,s),o=s}return o!==void 0?o:i.nextSibling}function Nw(t,e,n,r,i){var s;for(s in n)s==="children"||s==="key"||s in e||io(t,s,null,n[s],r);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||n[s]===e[s]||io(t,s,e[s],n[s],r)}function Lf(t,e,n){e[0]==="-"?t.setProperty(e,n):t[e]=n==null?"":typeof n!="number"||xw.test(e)?n:n+"px"}function io(t,e,n,r,i){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||Lf(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||Lf(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r||t.addEventListener(e,s?Uf:Ff,s):t.removeEventListener(e,s?Uf:Ff,s);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n==null?"":n;break e}catch{}typeof n=="function"||(n!=null&&(n!==!1||e[0]==="a"&&e[1]==="r")?t.setAttribute(e,n):t.removeAttribute(e))}}function Ff(t){this.l[t.type+!1](K.event?K.event(t):t)}function Uf(t){this.l[t.type+!0](K.event?K.event(t):t)}function Pu(t,e,n,r,i,s,o,a,l){var u,c,f,h,d,p,g,m,v,b,T,D,F,V=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(l=n.__h,a=e.__e=n.__e,e.__h=null,s=[a]),(u=K.__b)&&u(e);try{e:if(typeof V=="function"){if(m=e.props,v=(u=V.contextType)&&r[u.__c],b=u?v?v.props.value:u.__:r,n.__c?g=(c=e.__c=n.__c).__=c.__E:("prototype"in V&&V.prototype.render?e.__c=c=new V(m,b):(e.__c=c=new Dt(m,b),c.constructor=V,c.render=Pw),v&&v.sub(c),c.props=m,c.state||(c.state={}),c.context=b,c.__n=r,f=c.__d=!0,c.__h=[]),c.__s==null&&(c.__s=c.state),V.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=gn({},c.__s)),gn(c.__s,V.getDerivedStateFromProps(m,c.__s))),h=c.props,d=c.state,f)V.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(V.getDerivedStateFromProps==null&&m!==h&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(m,b),!c.__e&&c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(m,c.__s,b)===!1||e.__v===n.__v){c.props=m,c.state=c.__s,e.__v!==n.__v&&(c.__d=!1),c.__v=e,e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(U){U&&(U.__=e)}),c.__h.length&&o.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(m,c.__s,b),c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(h,d,p)})}if(c.context=b,c.props=m,c.__v=e,c.__P=t,T=K.__r,D=0,"prototype"in V&&V.prototype.render)c.state=c.__s,c.__d=!1,T&&T(e),u=c.render(c.props,c.state,c.context);else do c.__d=!1,T&&T(e),u=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++D<25);c.state=c.__s,c.getChildContext!=null&&(r=gn(gn({},r),c.getChildContext())),f||c.getSnapshotBeforeUpdate==null||(p=c.getSnapshotBeforeUpdate(h,d)),F=u!=null&&u.type===nr&&u.key==null?u.props.children:u,Kp(t,Array.isArray(F)?F:[F],e,n,r,i,s,o,a,l),c.base=e.__e,e.__h=null,c.__h.length&&o.push(c),g&&(c.__E=c.__=null),c.__e=!1}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Ow(n.__e,e,n,r,i,s,o,l);(u=K.diffed)&&u(e)}catch(U){e.__v=null,(l||s!=null)&&(e.__e=a,e.__h=!!l,s[s.indexOf(a)]=null),K.__e(U,e,n)}}function Xp(t,e){K.__c&&K.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){K.__e(r,n.__v)}})}function Ow(t,e,n,r,i,s,o,a){var l,u,c,f=n.props,h=e.props,d=e.type,p=0;if(d==="svg"&&(i=!0),s!=null){for(;p<s.length;p++)if((l=s[p])&&"setAttribute"in l==!!d&&(d?l.localName===d:l.nodeType===3)){t=l,s[p]=null;break}}if(t==null){if(d===null)return document.createTextNode(h);t=i?document.createElementNS("http://www.w3.org/2000/svg",d):document.createElement(d,h.is&&h),s=null,a=!1}if(d===null)f===h||a&&t.data===h||(t.data=h);else{if(s=s&&Go.call(t.childNodes),u=(f=n.props||to).dangerouslySetInnerHTML,c=h.dangerouslySetInnerHTML,!a){if(s!=null)for(f={},p=0;p<t.attributes.length;p++)f[t.attributes[p].name]=t.attributes[p].value;(c||u)&&(c&&(u&&c.__html==u.__html||c.__html===t.innerHTML)||(t.innerHTML=c&&c.__html||""))}if(Nw(t,h,f,i,a),c)e.__k=[];else if(p=e.props.children,Kp(t,Array.isArray(p)?p:[p],e,n,r,i&&d!=="foreignObject",s,o,s?s[0]:n.__k&&Pr(n,0),a),s!=null)for(p=s.length;p--;)s[p]!=null&&zp(s[p]);a||("value"in h&&(p=h.value)!==void 0&&(p!==t.value||d==="progress"&&!p||d==="option"&&p!==f.value)&&io(t,"value",p,f.value,!1),"checked"in h&&(p=h.checked)!==void 0&&p!==t.checked&&io(t,"checked",p,f.checked,!1))}return t}function Zp(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){K.__e(r,n)}}function Jp(t,e,n){var r,i;if(K.unmount&&K.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||Zp(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){K.__e(s,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&Jp(r[i],e,typeof t.type!="function");n||t.__e==null||zp(t.__e),t.__e=t.__d=void 0}function Pw(t,e,n){return this.constructor(t,n)}function Pi(t,e,n){var r,i,s;K.__&&K.__(t,e),i=(r=typeof n=="function")?null:n&&n.__k||e.__k,s=[],Pu(e,t=(!r&&n||e).__k=An(nr,null,[t]),i||to,to,e.ownerSVGElement!==void 0,!r&&n?[n]:i?null:e.firstChild?Go.call(e.childNodes):null,s,!r&&n?n:i?i.__e:e.firstChild,r),Xp(s,t)}function Lw(t,e){var n={__c:e="__cC"+Wp++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(Cl)},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}Go=qp.slice,K={__e:function(t,e,n,r){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},jp=0,Dt.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=gn({},this.state),typeof t=="function"&&(t=t(gn({},n),this.props)),t&&gn(n,t),t!=null&&this.__v&&(e&&this.__h.push(e),Cl(this))},Dt.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Cl(this))},Dt.prototype.render=nr,bi=[],no.__r=0,Wp=0;var Ot,Oa,Hf,eg=[],Pa=[],Vf=K.__b,Bf=K.__r,$f=K.diffed,jf=K.__c,Wf=K.unmount;function Fw(){for(var t;t=eg.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Bs),t.__H.__h.forEach(Sl),t.__H.__h=[]}catch(e){t.__H.__h=[],K.__e(e,t.__v)}}K.__b=function(t){Ot=null,Vf&&Vf(t)},K.__r=function(t){Bf&&Bf(t);var e=(Ot=t.__c).__H;e&&(Oa===Ot?(e.__h=[],Ot.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=Pa,n.__N=n.i=void 0})):(e.__h.forEach(Bs),e.__h.forEach(Sl),e.__h=[])),Oa=Ot},K.diffed=function(t){$f&&$f(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(eg.push(e)!==1&&Hf===K.requestAnimationFrame||((Hf=K.requestAnimationFrame)||function(n){var r,i=function(){clearTimeout(s),qf&&cancelAnimationFrame(r),setTimeout(n)},s=setTimeout(i,100);qf&&(r=requestAnimationFrame(i))})(Fw)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==Pa&&(n.__=n.__V),n.i=void 0,n.__V=Pa})),Oa=Ot=null},K.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Bs),n.__h=n.__h.filter(function(r){return!r.__||Sl(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],K.__e(r,n.__v)}}),jf&&jf(t,e)},K.unmount=function(t){Wf&&Wf(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Bs(r)}catch(i){e=i}}),e&&K.__e(e,n.__v))};var qf=typeof requestAnimationFrame=="function";function Bs(t){var e=Ot,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),Ot=e}function Sl(t){var e=Ot;t.__c=t.__(),Ot=e}function Uw(t,e){for(var n in e)t[n]=e[n];return t}function zf(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function Gf(t){this.props=t}(Gf.prototype=new Dt).isPureReactComponent=!0,Gf.prototype.shouldComponentUpdate=function(t,e){return zf(this.props,t)||zf(this.state,e)};var Kf=K.__b;K.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),Kf&&Kf(t)};var Hw=K.__e;K.__e=function(t,e,n,r){if(t.then){for(var i,s=e;s=s.__;)if((i=s.__c)&&i.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),i.__c(t,e)}Hw(t,e,n,r)};var Yf=K.unmount;function La(){this.__u=0,this.t=null,this.__b=null}function tg(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function Ss(){this.u=null,this.o=null}K.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),Yf&&Yf(t)},(La.prototype=new Dt).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var i=tg(r.__v),s=!1,o=function(){s||(s=!0,n.__R=null,i?i(a):a())};n.__R=o;var a=function(){if(!--r.__u){if(r.state.__a){var u=r.state.__a;r.__v.__k[0]=function f(h,d,p){return h&&(h.__v=null,h.__k=h.__k&&h.__k.map(function(g){return f(g,d,p)}),h.__c&&h.__c.__P===d&&(h.__e&&p.insertBefore(h.__e,h.__d),h.__c.__e=!0,h.__c.__P=p)),h}(u,u.__c.__P,u.__c.__O)}var c;for(r.setState({__a:r.__b=null});c=r.t.pop();)c.forceUpdate()}},l=e.__h===!0;r.__u++||l||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(o,o)},La.prototype.componentWillUnmount=function(){this.t=[]},La.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=function s(o,a,l){return o&&(o.__c&&o.__c.__H&&(o.__c.__H.__.forEach(function(u){typeof u.__c=="function"&&u.__c()}),o.__c.__H=null),(o=Uw({},o)).__c!=null&&(o.__c.__P===l&&(o.__c.__P=a),o.__c=null),o.__k=o.__k&&o.__k.map(function(u){return s(u,a,l)})),o}(this.__b,n,r.__O=r.__P)}this.__b=null}var i=e.__a&&An(nr,null,t.fallback);return i&&(i.__h=null),[An(nr,null,e.__a?null:t.children),i]};var Qf=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function Vw(t){return this.getChildContext=function(){return t.context},t.children}function Bw(t){var e=this,n=t.i;e.componentWillUnmount=function(){Pi(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),Pi(An(Vw,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function $w(t,e){var n=An(Bw,{__v:t,i:e});return n.containerInfo=e,n}(Ss.prototype=new Dt).__a=function(t){var e=this,n=tg(e.__v),r=e.o.get(t);return r[0]++,function(i){var s=function(){e.props.revealOrder?(r.push(i),Qf(e,t,r)):i()};n?n(s):s()}},Ss.prototype.render=function(t){this.u=null,this.o=new Map;var e=ro(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},Ss.prototype.componentDidUpdate=Ss.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){Qf(t,n,e)})};var jw=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Ww=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,qw=typeof document<"u",zw=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};Dt.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Dt.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var Xf=K.event;function Gw(){}function Kw(){return this.cancelBubble}function Yw(){return this.defaultPrevented}K.event=function(t){return Xf&&(t=Xf(t)),t.persist=Gw,t.isPropagationStopped=Kw,t.isDefaultPrevented=Yw,t.nativeEvent=t};var Zf={configurable:!0,get:function(){return this.class}},Jf=K.vnode;K.vnode=function(t){var e=t.type,n=t.props,r=n;if(typeof e=="string"){var i=e.indexOf("-")===-1;for(var s in r={},n){var o=n[s];qw&&s==="children"&&e==="noscript"||s==="value"&&"defaultValue"in n&&o==null||(s==="defaultValue"&&"value"in n&&n.value==null?s="value":s==="download"&&o===!0?o="":/ondoubleclick/i.test(s)?s="ondblclick":/^onchange(textarea|input)/i.test(s+e)&&!zw(n.type)?s="oninput":/^onfocus$/i.test(s)?s="onfocusin":/^onblur$/i.test(s)?s="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(s)?s=s.toLowerCase():i&&Ww.test(s)?s=s.replace(/[A-Z0-9]/g,"-$&").toLowerCase():o===null&&(o=void 0),/^oninput$/i.test(s)&&(s=s.toLowerCase(),r[s]&&(s="oninputCapture")),r[s]=o)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=ro(n.children).forEach(function(a){a.props.selected=r.value.indexOf(a.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=ro(n.children).forEach(function(a){a.props.selected=r.multiple?r.defaultValue.indexOf(a.props.value)!=-1:r.defaultValue==a.props.value})),t.props=r,n.class!=n.className&&(Zf.enumerable="className"in n,n.className!=null&&(r.class=n.className),Object.defineProperty(r,"className",Zf))}t.$$typeof=jw,Jf&&Jf(t)};var eh=K.__r;K.__r=function(t){eh&&eh(t),t.__c};var th=typeof globalThis<"u"?globalThis:window;th.FullCalendarVDom?console.warn("FullCalendar VDOM already loaded"):th.FullCalendarVDom={Component:Dt,createElement:An,render:Pi,createRef:Mw,Fragment:nr,createContext:Zw,createPortal:$w,flushSync:Qw,unmountComponentAtNode:Jw};function Qw(t){t();var e=K.debounceRendering,n=[];function r(i){n.push(i)}for(K.debounceRendering=r,Pi(An(Xw,{}),document.createElement("div"));n.length;)n.shift()();K.debounceRendering=e}var Xw=function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){return An("div",{})},e.prototype.componentDidMount=function(){this.setState({})},e}(Dt);function Zw(t){var e=Lw(t),n=e.Provider;return e.Provider=function(){var r=this,i=!this.getChildContext,s=n.apply(this,arguments);if(i){var o=[];this.shouldComponentUpdate=function(a){r.props.value!==a.value&&o.forEach(function(l){l.context=a.value,l.forceUpdate()})},this.sub=function(a){o.push(a);var l=a.componentWillUnmount;a.componentWillUnmount=function(){o.splice(o.indexOf(a),1),l&&l.call(a)}}}return s},e}function Jw(t){Pi(null,t)}if(typeof FullCalendarVDom>"u")throw new Error("Please import the top-level fullcalendar lib before attempting to import a plugin.");var Lu=FullCalendarVDom.Component,y=FullCalendarVDom.createElement,eC=FullCalendarVDom.render,Pe=FullCalendarVDom.createRef,je=FullCalendarVDom.Fragment,ng=FullCalendarVDom.createContext,tC=FullCalendarVDom.createPortal,nh=FullCalendarVDom.flushSync,nC=FullCalendarVDom.unmountComponentAtNode;/*!
FullCalendar v5.11.3
Docs & License: https://fullcalendar.io/
(c) 2022 Adam Shaw
*/var yr=function(){function t(e,n){this.context=e,this.internalEventSource=n}return t.prototype.remove=function(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})},t.prototype.refetch=function(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})},Object.defineProperty(t.prototype,"id",{get:function(){return this.internalEventSource.publicId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this.internalEventSource.meta.url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this.internalEventSource.meta.format},enumerable:!1,configurable:!0}),t}();function rC(t){t.parentNode&&t.parentNode.removeChild(t)}function Qt(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(iC(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function iC(t,e){var n=t.matches||t.matchesSelector||t.msMatchesSelector;return n.call(t,e)}function sC(t,e){for(var n=t instanceof HTMLElement?[t]:t,r=[],i=0;i<n.length;i+=1)for(var s=n[i].querySelectorAll(e),o=0;o<s.length;o+=1)r.push(s[o]);return r}var oC=/(top|left|right|bottom|width|height)$/i;function aC(t,e){for(var n in e)rg(t,n,e[n])}function rg(t,e,n){n==null?t.style[e]="":typeof n=="number"&&oC.test(e)?t.style[e]=n+"px":t.style[e]=n}function lC(t){var e,n;return(n=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&n!==void 0?n:t.target}var rh=0;function Ko(){return rh+=1,"fc-dom-"+rh}function uC(t,e){return function(n){var r=Qt(n.target,t);r&&e.call(r,n,r)}}function ig(t,e,n,r){var i=uC(n,r);return t.addEventListener(e,i),function(){t.removeEventListener(e,i)}}function cC(t,e,n,r){var i;return ig(t,"mouseover",e,function(s,o){if(o!==i){i=o,n(s,o);var a=function(l){i=null,r(l,o),o.removeEventListener("mouseleave",a)};o.addEventListener("mouseleave",a)}})}function sg(t){return w({onClick:t},og(t))}function og(t){return{tabIndex:0,onKeyDown:function(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}var ih=0;function Zr(){return ih+=1,String(ih)}function fC(t){var e=[],n=[],r,i;for(typeof t=="string"?n=t.split(/\s*,\s*/):typeof t=="function"?n=[t]:Array.isArray(t)&&(n=t),r=0;r<n.length;r+=1)i=n[r],typeof i=="string"?e.push(i.charAt(0)==="-"?{field:i.substring(1),order:-1}:{field:i,order:1}):typeof i=="function"&&e.push({func:i});return e}function hC(t,e,n){var r,i;for(r=0;r<n.length;r+=1)if(i=dC(t,e,n[r]),i)return i;return 0}function dC(t,e,n){return n.func?n.func(t,e):pC(t[n.field],e[n.field])*(n.order||1)}function pC(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function _r(t,e){var n=String(t);return"000".substr(0,e-n.length)+n}function wi(t,e,n){return typeof t=="function"?t.apply(void 0,e):typeof t=="string"?e.reduce(function(r,i,s){return r.replace("$"+s,i||"")},t):n}function $s(t){return t%1===0}function gC(t){var e=t.querySelector(".fc-scrollgrid-shrink-frame"),n=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+n.getBoundingClientRect().width}var vC=["sun","mon","tue","wed","thu","fri","sat"];function sh(t,e){var n=vn(t);return n[2]+=e*7,ct(n)}function at(t,e){var n=vn(t);return n[2]+=e,ct(n)}function rr(t,e){var n=vn(t);return n[6]+=e,ct(n)}function mC(t,e){return lr(t,e)/7}function lr(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function yC(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function EC(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function bC(t,e){return(e.valueOf()-t.valueOf())/1e3}function wC(t,e){var n=Ce(t),r=Ce(e);return{years:0,months:0,days:Math.round(lr(n,r)),milliseconds:e.valueOf()-r.valueOf()-(t.valueOf()-n.valueOf())}}function CC(t,e){var n=so(t,e);return n!==null&&n%7===0?n/7:null}function so(t,e){return mn(t)===mn(e)?Math.round(lr(t,e)):null}function Ce(t){return ct([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function SC(t){return ct([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function TC(t){return ct([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function _C(t){return ct([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function DC(t,e,n){var r=t.getUTCFullYear(),i=Fa(t,r,e,n);if(i<1)return Fa(t,r-1,e,n);var s=Fa(t,r+1,e,n);return s>=1?Math.min(i,s):i}function Fa(t,e,n,r){var i=ct([e,0,1+RC(e,n,r)]),s=Ce(t),o=Math.round(lr(i,s));return Math.floor(o/7)+1}function RC(t,e,n){var r=7+e-n,i=(7+ct([t,0,r]).getUTCDay()-e)%7;return-i+r-1}function oh(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function ah(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function vn(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function ct(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC.apply(Date,t))}function ag(t){return!isNaN(t.valueOf())}function mn(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function Fu(t,e,n,r){return{instanceId:Zr(),defId:t,range:e,forcedStartTzo:n==null?null:n,forcedEndTzo:r==null?null:r}}var oo=Object.prototype.hasOwnProperty;function Uu(t,e){var n={};if(e)for(var r in e){for(var i=[],s=t.length-1;s>=0;s-=1){var o=t[s][r];if(typeof o=="object"&&o)i.unshift(o);else if(o!==void 0){n[r]=o;break}}i.length&&(n[r]=Uu(i))}for(var s=t.length-1;s>=0;s-=1){var a=t[s];for(var l in a)l in n||(n[l]=a[l])}return n}function Lr(t,e){var n={};for(var r in t)e(t[r],r)&&(n[r]=t[r]);return n}function ir(t,e){var n={};for(var r in t)n[r]=e(t[r],r);return n}function lg(t){for(var e={},n=0,r=t;n<r.length;n++){var i=r[n];e[i]=!0}return e}function Hu(t){var e=[];for(var n in t)e.push(t[n]);return e}function tn(t,e){if(t===e)return!0;for(var n in t)if(oo.call(t,n)&&!(n in e))return!1;for(var n in e)if(oo.call(e,n)&&t[n]!==e[n])return!1;return!0}function lh(t,e){var n=[];for(var r in t)oo.call(t,r)&&(r in e||n.push(r));for(var r in e)oo.call(e,r)&&t[r]!==e[r]&&n.push(r);return n}function Ua(t,e,n){if(n===void 0&&(n={}),t===e)return!0;for(var r in e)if(!(r in t&&IC(t[r],e[r],n[r])))return!1;for(var r in t)if(!(r in e))return!1;return!0}function IC(t,e,n){return t===e||n===!0?!0:n?n(t,e):!1}function AC(t,e,n,r){e===void 0&&(e=0),r===void 0&&(r=1);var i=[];n==null&&(n=Object.keys(t).length);for(var s=e;s<n;s+=r){var o=t[s];o!==void 0&&i.push(o)}return i}function kC(t,e,n,r){for(var i=0;i<r.length;i+=1){var s=r[i].parse(t,n);if(s){var o=t.allDay;return o==null&&(o=e,o==null&&(o=s.allDayGuess,o==null&&(o=!1))),{allDay:o,duration:s.duration,typeData:s.typeData,typeId:i}}}return null}function Yo(t,e,n){var r=n.dateEnv,i=n.pluginHooks,s=n.options,o=t.defs,a=t.instances;a=Lr(a,function(m){return!o[m.defId].recurringDef});for(var l in o){var u=o[l];if(u.recurringDef){var c=u.recurringDef.duration;c||(c=u.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration);for(var f=xC(u,c,e,r,i.recurringTypes),h=0,d=f;h<d.length;h++){var p=d[h],g=Fu(l,{start:p,end:r.add(p,c)});a[g.instanceId]=g}}}return{defs:o,instances:a}}function xC(t,e,n,r,i){var s=i[t.recurringDef.typeId],o=s.expand(t.recurringDef.typeData,{start:r.subtract(n.start,e),end:n.end},r);return t.allDay&&(o=o.map(Ce)),o}var uh=["years","months","days","milliseconds"],MC=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function ce(t,e){var n;return typeof t=="string"?NC(t):typeof t=="object"&&t?ch(t):typeof t=="number"?ch((n={},n[e||"milliseconds"]=t,n)):null}function NC(t){var e=MC.exec(t);if(e){var n=e[1]?-1:1;return{years:0,months:0,days:n*(e[2]?parseInt(e[2],10):0),milliseconds:n*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function ch(t){var e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},n=t.weeks||t.week;return n&&(e.days+=n*7,e.specifiedWeeks=!0),e}function OC(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function Tl(t,e){return{years:t.years+e.years,months:t.months+e.months,days:t.days+e.days,milliseconds:t.milliseconds+e.milliseconds}}function PC(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function LC(t,e){return{years:t.years*e,months:t.months*e,days:t.days*e,milliseconds:t.milliseconds*e}}function FC(t){return Dr(t)/365}function UC(t){return Dr(t)/30}function Dr(t){return St(t)/864e5}function St(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function Vu(t,e){for(var n=null,r=0;r<uh.length;r+=1){var i=uh[r];if(e[i]){var s=t[i]/e[i];if(!$s(s)||n!==null&&n!==s)return null;n=s}else if(t[i])return null}return n}function _l(t){var e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function ug(t,e,n){n===void 0&&(n=!1);var r=t.toISOString();return r=r.replace(".000",""),n&&(r=r.replace("T00:00:00Z","")),r.length>10&&(e==null?r=r.replace("Z",""):e!==0&&(r=r.replace("Z",Bu(e,!0)))),r}function cg(t){return t.toISOString().replace(/T.*$/,"")}function HC(t){return _r(t.getUTCHours(),2)+":"+_r(t.getUTCMinutes(),2)+":"+_r(t.getUTCSeconds(),2)}function Bu(t,e){e===void 0&&(e=!1);var n=t<0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=Math.round(r%60);return e?n+_r(i,2)+":"+_r(s,2):"GMT"+n+i+(s?":"+_r(s,2):"")}function Fr(t,e,n){if(t===e)return!0;var r=t.length,i;if(r!==e.length)return!1;for(i=0;i<r;i+=1)if(!(n?n(t[i],e[i]):t[i]===e[i]))return!1;return!0}function Y(t,e,n){var r,i;return function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];if(!r)i=t.apply(this,s);else if(!Fr(r,s)){n&&n(i);var a=t.apply(this,s);(!e||!e(a,i))&&(i=a)}return r=s,i}}function js(t,e,n){var r=this,i,s;return function(o){if(!i)s=t.call(r,o);else if(!tn(i,o)){n&&n(s);var a=t.call(r,o);(!e||!e(a,s))&&(s=a)}return i=o,s}}var fh={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},ao={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Ts=/\s*([ap])\.?m\.?/i,VC=/,/g,BC=/\s+/g,$C=/\u200e/g,jC=/UTC|GMT/,WC=function(){function t(e){var n={},r={},i=0;for(var s in e)s in fh?(r[s]=e[s],i=Math.max(fh[s],i)):(n[s]=e[s],s in ao&&(i=Math.max(ao[s],i)));this.standardDateProps=n,this.extendedSettings=r,this.severity=i,this.buildFormattingFunc=Y(hh)}return t.prototype.format=function(e,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(e)},t.prototype.formatRange=function(e,n,r,i){var s=this,o=s.standardDateProps,a=s.extendedSettings,l=QC(e.marker,n.marker,r.calendarSystem);if(!l)return this.format(e,r);var u=l;u>1&&(o.year==="numeric"||o.year==="2-digit")&&(o.month==="numeric"||o.month==="2-digit")&&(o.day==="numeric"||o.day==="2-digit")&&(u=1);var c=this.format(e,r),f=this.format(n,r);if(c===f)return c;var h=XC(o,u),d=hh(h,a,r),p=d(e),g=d(n),m=ZC(c,p,f,g),v=a.separator||i||r.defaultSeparator||"";return m?m.before+p+v+g+m.after:c+v+f},t.prototype.getLargestUnit=function(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}},t}();function hh(t,e,n){var r=Object.keys(t).length;return r===1&&t.timeZoneName==="short"?function(i){return Bu(i.timeZoneOffset)}:r===0&&e.week?function(i){return YC(n.computeWeekNumber(i.marker),n.weekText,n.weekTextLong,n.locale,e.week)}:qC(t,e,n)}function qC(t,e,n){t=w({},t),e=w({},e),zC(t,e),t.timeZone="UTC";var r=new Intl.DateTimeFormat(n.locale.codes,t),i;if(e.omitZeroMinute){var s=w({},t);delete s.minute,i=new Intl.DateTimeFormat(n.locale.codes,s)}return function(o){var a=o.marker,l;i&&!a.getUTCMinutes()?l=i:l=r;var u=l.format(a);return GC(u,o,t,e,n)}}function zC(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function GC(t,e,n,r,i){return t=t.replace($C,""),n.timeZoneName==="short"&&(t=KC(t,i.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":Bu(e.timeZoneOffset))),r.omitCommas&&(t=t.replace(VC,"").trim()),r.omitZeroMinute&&(t=t.replace(":00","")),r.meridiem===!1?t=t.replace(Ts,"").trim():r.meridiem==="narrow"?t=t.replace(Ts,function(s,o){return o.toLocaleLowerCase()}):r.meridiem==="short"?t=t.replace(Ts,function(s,o){return o.toLocaleLowerCase()+"m"}):r.meridiem==="lowercase"&&(t=t.replace(Ts,function(s){return s.toLocaleLowerCase()})),t=t.replace(BC," "),t=t.trim(),t}function KC(t,e){var n=!1;return t=t.replace(jC,function(){return n=!0,e}),n||(t+=" "+e),t}function YC(t,e,n,r,i){var s=[];return i==="long"?s.push(n):(i==="short"||i==="narrow")&&s.push(e),(i==="long"||i==="short")&&s.push(" "),s.push(r.simpleNumberFormat.format(t)),r.options.direction==="rtl"&&s.reverse(),s.join("")}function QC(t,e,n){return n.getMarkerYear(t)!==n.getMarkerYear(e)?5:n.getMarkerMonth(t)!==n.getMarkerMonth(e)?4:n.getMarkerDay(t)!==n.getMarkerDay(e)?2:mn(t)!==mn(e)?1:0}function XC(t,e){var n={};for(var r in t)(!(r in ao)||ao[r]<=e)&&(n[r]=t[r]);return n}function ZC(t,e,n,r){for(var i=0;i<t.length;){var s=t.indexOf(e,i);if(s===-1)break;var o=t.substr(0,s);i=s+e.length;for(var a=t.substr(i),l=0;l<n.length;){var u=n.indexOf(r,l);if(u===-1)break;var c=n.substr(0,u);l=u+r.length;var f=n.substr(l);if(o===c&&a===f)return{before:o,after:a}}}return null}function dh(t,e){var n=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function lo(t,e,n,r){var i=dh(t,n.calendarSystem),s=e?dh(e,n.calendarSystem):null;return{date:i,start:i,end:s,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}var JC=function(){function t(e){this.cmdStr=e}return t.prototype.format=function(e,n,r){return n.cmdFormatter(this.cmdStr,lo(e,null,n,r))},t.prototype.formatRange=function(e,n,r,i){return r.cmdFormatter(this.cmdStr,lo(e,n,r,i))},t}(),eS=function(){function t(e){this.func=e}return t.prototype.format=function(e,n,r){return this.func(lo(e,null,n,r))},t.prototype.formatRange=function(e,n,r,i){return this.func(lo(e,n,r,i))},t}();function Ie(t){return typeof t=="object"&&t?new WC(t):typeof t=="string"?new JC(t):typeof t=="function"?new eS(t):null}var ph={navLinkDayClick:S,navLinkWeekClick:S,duration:ce,bootstrapFontAwesome:S,buttonIcons:S,customButtons:S,defaultAllDayEventDuration:ce,defaultTimedEventDuration:ce,nextDayThreshold:ce,scrollTime:ce,scrollTimeReset:Boolean,slotMinTime:ce,slotMaxTime:ce,dayPopoverFormat:Ie,slotDuration:ce,snapDuration:ce,headerToolbar:S,footerToolbar:S,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Ie,dayHeaderClassNames:S,dayHeaderContent:S,dayHeaderDidMount:S,dayHeaderWillUnmount:S,dayCellClassNames:S,dayCellContent:S,dayCellDidMount:S,dayCellWillUnmount:S,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:S,weekNumbers:Boolean,weekNumberClassNames:S,weekNumberContent:S,weekNumberDidMount:S,weekNumberWillUnmount:S,editable:Boolean,viewClassNames:S,viewDidMount:S,viewWillUnmount:S,nowIndicator:Boolean,nowIndicatorClassNames:S,nowIndicatorContent:S,nowIndicatorDidMount:S,nowIndicatorWillUnmount:S,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:S,locale:S,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:S,eventOrder:fC,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:S,contentHeight:S,direction:String,weekNumberFormat:Ie,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:S,initialDate:S,now:S,eventDataTransform:S,stickyHeaderDates:S,stickyFooterScrollbar:S,viewHeight:S,defaultAllDay:Boolean,eventSourceFailure:S,eventSourceSuccess:S,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:S,eventConstraint:S,eventAllow:S,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:S,eventContent:S,eventDidMount:S,eventWillUnmount:S,selectConstraint:S,selectOverlap:S,selectAllow:S,droppable:Boolean,unselectCancel:String,slotLabelFormat:S,slotLaneClassNames:S,slotLaneContent:S,slotLaneDidMount:S,slotLaneWillUnmount:S,slotLabelClassNames:S,slotLabelContent:S,slotLabelDidMount:S,slotLabelWillUnmount:S,dayMaxEvents:S,dayMaxEventRows:S,dayMinWidth:Number,slotLabelInterval:ce,allDayText:String,allDayClassNames:S,allDayContent:S,allDayDidMount:S,allDayWillUnmount:S,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Ie,rerenderDelay:Number,moreLinkText:S,moreLinkHint:S,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:S,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:ce,hiddenDays:S,monthMode:Boolean,fixedWeekCount:Boolean,validRange:S,visibleRange:S,titleFormat:S,eventInteractive:Boolean,noEventsText:String,viewHint:S,navLinkHint:S,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:S,moreLinkClassNames:S,moreLinkContent:S,moreLinkDidMount:S,moreLinkWillUnmount:S},Ci={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" \u2013 ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30},gh={datesSet:S,eventsSet:S,eventAdd:S,eventChange:S,eventRemove:S,windowResize:S,eventClick:S,eventMouseEnter:S,eventMouseLeave:S,select:S,unselect:S,loading:S,_unmount:S,_beforeprint:S,_afterprint:S,_noEventDrop:S,_noEventResize:S,_resize:S,_scrollRequest:S},vh={buttonText:S,buttonHints:S,views:S,plugins:S,initialEvents:S,events:S,eventSources:S},Bn={headerToolbar:gr,footerToolbar:gr,buttonText:gr,buttonHints:gr,buttonIcons:gr,dateIncrement:gr};function gr(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?tn(t,e):t===e}var tS={type:String,component:S,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:S,usesMinMaxTime:Boolean,classNames:S,content:S,didMount:S,willUnmount:S};function Ha(t){return Uu(t,Bn)}function $u(t,e){var n={},r={};for(var i in e)i in t&&(n[i]=e[i](t[i]));for(var i in t)i in e||(r[i]=t[i]);return{refined:n,extra:r}}function S(t){return t}function uo(t,e,n,r){for(var i=nn(),s=qu(n),o=0,a=t;o<a.length;o++){var l=a[o],u=dg(l,e,n,r,s);u&&Dl(u,i)}return i}function Dl(t,e){return e===void 0&&(e=nn()),e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function nS(t,e){var n=t.instances[e];if(n){var r=t.defs[n.defId],i=Wu(t,function(s){return rS(r,s)});return i.defs[r.defId]=r,i.instances[n.instanceId]=n,i}return nn()}function rS(t,e){return Boolean(t.groupId&&t.groupId===e.groupId)}function nn(){return{defs:{},instances:{}}}function ju(t,e){return{defs:w(w({},t.defs),e.defs),instances:w(w({},t.instances),e.instances)}}function Wu(t,e){var n=Lr(t.defs,e),r=Lr(t.instances,function(i){return n[i.defId]});return{defs:n,instances:r}}function iS(t,e){var n=t.defs,r=t.instances,i={},s={};for(var o in n)e.defs[o]||(i[o]=n[o]);for(var a in r)!e.instances[a]&&i[r[a].defId]&&(s[a]=r[a]);return{defs:i,instances:s}}function sS(t,e){return Array.isArray(t)?uo(t,null,e,!0):typeof t=="object"&&t?uo([t],null,e,!0):t!=null?String(t):null}function Rl(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}var co={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:S,overlap:S,allow:S,className:Rl,classNames:Rl,color:String,backgroundColor:String,borderColor:String,textColor:String},oS={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function fo(t,e){var n=sS(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:n!=null?[n]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function fg(t){return t.reduce(aS,oS)}function aS(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}var Ws={id:String,groupId:String,title:String,url:String,interactive:Boolean},hg={start:S,end:S,date:S,allDay:Boolean},lS=w(w(w({},Ws),hg),{extendedProps:S});function dg(t,e,n,r,i){i===void 0&&(i=qu(n));var s=pg(t,n,i),o=s.refined,a=s.extra,l=cS(e,n),u=kC(o,l,n.dateEnv,n.pluginHooks.recurringTypes);if(u){var c=Il(o,a,e?e.sourceId:"",u.allDay,Boolean(u.duration),n);return c.recurringDef={typeId:u.typeId,typeData:u.typeData,duration:u.duration},{def:c,instance:null}}var f=uS(o,l,n,r);if(f){var c=Il(o,a,e?e.sourceId:"",f.allDay,f.hasEnd,n),h=Fu(c.defId,f.range,f.forcedStartTzo,f.forcedEndTzo);return{def:c,instance:h}}return null}function pg(t,e,n){return n===void 0&&(n=qu(e)),$u(t,n)}function qu(t){return w(w(w({},co),lS),t.pluginHooks.eventRefiners)}function Il(t,e,n,r,i,s){for(var o={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:Zr(),sourceId:n,allDay:r,hasEnd:i,interactive:t.interactive,ui:fo(t,s),extendedProps:w(w({},t.extendedProps||{}),e)},a=0,l=s.pluginHooks.eventDefMemberAdders;a<l.length;a++){var u=l[a];w(o,u(t))}return Object.freeze(o.ui.classNames),Object.freeze(o.extendedProps),o}function uS(t,e,n,r){var i=t.allDay,s,o=null,a=!1,l,u=null,c=t.start!=null?t.start:t.date;if(s=n.dateEnv.createMarkerMeta(c),s)o=s.marker;else if(!r)return null;return t.end!=null&&(l=n.dateEnv.createMarkerMeta(t.end)),i==null&&(e!=null?i=e:i=(!s||s.isTimeUnspecified)&&(!l||l.isTimeUnspecified)),i&&o&&(o=Ce(o)),l&&(u=l.marker,i&&(u=Ce(u)),o&&u<=o&&(u=null)),u?a=!0:r||(a=n.options.forceEventDuration||!1,u=n.dateEnv.add(o,i?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:i,hasEnd:a,range:{start:o,end:u},forcedStartTzo:s?s.forcedTzo:null,forcedEndTzo:l?l.forcedTzo:null}}function cS(t,e){var n=null;return t&&(n=t.defaultAllDay),n==null&&(n=e.options.defaultAllDay),n}function gg(t){var e=Math.floor(lr(t.start,t.end))||1,n=Ce(t.start),r=at(n,e);return{start:n,end:r}}function vg(t,e){e===void 0&&(e=ce(0));var n=null,r=null;if(t.end){r=Ce(t.end);var i=t.end.valueOf()-r.valueOf();i&&i>=St(e)&&(r=at(r,1))}return t.start&&(n=Ce(t.start),r&&r<=n&&(r=at(n,1))),{start:n,end:r}}function _s(t,e,n,r){return r==="year"?ce(n.diffWholeYears(t,e),"year"):r==="month"?ce(n.diffWholeMonths(t,e),"month"):wC(t,e)}function fS(t,e){var n=null,r=null;return t.start&&(n=e.createMarker(t.start)),t.end&&(r=e.createMarker(t.end)),!n&&!r||n&&r&&r<n?null:{start:n,end:r}}function mh(t,e){var n=[],r=e.start,i,s;for(t.sort(hS),i=0;i<t.length;i+=1)s=t[i],s.start>r&&n.push({start:r,end:s.start}),s.end>r&&(r=s.end);return r<e.end&&n.push({start:r,end:e.end}),n}function hS(t,e){return t.start.valueOf()-e.start.valueOf()}function Ur(t,e){var n=t.start,r=t.end,i=null;return e.start!==null&&(n===null?n=e.start:n=new Date(Math.max(n.valueOf(),e.start.valueOf()))),e.end!=null&&(r===null?r=e.end:r=new Date(Math.min(r.valueOf(),e.end.valueOf()))),(n===null||r===null||n<r)&&(i={start:n,end:r}),i}function dS(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function wn(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function pS(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function yh(t,e,n,r){var i={},s={},o={},a=[],l=[],u=mg(t.defs,e);for(var c in t.defs){var f=t.defs[c],h=u[f.defId];h.display==="inverse-background"&&(f.groupId?(i[f.groupId]=[],o[f.groupId]||(o[f.groupId]=f)):s[c]=[])}for(var d in t.instances){var p=t.instances[d],f=t.defs[p.defId],h=u[f.defId],g=p.range,m=!f.allDay&&r?vg(g,r):g,v=Ur(m,n);v&&(h.display==="inverse-background"?f.groupId?i[f.groupId].push(v):s[p.defId].push(v):h.display!=="none"&&(h.display==="background"?a:l).push({def:f,ui:h,instance:p,range:v,isStart:m.start&&m.start.valueOf()===v.start.valueOf(),isEnd:m.end&&m.end.valueOf()===v.end.valueOf()}))}for(var b in i)for(var T=i[b],D=mh(T,n),F=0,V=D;F<V.length;F++){var U=V[F],f=o[b],h=u[f.defId];a.push({def:f,ui:h,instance:null,range:U,isStart:!1,isEnd:!1})}for(var c in s)for(var T=s[c],D=mh(T,n),O=0,le=D;O<le.length;O++){var U=le[O];a.push({def:t.defs[c],ui:u[c],instance:null,range:U,isStart:!1,isEnd:!1})}return{bg:a,fg:l}}function gS(t){return t.ui.display==="background"||t.ui.display==="inverse-background"}function Eh(t,e){t.fcSeg=e}function Al(t){return t.fcSeg||t.parentNode.fcSeg||null}function mg(t,e){return ir(t,function(n){return yg(n,e)})}function yg(t,e){var n=[];return e[""]&&n.push(e[""]),e[t.defId]&&n.push(e[t.defId]),n.push(t.ui),fg(n)}function Eg(t,e){var n=t.map(vS);return n.sort(function(r,i){return hC(r,i,e)}),n.map(function(r){return r._seg})}function vS(t){var e=t.eventRange,n=e.def,r=e.instance?e.instance.range:e.range,i=r.start?r.start.valueOf():0,s=r.end?r.end.valueOf():0;return w(w(w({},n.extendedProps),n),{id:n.publicId,start:i,end:s,duration:s-i,allDay:Number(n.allDay),_seg:t})}function mS(t,e){for(var n=e.pluginHooks,r=n.isDraggableTransformers,i=t.eventRange,s=i.def,o=i.ui,a=o.startEditable,l=0,u=r;l<u.length;l++){var c=u[l];a=c(a,s,o,e)}return a}function yS(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function ES(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function bg(t,e,n,r,i,s,o){var a=n.dateEnv,l=n.options,u=l.displayEventTime,c=l.displayEventEnd,f=t.eventRange.def,h=t.eventRange.instance;u==null&&(u=r!==!1),c==null&&(c=i!==!1);var d=h.range.start,p=h.range.end,g=s||t.start||t.eventRange.range.start,m=o||t.end||t.eventRange.range.end,v=Ce(d).valueOf()===Ce(g).valueOf(),b=Ce(rr(p,-1)).valueOf()===Ce(rr(m,-1)).valueOf();return u&&!f.allDay&&(v||b)?(g=v?d:g,m=b?p:m,c&&f.hasEnd?a.formatRange(g,m,e,{forcedStartTzo:s?null:h.forcedStartTzo,forcedEndTzo:o?null:h.forcedEndTzo}):a.format(g,e,{forcedTzo:s?null:h.forcedStartTzo})):""}function Cn(t,e,n){var r=t.eventRange.range;return{isPast:r.end<(n||e.start),isFuture:r.start>=(n||e.end),isToday:e&&wn(e,r.start)}}function bS(t){var e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function wg(t){return t.instance?t.instance.instanceId:t.def.defId+":"+t.range.start.toISOString()}function Cg(t,e){var n=t.eventRange,r=n.def,i=n.instance,s=r.url;if(s)return{href:s};var o=e.emitter,a=e.options,l=a.eventInteractive;return l==null&&(l=r.interactive,l==null&&(l=Boolean(o.hasHandlers("eventClick")))),l?og(function(u){o.trigger("eventClick",{el:u.target,event:new Ht(e,r,i),jsEvent:u,view:e.viewApi})}):{}}var wS={start:S,end:S,allDay:Boolean};function CS(t,e,n){var r=SS(t,e),i=r.range;if(!i.start)return null;if(!i.end){if(n==null)return null;i.end=e.add(i.start,n)}return r}function SS(t,e){var n=$u(t,wS),r=n.refined,i=n.extra,s=r.start?e.createMarkerMeta(r.start):null,o=r.end?e.createMarkerMeta(r.end):null,a=r.allDay;return a==null&&(a=s&&s.isTimeUnspecified&&(!o||o.isTimeUnspecified)),w({range:{start:s?s.marker:null,end:o?o.marker:null},allDay:a},i)}function TS(t,e){return w(w({},Tg(t.range,e,t.allDay)),{allDay:t.allDay})}function Sg(t,e,n){return w(w({},Tg(t,e,n)),{timeZone:e.timeZone})}function Tg(t,e,n){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:n}),endStr:e.formatIso(t.end,{omitTime:n})}}function _S(t,e,n){var r=pg({editable:!1},n),i=Il(r.refined,r.extra,"",t.allDay,!0,n);return{def:i,ui:yg(i,e),instance:Fu(i.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function DS(t,e,n){n.emitter.trigger("select",w(w({},IS(t,n)),{jsEvent:e?e.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function RS(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function IS(t,e){for(var n={},r=0,i=e.pluginHooks.dateSpanTransforms;r<i.length;r++){var s=i[r];w(n,s(t,e))}return w(n,TS(t,e.dateEnv)),n}function bh(t,e,n){var r=n.dateEnv,i=n.options,s=e;return t?(s=Ce(s),s=r.add(s,i.defaultAllDayEventDuration)):s=r.add(s,i.defaultTimedEventDuration),s}function AS(t,e,n,r){var i=mg(t.defs,e),s=nn();for(var o in t.defs){var a=t.defs[o];s.defs[o]=kS(a,i[o],n,r)}for(var l in t.instances){var u=t.instances[l],a=s.defs[u.defId];s.instances[l]=xS(u,a,i[u.defId],n,r)}return s}function kS(t,e,n,r){var i=n.standardProps||{};i.hasEnd==null&&e.durationEditable&&(n.startDelta||n.endDelta)&&(i.hasEnd=!0);var s=w(w(w({},t),i),{ui:w(w({},t.ui),i.ui)});n.extendedProps&&(s.extendedProps=w(w({},s.extendedProps),n.extendedProps));for(var o=0,a=r.pluginHooks.eventDefMutationAppliers;o<a.length;o++){var l=a[o];l(s,n,r)}return!s.hasEnd&&r.options.forceEventDuration&&(s.hasEnd=!0),s}function xS(t,e,n,r,i){var s=i.dateEnv,o=r.standardProps&&r.standardProps.allDay===!0,a=r.standardProps&&r.standardProps.hasEnd===!1,l=w({},t);return o&&(l.range=gg(l.range)),r.datesDelta&&n.startEditable&&(l.range={start:s.add(l.range.start,r.datesDelta),end:s.add(l.range.end,r.datesDelta)}),r.startDelta&&n.durationEditable&&(l.range={start:s.add(l.range.start,r.startDelta),end:l.range.end}),r.endDelta&&n.durationEditable&&(l.range={start:l.range.start,end:s.add(l.range.end,r.endDelta)}),a&&(l.range={start:l.range.start,end:bh(e.allDay,l.range.start,i)}),e.allDay&&(l.range={start:Ce(l.range.start),end:Ce(l.range.end)}),l.range.end<l.range.start&&(l.range.end=bh(e.allDay,l.range.start,i)),l}var MS=function(){function t(e,n,r){this.type=e,this.getCurrentData=n,this.dateEnv=r}return Object.defineProperty(t.prototype,"calendar",{get:function(){return this.getCurrentData().calendarApi},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.getCurrentData().viewTitle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activeStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activeEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)},enumerable:!1,configurable:!0}),t.prototype.getOption=function(e){return this.getCurrentData().options[e]},t}(),NS={id:String,defaultAllDay:Boolean,url:String,format:String,events:S,eventDataTransform:S,success:S,failure:S};function _g(t,e,n){n===void 0&&(n=Dg(e));var r;if(typeof t=="string"?r={url:t}:typeof t=="function"||Array.isArray(t)?r={events:t}:typeof t=="object"&&t&&(r=t),r){var i=$u(r,n),s=i.refined,o=i.extra,a=OS(s,e);if(a)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:s.defaultAllDay,eventDataTransform:s.eventDataTransform,success:s.success,failure:s.failure,publicId:s.id||"",sourceId:Zr(),sourceDefId:a.sourceDefId,meta:a.meta,ui:fo(s,e),extendedProps:o}}return null}function Dg(t){return w(w(w({},co),NS),t.pluginHooks.eventSourceRefiners)}function OS(t,e){for(var n=e.pluginHooks.eventSourceDefs,r=n.length-1;r>=0;r-=1){var i=n[r],s=i.parseMeta(t);if(s)return{sourceDefId:r,meta:s}}return null}function PS(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function LS(t,e){var n=t.initialDate;return n!=null?e.createMarker(n):Zi(t.now,e)}function Zi(t,e){return typeof t=="function"&&(t=t()),t==null?e.createNowMarker():e.createMarker(t)}var FS=function(){function t(){}return t.prototype.getCurrentData=function(){return this.currentDataManager.getCurrentData()},t.prototype.dispatch=function(e){return this.currentDataManager.dispatch(e)},Object.defineProperty(t.prototype,"view",{get:function(){return this.getCurrentData().viewApi},enumerable:!1,configurable:!0}),t.prototype.batchRendering=function(e){e()},t.prototype.updateSize=function(){this.trigger("_resize",!0)},t.prototype.setOption=function(e,n){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:n})},t.prototype.getOption=function(e){return this.currentDataManager.currentCalendarOptionsInput[e]},t.prototype.getAvailableLocaleCodes=function(){return Object.keys(this.getCurrentData().availableRawLocales)},t.prototype.on=function(e,n){var r=this.currentDataManager;r.currentCalendarOptionsRefiners[e]?r.emitter.on(e,n):console.warn("Unknown listener name '"+e+"'")},t.prototype.off=function(e,n){this.currentDataManager.emitter.off(e,n)},t.prototype.trigger=function(e){for(var n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];(n=this.currentDataManager.emitter).trigger.apply(n,Re([e],r))},t.prototype.changeView=function(e,n){var r=this;this.batchRendering(function(){if(r.unselect(),n)if(n.start&&n.end)r.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),r.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{var i=r.getCurrentData().dateEnv;r.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:i.createMarker(n)})}else r.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})},t.prototype.zoomTo=function(e,n){var r=this.getCurrentData(),i;n=n||"day",i=r.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),i?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})},t.prototype.getUnitViewSpec=function(e){var n=this.getCurrentData(),r=n.viewSpecs,i=n.toolbarConfig,s=[].concat(i.header?i.header.viewsWithButtons:[],i.footer?i.footer.viewsWithButtons:[]),o,a;for(var l in r)s.push(l);for(o=0;o<s.length;o+=1)if(a=r[s[o]],a&&a.singleUnit===e)return a;return null},t.prototype.prev=function(){this.unselect(),this.dispatch({type:"PREV"})},t.prototype.next=function(){this.unselect(),this.dispatch({type:"NEXT"})},t.prototype.prevYear=function(){var e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})},t.prototype.nextYear=function(){var e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})},t.prototype.today=function(){var e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:Zi(e.calendarOptions.now,e.dateEnv)})},t.prototype.gotoDate=function(e){var n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(e)})},t.prototype.incrementDate=function(e){var n=this.getCurrentData(),r=ce(e);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,r)}))},t.prototype.getDate=function(){var e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)},t.prototype.formatDate=function(e,n){var r=this.getCurrentData().dateEnv;return r.format(r.createMarker(e),Ie(n))},t.prototype.formatRange=function(e,n,r){var i=this.getCurrentData().dateEnv;return i.formatRange(i.createMarker(e),i.createMarker(n),Ie(r),r)},t.prototype.formatIso=function(e,n){var r=this.getCurrentData().dateEnv;return r.formatIso(r.createMarker(e),{omitTime:n})},t.prototype.select=function(e,n){var r;n==null?e.start!=null?r=e:r={start:e,end:null}:r={start:e,end:n};var i=this.getCurrentData(),s=CS(r,i.dateEnv,ce({days:1}));s&&(this.dispatch({type:"SELECT_DATES",selection:s}),DS(s,null,i))},t.prototype.unselect=function(e){var n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),RS(e,n))},t.prototype.addEvent=function(e,n){if(e instanceof Ht){var r=e._def,i=e._instance,s=this.getCurrentData();return s.eventStore.defs[r.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Dl({def:r,instance:i})}),this.triggerEventAdd(e)),e}var o=this.getCurrentData(),a;if(n instanceof yr)a=n.internalEventSource;else if(typeof n=="boolean")n&&(a=Hu(o.eventSources)[0]);else if(n!=null){var l=this.getEventSourceById(n);if(!l)return console.warn('Could not find an event source with ID "'+n+'"'),null;a=l.internalEventSource}var u=dg(e,a,o,!1);if(u){var c=new Ht(o,u.def,u.def.recurringDef?null:u.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Dl(u)}),this.triggerEventAdd(c),c}return null},t.prototype.triggerEventAdd=function(e){var n=this,r=this.getCurrentData().emitter;r.trigger("eventAdd",{event:e,relatedEvents:[],revert:function(){n.dispatch({type:"REMOVE_EVENTS",eventStore:Rg(e)})}})},t.prototype.getEventById=function(e){var n=this.getCurrentData(),r=n.eventStore,i=r.defs,s=r.instances;e=String(e);for(var o in i){var a=i[o];if(a.publicId===e){if(a.recurringDef)return new Ht(n,a,null);for(var l in s){var u=s[l];if(u.defId===a.defId)return new Ht(n,a,u)}}}return null},t.prototype.getEvents=function(){var e=this.getCurrentData();return zu(e.eventStore,e)},t.prototype.removeAllEvents=function(){this.dispatch({type:"REMOVE_ALL_EVENTS"})},t.prototype.getEventSources=function(){var e=this.getCurrentData(),n=e.eventSources,r=[];for(var i in n)r.push(new yr(e,n[i]));return r},t.prototype.getEventSourceById=function(e){var n=this.getCurrentData(),r=n.eventSources;e=String(e);for(var i in r)if(r[i].publicId===e)return new yr(n,r[i]);return null},t.prototype.addEventSource=function(e){var n=this.getCurrentData();if(e instanceof yr)return n.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;var r=_g(e,n);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new yr(n,r)):null},t.prototype.removeAllEventSources=function(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})},t.prototype.refetchEvents=function(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})},t.prototype.scrollToTime=function(e){var n=ce(e);n&&this.trigger("_scrollRequest",{time:n})},t}(),Ht=function(){function t(e,n,r){this._context=e,this._def=n,this._instance=r||null}return t.prototype.setProp=function(e,n){var r,i;if(e in hg)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")n=Ws[e](n),this.mutate({standardProps:{publicId:n}});else if(e in Ws)n=Ws[e](n),this.mutate({standardProps:(r={},r[e]=n,r)});else if(e in co){var s=co[e](n);e==="color"?s={backgroundColor:n,borderColor:n}:e==="editable"?s={startEditable:n,durationEditable:n}:s=(i={},i[e]=n,i),this.mutate({standardProps:{ui:s}})}else console.warn("Could not set prop '"+e+"'. Use setExtendedProp instead.")},t.prototype.setExtendedProp=function(e,n){var r;this.mutate({extendedProps:(r={},r[e]=n,r)})},t.prototype.setStart=function(e,n){n===void 0&&(n={});var r=this._context.dateEnv,i=r.createMarker(e);if(i&&this._instance){var s=this._instance.range,o=_s(s.start,i,r,n.granularity);n.maintainDuration?this.mutate({datesDelta:o}):this.mutate({startDelta:o})}},t.prototype.setEnd=function(e,n){n===void 0&&(n={});var r=this._context.dateEnv,i;if(!(e!=null&&(i=r.createMarker(e),!i))&&this._instance)if(i){var s=_s(this._instance.range.end,i,r,n.granularity);this.mutate({endDelta:s})}else this.mutate({standardProps:{hasEnd:!1}})},t.prototype.setDates=function(e,n,r){r===void 0&&(r={});var i=this._context.dateEnv,s={allDay:r.allDay},o=i.createMarker(e),a;if(!!o&&!(n!=null&&(a=i.createMarker(n),!a))&&this._instance){var l=this._instance.range;r.allDay===!0&&(l=gg(l));var u=_s(l.start,o,i,r.granularity);if(a){var c=_s(l.end,a,i,r.granularity);OC(u,c)?this.mutate({datesDelta:u,standardProps:s}):this.mutate({startDelta:u,endDelta:c,standardProps:s})}else s.hasEnd=!1,this.mutate({datesDelta:u,standardProps:s})}},t.prototype.moveStart=function(e){var n=ce(e);n&&this.mutate({startDelta:n})},t.prototype.moveEnd=function(e){var n=ce(e);n&&this.mutate({endDelta:n})},t.prototype.moveDates=function(e){var n=ce(e);n&&this.mutate({datesDelta:n})},t.prototype.setAllDay=function(e,n){n===void 0&&(n={});var r={allDay:e},i=n.maintainDuration;i==null&&(i=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(r.hasEnd=i),this.mutate({standardProps:r})},t.prototype.formatRange=function(e){var n=this._context.dateEnv,r=this._instance,i=Ie(e);return this._def.hasEnd?n.formatRange(r.range.start,r.range.end,i,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):n.format(r.range.start,i,{forcedTzo:r.forcedStartTzo})},t.prototype.mutate=function(e){var n=this._instance;if(n){var r=this._def,i=this._context,s=i.getCurrentData().eventStore,o=nS(s,n.instanceId),a={"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}};o=AS(o,a,e,i);var l=new t(i,r,n);this._def=o.defs[r.defId],this._instance=o.instances[n.instanceId],i.dispatch({type:"MERGE_EVENTS",eventStore:o}),i.emitter.trigger("eventChange",{oldEvent:l,event:this,relatedEvents:zu(o,i,n),revert:function(){i.dispatch({type:"RESET_EVENTS",eventStore:s})}})}},t.prototype.remove=function(){var e=this._context,n=Rg(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:n}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert:function(){e.dispatch({type:"MERGE_EVENTS",eventStore:n})}})},Object.defineProperty(t.prototype,"source",{get:function(){var e=this._def.sourceId;return e?new yr(this._context,this._context.getCurrentData().eventSources[e]):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"start",{get:function(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startStr",{get:function(){var e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endStr",{get:function(){var e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._def.publicId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groupId",{get:function(){return this._def.groupId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allDay",{get:function(){return this._def.allDay},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this._def.title},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this._def.url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"display",{get:function(){return this._def.ui.display||"auto"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startEditable",{get:function(){return this._def.ui.startEditable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"durationEditable",{get:function(){return this._def.ui.durationEditable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"constraint",{get:function(){return this._def.ui.constraints[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"overlap",{get:function(){return this._def.ui.overlap},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allow",{get:function(){return this._def.ui.allows[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._def.ui.backgroundColor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"borderColor",{get:function(){return this._def.ui.borderColor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textColor",{get:function(){return this._def.ui.textColor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"classNames",{get:function(){return this._def.ui.classNames},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"extendedProps",{get:function(){return this._def.extendedProps},enumerable:!1,configurable:!0}),t.prototype.toPlainObject=function(e){e===void 0&&(e={});var n=this._def,r=n.ui,i=this,s=i.startStr,o=i.endStr,a={};return n.title&&(a.title=n.title),s&&(a.start=s),o&&(a.end=o),n.publicId&&(a.id=n.publicId),n.groupId&&(a.groupId=n.groupId),n.url&&(a.url=n.url),r.display&&r.display!=="auto"&&(a.display=r.display),e.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?a.color=r.backgroundColor:(r.backgroundColor&&(a.backgroundColor=r.backgroundColor),r.borderColor&&(a.borderColor=r.borderColor)),r.textColor&&(a.textColor=r.textColor),r.classNames.length&&(a.classNames=r.classNames),Object.keys(n.extendedProps).length&&(e.collapseExtendedProps?w(a,n.extendedProps):a.extendedProps=n.extendedProps),a},t.prototype.toJSON=function(){return this.toPlainObject()},t}();function Rg(t){var e,n,r=t._def,i=t._instance;return{defs:(e={},e[r.defId]=r,e),instances:i?(n={},n[i.instanceId]=i,n):{}}}function zu(t,e,n){var r=t.defs,i=t.instances,s=[],o=n?n.instanceId:"";for(var a in i){var l=i[a],u=r[l.defId];l.instanceId!==o&&s.push(new Ht(e,u,l))}return s}var Ig={};function US(t,e){Ig[t]=e}function HS(t){return new Ig[t]}var VS=function(){function t(){}return t.prototype.getMarkerYear=function(e){return e.getUTCFullYear()},t.prototype.getMarkerMonth=function(e){return e.getUTCMonth()},t.prototype.getMarkerDay=function(e){return e.getUTCDate()},t.prototype.arrayToMarker=function(e){return ct(e)},t.prototype.markerToArray=function(e){return vn(e)},t}();US("gregory",VS);var BS=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function $S(t){var e=BS.exec(t);if(e){var n=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?Number("0."+e[12])*1e3:0));if(ag(n)){var r=null;return e[13]&&(r=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:n,isTimeUnspecified:!e[6],timeZoneOffset:r}}}return null}var jS=function(){function t(e){var n=this.timeZone=e.timeZone,r=n!=="local"&&n!=="UTC";e.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(n)),this.canComputeOffset=Boolean(!r||this.namedTimeZoneImpl),this.calendarSystem=HS(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}return t.prototype.createMarker=function(e){var n=this.createMarkerMeta(e);return n===null?null:n.marker},t.prototype.createNowMarker=function(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):ct(oh(new Date))},t.prototype.createMarkerMeta=function(e){if(typeof e=="string")return this.parse(e);var n=null;return typeof e=="number"?n=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(n=this.timestampToMarker(e))):Array.isArray(e)&&(n=ct(e)),n===null||!ag(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}},t.prototype.parse=function(e){var n=$S(e);if(n===null)return null;var r=n.marker,i=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-n.timeZoneOffset*60*1e3):i=n.timeZoneOffset),{marker:r,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:i}},t.prototype.getYear=function(e){return this.calendarSystem.getMarkerYear(e)},t.prototype.getMonth=function(e){return this.calendarSystem.getMarkerMonth(e)},t.prototype.add=function(e,n){var r=this.calendarSystem.markerToArray(e);return r[0]+=n.years,r[1]+=n.months,r[2]+=n.days,r[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(r)},t.prototype.subtract=function(e,n){var r=this.calendarSystem.markerToArray(e);return r[0]-=n.years,r[1]-=n.months,r[2]-=n.days,r[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(r)},t.prototype.addYears=function(e,n){var r=this.calendarSystem.markerToArray(e);return r[0]+=n,this.calendarSystem.arrayToMarker(r)},t.prototype.addMonths=function(e,n){var r=this.calendarSystem.markerToArray(e);return r[1]+=n,this.calendarSystem.arrayToMarker(r)},t.prototype.diffWholeYears=function(e,n){var r=this.calendarSystem;return mn(e)===mn(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)&&r.getMarkerMonth(e)===r.getMarkerMonth(n)?r.getMarkerYear(n)-r.getMarkerYear(e):null},t.prototype.diffWholeMonths=function(e,n){var r=this.calendarSystem;return mn(e)===mn(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)?r.getMarkerMonth(n)-r.getMarkerMonth(e)+(r.getMarkerYear(n)-r.getMarkerYear(e))*12:null},t.prototype.greatestWholeUnit=function(e,n){var r=this.diffWholeYears(e,n);return r!==null?{unit:"year",value:r}:(r=this.diffWholeMonths(e,n),r!==null?{unit:"month",value:r}:(r=CC(e,n),r!==null?{unit:"week",value:r}:(r=so(e,n),r!==null?{unit:"day",value:r}:(r=yC(e,n),$s(r)?{unit:"hour",value:r}:(r=EC(e,n),$s(r)?{unit:"minute",value:r}:(r=bC(e,n),$s(r)?{unit:"second",value:r}:{unit:"millisecond",value:n.valueOf()-e.valueOf()}))))))},t.prototype.countDurationsBetween=function(e,n,r){var i;return r.years&&(i=this.diffWholeYears(e,n),i!==null)?i/FC(r):r.months&&(i=this.diffWholeMonths(e,n),i!==null)?i/UC(r):r.days&&(i=so(e,n),i!==null)?i/Dr(r):(n.valueOf()-e.valueOf())/St(r)},t.prototype.startOf=function(e,n){return n==="year"?this.startOfYear(e):n==="month"?this.startOfMonth(e):n==="week"?this.startOfWeek(e):n==="day"?Ce(e):n==="hour"?SC(e):n==="minute"?TC(e):n==="second"?_C(e):null},t.prototype.startOfYear=function(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])},t.prototype.startOfMonth=function(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])},t.prototype.startOfWeek=function(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])},t.prototype.computeWeekNumber=function(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):DC(e,this.weekDow,this.weekDoy)},t.prototype.format=function(e,n,r){return r===void 0&&(r={}),n.format({marker:e,timeZoneOffset:r.forcedTzo!=null?r.forcedTzo:this.offsetForMarker(e)},this)},t.prototype.formatRange=function(e,n,r,i){return i===void 0&&(i={}),i.isEndExclusive&&(n=rr(n,-1)),r.formatRange({marker:e,timeZoneOffset:i.forcedStartTzo!=null?i.forcedStartTzo:this.offsetForMarker(e)},{marker:n,timeZoneOffset:i.forcedEndTzo!=null?i.forcedEndTzo:this.offsetForMarker(n)},this,i.defaultSeparator)},t.prototype.formatIso=function(e,n){n===void 0&&(n={});var r=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?r=n.forcedTzo:r=this.offsetForMarker(e)),ug(e,r,n.omitTime)},t.prototype.timestampToMarker=function(e){return this.timeZone==="local"?ct(oh(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):ct(this.namedTimeZoneImpl.timestampToArray(e))},t.prototype.offsetForMarker=function(e){return this.timeZone==="local"?-ah(vn(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(vn(e)):null},t.prototype.toDate=function(e,n){return this.timeZone==="local"?ah(vn(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(vn(e))*1e3*60):new Date(e.valueOf()-(n||0))},t}(),WS=[],Ag={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},kg=w(w({},Ag),{buttonHints:{prev:"Previous $0",next:"Next $0",today:function(t,e){return e==="day"?"Today":"This "+t}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint:function(t){return"Show "+t+" more event"+(t===1?"":"s")}});function qS(t){for(var e=t.length>0?t[0].code:"en",n=WS.concat(t),r={en:kg},i=0,s=n;i<s.length;i++){var o=s[i];r[o.code]=o}return{map:r,defaultCode:e}}function xg(t,e){return typeof t=="object"&&!Array.isArray(t)?Mg(t.code,[t.code],t):zS(t,e)}function zS(t,e){var n=[].concat(t||[]),r=GS(n,e)||kg;return Mg(t,n,r)}function GS(t,e){for(var n=0;n<t.length;n+=1)for(var r=t[n].toLocaleLowerCase().split("-"),i=r.length;i>0;i-=1){var s=r.slice(0,i).join("-");if(e[s])return e[s]}return null}function Mg(t,e,n){var r=Uu([Ag,n],["buttonText"]);delete r.code;var i=r.week;return delete r.week,{codeArg:t,codes:e,week:i,simpleNumberFormat:new Intl.NumberFormat(t),options:r}}var KS={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function YS(t,e){return uo(QS(t),null,e)}function QS(t){var e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(function(n){return n.daysOfWeek}):typeof t=="object"&&t?e=[t]:e=[],e=e.map(function(n){return w(w({},KS),n)}),e}function XS(t,e){var n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}var Va;function Ng(){return Va==null&&(Va=ZS()),Va}function ZS(){if(typeof document>"u")return!0;var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);var e=t.querySelector("div"),n=e.offsetHeight>0;return document.body.removeChild(t),n}var Ba=nn(),JS=function(){function t(){this.getKeysForEventDefs=Y(this._getKeysForEventDefs),this.splitDateSelection=Y(this._splitDateSpan),this.splitEventStore=Y(this._splitEventStore),this.splitIndividualUi=Y(this._splitIndividualUi),this.splitEventDrag=Y(this._splitInteraction),this.splitEventResize=Y(this._splitInteraction),this.eventUiBuilders={}}return t.prototype.splitProps=function(e){var n=this,r=this.getKeyInfo(e),i=this.getKeysForEventDefs(e.eventStore),s=this.splitDateSelection(e.dateSelection),o=this.splitIndividualUi(e.eventUiBases,i),a=this.splitEventStore(e.eventStore,i),l=this.splitEventDrag(e.eventDrag),u=this.splitEventResize(e.eventResize),c={};this.eventUiBuilders=ir(r,function(g,m){return n.eventUiBuilders[m]||Y(eT)});for(var f in r){var h=r[f],d=a[f]||Ba,p=this.eventUiBuilders[f];c[f]={businessHours:h.businessHours||e.businessHours,dateSelection:s[f]||null,eventStore:d,eventUiBases:p(e.eventUiBases[""],h.ui,o[f]),eventSelection:d.instances[e.eventSelection]?e.eventSelection:"",eventDrag:l[f]||null,eventResize:u[f]||null}}return c},t.prototype._splitDateSpan=function(e){var n={};if(e)for(var r=this.getKeysForDateSpan(e),i=0,s=r;i<s.length;i++){var o=s[i];n[o]=e}return n},t.prototype._getKeysForEventDefs=function(e){var n=this;return ir(e.defs,function(r){return n.getKeysForEventDef(r)})},t.prototype._splitEventStore=function(e,n){var r=e.defs,i=e.instances,s={};for(var o in r)for(var a=0,l=n[o];a<l.length;a++){var u=l[a];s[u]||(s[u]=nn()),s[u].defs[o]=r[o]}for(var c in i)for(var f=i[c],h=0,d=n[f.defId];h<d.length;h++){var u=d[h];s[u]&&(s[u].instances[c]=f)}return s},t.prototype._splitIndividualUi=function(e,n){var r={};for(var i in e)if(i)for(var s=0,o=n[i];s<o.length;s++){var a=o[s];r[a]||(r[a]={}),r[a][i]=e[i]}return r},t.prototype._splitInteraction=function(e){var n={};if(e){var r=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),i=this._getKeysForEventDefs(e.mutatedEvents),s=this._splitEventStore(e.mutatedEvents,i),o=function(l){n[l]||(n[l]={affectedEvents:r[l]||Ba,mutatedEvents:s[l]||Ba,isEvent:e.isEvent})};for(var a in r)o(a);for(var a in s)o(a)}return n},t}();function eT(t,e,n){var r=[];t&&r.push(t),e&&r.push(e);var i={"":fg(r)};return n&&w(i,n),i}function Og(t,e,n,r){return{dow:t.getUTCDay(),isDisabled:Boolean(r&&!wn(r.activeRange,t)),isOther:Boolean(r&&!wn(r.currentRange,t)),isToday:Boolean(e&&wn(e,t)),isPast:Boolean(n?t<n:e?t<e.start:!1),isFuture:Boolean(n?t>n:e?t>=e.end:!1)}}function Gu(t,e){var n=["fc-day","fc-day-"+vC[t.dow]];return t.isDisabled?n.push("fc-day-disabled"):(t.isToday&&(n.push("fc-day-today"),n.push(e.getClass("today"))),t.isPast&&n.push("fc-day-past"),t.isFuture&&n.push("fc-day-future"),t.isOther&&n.push("fc-day-other")),n}var tT=Ie({year:"numeric",month:"long",day:"numeric"}),nT=Ie({week:"long"});function Qo(t,e,n,r){n===void 0&&(n="day"),r===void 0&&(r=!0);var i=t.dateEnv,s=t.options,o=t.calendarApi,a=i.format(e,n==="week"?nT:tT);if(s.navLinks){var l=i.toDate(e),u=function(c){var f=n==="day"?s.navLinkDayClick:n==="week"?s.navLinkWeekClick:null;typeof f=="function"?f.call(o,i.toDate(e),c):(typeof f=="string"&&(n=f),o.zoomTo(e,n))};return w({title:wi(s.navLinkHint,[a,l],a),"data-navlink":""},r?sg(u):{onClick:u})}return{"aria-label":a}}var $a;function rT(){return $a||($a=iT()),$a}function iT(){var t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);var e=sT(t);return document.body.removeChild(t),e}function sT(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function oT(t){for(var e=aT(t),n=t.getBoundingClientRect(),r=0,i=e;r<i.length;r++){var s=i[r],o=XS(n,s.getBoundingClientRect());if(o)n=o;else return null}return n}function aT(t){for(var e=[];t instanceof HTMLElement;){var n=window.getComputedStyle(t);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&e.push(t),t=t.parentNode}return e}function lT(t,e,n){var r=!1,i=function(){r||(r=!0,e.apply(this,arguments))},s=function(){r||(r=!0,n&&n.apply(this,arguments))},o=t(i,s);o&&typeof o.then=="function"&&o.then(i,s)}var uT=function(){function t(){this.handlers={},this.thisContext=null}return t.prototype.setThisContext=function(e){this.thisContext=e},t.prototype.setOptions=function(e){this.options=e},t.prototype.on=function(e,n){cT(this.handlers,e,n)},t.prototype.off=function(e,n){fT(this.handlers,e,n)},t.prototype.trigger=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];for(var i=this.handlers[e]||[],s=this.options&&this.options[e],o=[].concat(s||[],i),a=0,l=o;a<l.length;a++){var u=l[a];u.apply(this.thisContext,n)}},t.prototype.hasHandlers=function(e){return Boolean(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])},t}();function cT(t,e,n){(t[e]||(t[e]=[])).push(n)}function fT(t,e,n){n?t[e]&&(t[e]=t[e].filter(function(r){return r!==n})):delete t[e]}var Li=function(){function t(e,n,r,i){this.els=n;var s=this.originClientRect=e.getBoundingClientRect();r&&this.buildElHorizontals(s.left),i&&this.buildElVerticals(s.top)}return t.prototype.buildElHorizontals=function(e){for(var n=[],r=[],i=0,s=this.els;i<s.length;i++){var o=s[i],a=o.getBoundingClientRect();n.push(a.left-e),r.push(a.right-e)}this.lefts=n,this.rights=r},t.prototype.buildElVerticals=function(e){for(var n=[],r=[],i=0,s=this.els;i<s.length;i++){var o=s[i],a=o.getBoundingClientRect();n.push(a.top-e),r.push(a.bottom-e)}this.tops=n,this.bottoms=r},t.prototype.leftToIndex=function(e){var n=this,r=n.lefts,i=n.rights,s=r.length,o;for(o=0;o<s;o+=1)if(e>=r[o]&&e<i[o])return o},t.prototype.topToIndex=function(e){var n=this,r=n.tops,i=n.bottoms,s=r.length,o;for(o=0;o<s;o+=1)if(e>=r[o]&&e<i[o])return o},t.prototype.getWidth=function(e){return this.rights[e]-this.lefts[e]},t.prototype.getHeight=function(e){return this.bottoms[e]-this.tops[e]},t}(),Pg=function(){function t(){}return t.prototype.getMaxScrollTop=function(){return this.getScrollHeight()-this.getClientHeight()},t.prototype.getMaxScrollLeft=function(){return this.getScrollWidth()-this.getClientWidth()},t.prototype.canScrollVertically=function(){return this.getMaxScrollTop()>0},t.prototype.canScrollHorizontally=function(){return this.getMaxScrollLeft()>0},t.prototype.canScrollUp=function(){return this.getScrollTop()>0},t.prototype.canScrollDown=function(){return this.getScrollTop()<this.getMaxScrollTop()},t.prototype.canScrollLeft=function(){return this.getScrollLeft()>0},t.prototype.canScrollRight=function(){return this.getScrollLeft()<this.getMaxScrollLeft()},t}();(function(t){B(e,t);function e(n){var r=t.call(this)||this;return r.el=n,r}return e.prototype.getScrollTop=function(){return this.el.scrollTop},e.prototype.getScrollLeft=function(){return this.el.scrollLeft},e.prototype.setScrollTop=function(n){this.el.scrollTop=n},e.prototype.setScrollLeft=function(n){this.el.scrollLeft=n},e.prototype.getScrollWidth=function(){return this.el.scrollWidth},e.prototype.getScrollHeight=function(){return this.el.scrollHeight},e.prototype.getClientHeight=function(){return this.el.clientHeight},e.prototype.getClientWidth=function(){return this.el.clientWidth},e})(Pg);(function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getScrollTop=function(){return window.pageYOffset},e.prototype.getScrollLeft=function(){return window.pageXOffset},e.prototype.setScrollTop=function(n){window.scroll(window.pageXOffset,n)},e.prototype.setScrollLeft=function(n){window.scroll(n,window.pageYOffset)},e.prototype.getScrollWidth=function(){return document.documentElement.scrollWidth},e.prototype.getScrollHeight=function(){return document.documentElement.scrollHeight},e.prototype.getClientHeight=function(){return document.documentElement.clientHeight},e.prototype.getClientWidth=function(){return document.documentElement.clientWidth},e})(Pg);var Jr=function(){function t(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}return t.prototype.setIconOverride=function(e){var n,r;if(typeof e=="object"&&e){n=w({},this.iconClasses);for(r in e)n[r]=this.applyIconOverridePrefix(e[r]);this.iconClasses=n}else e===!1&&(this.iconClasses={})},t.prototype.applyIconOverridePrefix=function(e){var n=this.iconOverridePrefix;return n&&e.indexOf(n)!==0&&(e=n+e),e},t.prototype.getClass=function(e){return this.classes[e]||""},t.prototype.getIconClass=function(e,n){var r;return n&&this.rtlIconClasses?r=this.rtlIconClasses[e]||this.iconClasses[e]:r=this.iconClasses[e],r?this.baseIconClass+" "+r:""},t.prototype.getCustomButtonIconClass=function(e){var n;return this.iconOverrideCustomButtonOption&&(n=e[this.iconOverrideCustomButtonOption],n)?this.baseIconClass+" "+this.applyIconOverridePrefix(n):""},t}();Jr.prototype.classes={};Jr.prototype.iconClasses={};Jr.prototype.baseIconClass="";Jr.prototype.iconOverridePrefix="";var hT=function(){function t(e,n,r,i){var s=this;this.execFunc=e,this.emitter=n,this.scrollTime=r,this.scrollTimeReset=i,this.handleScrollRequest=function(o){s.queuedRequest=w({},s.queuedRequest||{},o),s.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}return t.prototype.detach=function(){this.emitter.off("_scrollRequest",this.handleScrollRequest)},t.prototype.update=function(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()},t.prototype.fireInitialScroll=function(){this.handleScrollRequest({time:this.scrollTime})},t.prototype.drain=function(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)},t}(),un=ng({});function dT(t,e,n,r,i,s,o,a,l,u,c,f,h){return{dateEnv:i,options:n,pluginHooks:o,emitter:u,dispatch:a,getCurrentData:l,calendarApi:c,viewSpec:t,viewApi:e,dateProfileGenerator:r,theme:s,isRtl:n.direction==="rtl",addResizeHandler:function(d){u.on("_resize",d)},removeResizeHandler:function(d){u.off("_resize",d)},createScrollResponder:function(d){return new hT(d,u,ce(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:f,unregisterInteractiveComponent:h}}var Xo=function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.shouldComponentUpdate=function(n,r){return this.debug&&console.log(lh(n,this.props),lh(r,this.state)),!Ua(this.props,n,this.propEquality)||!Ua(this.state,r,this.stateEquality)},e.prototype.safeSetState=function(n){Ua(this.state,w(w({},this.state),n),this.stateEquality)||this.setState(n)},e.addPropsEquality=pT,e.addStateEquality=gT,e.contextType=un,e}(Lu);Xo.prototype.propEquality={};Xo.prototype.stateEquality={};var fe=function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.contextType=un,e}(Xo);function pT(t){var e=Object.create(this.prototype.propEquality);w(e,t),this.prototype.propEquality=e}function gT(t){var e=Object.create(this.prototype.stateEquality);w(e,t),this.prototype.stateEquality=e}function Rt(t,e){typeof t=="function"?t(e):t&&(t.current=e)}var cn=function(t){B(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.uid=Zr(),n}return e.prototype.prepareHits=function(){},e.prototype.queryHit=function(n,r,i,s){return null},e.prototype.isValidSegDownEl=function(n){return!this.props.eventDrag&&!this.props.eventResize&&!Qt(n,".fc-event-mirror")},e.prototype.isValidDateDownEl=function(n){return!Qt(n,".fc-event:not(.fc-bg-event)")&&!Qt(n,".fc-more-link")&&!Qt(n,"a[data-navlink]")&&!Qt(n,".fc-popover")},e}(fe);function Wt(t){return{id:Zr(),deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,contentTypeHandlers:t.contentTypeHandlers||{},listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function vT(t,e){var n={},r={reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,contentTypeHandlers:{},listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(s){for(var o=0,a=s;o<a.length;o++){var l=a[o];n[l.id]||(n[l.id]=!0,i(l.deps),r=yT(r,l))}}return t&&i(t),i(e),r}function mT(){var t=[],e=[],n;return function(r,i){return(!n||!Fr(r,t)||!Fr(i,e))&&(n=vT(r,i)),t=r,e=i,n}}function yT(t,e){return{reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:w(w({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:w(w({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:w(w({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:w(w({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:w(w({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,contentTypeHandlers:w(w({},t.contentTypeHandlers),e.contentTypeHandlers),listenerRefiners:w(w({},t.listenerRefiners),e.listenerRefiners),optionRefiners:w(w({},t.optionRefiners),e.optionRefiners),propSetHandlers:w(w({},t.propSetHandlers),e.propSetHandlers)}}var Nn=function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Jr);Nn.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Nn.prototype.baseIconClass="fc-icon";Nn.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Nn.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Nn.prototype.iconOverrideOption="buttonIcons";Nn.prototype.iconOverrideCustomButtonOption="icon";Nn.prototype.iconOverridePrefix="fc-icon-";function ET(t,e){var n={},r;for(r in t)kl(r,n,t,e);for(r in e)kl(r,n,t,e);return n}function kl(t,e,n,r){if(e[t])return e[t];var i=bT(t,e,n,r);return i&&(e[t]=i),i}function bT(t,e,n,r){var i=n[t],s=r[t],o=function(c){return i&&i[c]!==null?i[c]:s&&s[c]!==null?s[c]:null},a=o("component"),l=o("superType"),u=null;if(l){if(l===t)throw new Error("Can't have a custom view type that references itself");u=kl(l,e,n,r)}return!a&&u&&(a=u.component),a?{type:t,component:a,defaults:w(w({},u?u.defaults:{}),i?i.rawOptions:{}),overrides:w(w({},u?u.overrides:{}),s?s.rawOptions:{})}:null}var qt=function(t){B(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.rootElRef=Pe(),n.handleRootEl=function(r){Rt(n.rootElRef,r),n.props.elRef&&Rt(n.props.elRef,r)},n}return e.prototype.render=function(){var n=this,r=this.props,i=r.hookProps;return y(Ku,{hookProps:i,didMount:r.didMount,willUnmount:r.willUnmount,elRef:this.handleRootEl},function(s){return y(Fg,{hookProps:i,content:r.content,defaultContent:r.defaultContent,backupElRef:n.rootElRef},function(o,a){return r.children(s,Hg(r.classNames,i),o,a)})})},e}(fe),Lg=ng(0);function Fg(t){return y(Lg.Consumer,null,function(e){return y(wT,w({renderId:e},t))})}var wT=function(t){B(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.innerElRef=Pe(),n}return e.prototype.render=function(){return this.props.children(this.innerElRef,this.renderInnerContent())},e.prototype.componentDidMount=function(){this.updateCustomContent()},e.prototype.componentDidUpdate=function(){this.updateCustomContent()},e.prototype.componentWillUnmount=function(){this.customContentInfo&&this.customContentInfo.destroy&&this.customContentInfo.destroy()},e.prototype.renderInnerContent=function(){var n=this.customContentInfo,r=this.getInnerContent(),i=this.getContentMeta(r);return!n||n.contentKey!==i.contentKey?(n&&(n.destroy&&n.destroy(),n=this.customContentInfo=null),i.contentKey&&(n=this.customContentInfo=w({contentKey:i.contentKey,contentVal:r[i.contentKey]},i.buildLifecycleFuncs()))):n&&(n.contentVal=r[i.contentKey]),n?[]:r},e.prototype.getInnerContent=function(){var n=this.props,r=wh(n.content,n.hookProps);return r===void 0&&(r=wh(n.defaultContent,n.hookProps)),r==null?null:r},e.prototype.getContentMeta=function(n){var r=this.context.pluginHooks.contentTypeHandlers,i="",s=null;if(n){for(var o in r)if(n[o]!==void 0){i=o,s=r[o];break}}return{contentKey:i,buildLifecycleFuncs:s}},e.prototype.updateCustomContent=function(){this.customContentInfo&&this.customContentInfo.render(this.innerElRef.current||this.props.backupElRef.current,this.customContentInfo.contentVal)},e}(fe),Ku=function(t){B(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.handleRootEl=function(r){n.rootEl=r,n.props.elRef&&Rt(n.props.elRef,r)},n}return e.prototype.render=function(){return this.props.children(this.handleRootEl)},e.prototype.componentDidMount=function(){var n=this.props.didMount;n&&n(w(w({},this.props.hookProps),{el:this.rootEl}))},e.prototype.componentWillUnmount=function(){var n=this.props.willUnmount;n&&n(w(w({},this.props.hookProps),{el:this.rootEl}))},e}(fe);function Ug(){var t,e,n=[];return function(r,i){return(!e||!tn(e,i)||r!==t)&&(t=r,e=i,n=Hg(r,i)),n}}function Hg(t,e){return typeof t=="function"&&(t=t(e)),Rl(t)}function wh(t,e){return typeof t=="function"?t(e,y):t}var Fi=function(t){B(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.normalizeClassNames=Ug(),n}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,s=i.options,o={view:i.viewApi},a=this.normalizeClassNames(s.viewClassNames,o);return y(Ku,{hookProps:o,didMount:s.viewDidMount,willUnmount:s.viewWillUnmount,elRef:r.elRef},function(l){return r.children(l,["fc-"+r.viewSpec.type+"-view","fc-view"].concat(a))})},e}(fe);function Ch(t){return ir(t,CT)}function CT(t){var e=typeof t=="function"?{component:t}:t,n=e.component;return e.content&&(n=ST(e)),{superType:e.type,component:n,rawOptions:e}}function ST(t){return function(e){return y(un.Consumer,null,function(n){return y(Fi,{viewSpec:n.viewSpec},function(r,i){var s=w(w({},e),{nextDayThreshold:n.options.nextDayThreshold});return y(qt,{hookProps:s,classNames:t.classNames,content:t.content,didMount:t.didMount,willUnmount:t.willUnmount,elRef:r},function(o,a,l,u){return y("div",{className:i.concat(a).join(" "),ref:o},u)})})})}}function TT(t,e,n,r){var i=Ch(t),s=Ch(e.views),o=ET(i,s);return ir(o,function(a){return _T(a,s,e,n,r)})}function _T(t,e,n,r,i){var s=t.overrides.duration||t.defaults.duration||r.duration||n.duration,o=null,a="",l="",u={};if(s&&(o=DT(s),o)){var c=_l(o);a=c.unit,c.value===1&&(l=a,u=e[a]?e[a].rawOptions:{})}var f=function(d){var p=d.buttonText||{},g=t.defaults.buttonTextKey;return g!=null&&p[g]!=null?p[g]:p[t.type]!=null?p[t.type]:p[l]!=null?p[l]:null},h=function(d){var p=d.buttonHints||{},g=t.defaults.buttonTextKey;return g!=null&&p[g]!=null?p[g]:p[t.type]!=null?p[t.type]:p[l]!=null?p[l]:null};return{type:t.type,component:t.component,duration:o,durationUnit:a,singleUnit:l,optionDefaults:t.defaults,optionOverrides:w(w({},u),t.overrides),buttonTextOverride:f(r)||f(n)||t.overrides.buttonText,buttonTextDefault:f(i)||t.defaults.buttonText||f(Ci)||t.type,buttonTitleOverride:h(r)||h(n)||t.overrides.buttonHint,buttonTitleDefault:h(i)||t.defaults.buttonHint||h(Ci)}}var Sh={};function DT(t){var e=JSON.stringify(t),n=Sh[e];return n===void 0&&(n=ce(t),Sh[e]=n),n}var Vg=function(){function t(e){this.props=e,this.nowDate=Zi(e.nowInput,e.dateEnv),this.initHiddenDays()}return t.prototype.buildPrev=function(e,n,r){var i=this.props.dateEnv,s=i.subtract(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(s,-1,r)},t.prototype.buildNext=function(e,n,r){var i=this.props.dateEnv,s=i.add(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(s,1,r)},t.prototype.build=function(e,n,r){r===void 0&&(r=!0);var i=this.props,s,o,a,l,u,c;return s=this.buildValidRange(),s=this.trimHiddenDays(s),r&&(e=pS(e,s)),o=this.buildCurrentRangeInfo(e,n),a=/^(year|month|week|day)$/.test(o.unit),l=this.buildRenderRange(this.trimHiddenDays(o.range),o.unit,a),l=this.trimHiddenDays(l),u=l,i.showNonCurrentDates||(u=Ur(u,o.range)),u=this.adjustActiveRange(u),u=Ur(u,s),c=dS(o.range,s),{validRange:s,currentRange:o.range,currentRangeUnit:o.unit,isRangeAllDay:a,activeRange:u,renderRange:l,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,isValid:c,dateIncrement:this.buildDateIncrement(o.duration)}},t.prototype.buildValidRange=function(){var e=this.props.validRangeInput,n=typeof e=="function"?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(n)||{start:null,end:null}},t.prototype.buildCurrentRangeInfo=function(e,n){var r=this.props,i=null,s=null,o=null,a;return r.duration?(i=r.duration,s=r.durationUnit,o=this.buildRangeFromDuration(e,n,i,s)):(a=this.props.dayCount)?(s="day",o=this.buildRangeFromDayCount(e,n,a)):(o=this.buildCustomVisibleRange(e))?s=r.dateEnv.greatestWholeUnit(o.start,o.end).unit:(i=this.getFallbackDuration(),s=_l(i).unit,o=this.buildRangeFromDuration(e,n,i,s)),{duration:i,unit:s,range:o}},t.prototype.getFallbackDuration=function(){return ce({day:1})},t.prototype.adjustActiveRange=function(e){var n=this.props,r=n.dateEnv,i=n.usesMinMaxTime,s=n.slotMinTime,o=n.slotMaxTime,a=e.start,l=e.end;return i&&(Dr(s)<0&&(a=Ce(a),a=r.add(a,s)),Dr(o)>1&&(l=Ce(l),l=at(l,-1),l=r.add(l,o))),{start:a,end:l}},t.prototype.buildRangeFromDuration=function(e,n,r,i){var s=this.props,o=s.dateEnv,a=s.dateAlignment,l,u,c;if(!a){var f=this.props.dateIncrement;f&&St(f)<St(r)?a=_l(f).unit:a=i}Dr(r)<=1&&this.isHiddenDay(l)&&(l=this.skipHiddenDays(l,n),l=Ce(l));function h(){l=o.startOf(e,a),u=o.add(l,r),c={start:l,end:u}}return h(),this.trimHiddenDays(c)||(e=this.skipHiddenDays(e,n),h()),c},t.prototype.buildRangeFromDayCount=function(e,n,r){var i=this.props,s=i.dateEnv,o=i.dateAlignment,a=0,l=e,u;o&&(l=s.startOf(l,o)),l=Ce(l),l=this.skipHiddenDays(l,n),u=l;do u=at(u,1),this.isHiddenDay(u)||(a+=1);while(a<r);return{start:l,end:u}},t.prototype.buildCustomVisibleRange=function(e){var n=this.props,r=n.visibleRangeInput,i=typeof r=="function"?r.call(n.calendarApi,n.dateEnv.toDate(e)):r,s=this.refineRange(i);return s&&(s.start==null||s.end==null)?null:s},t.prototype.buildRenderRange=function(e,n,r){return e},t.prototype.buildDateIncrement=function(e){var n=this.props.dateIncrement,r;return n||((r=this.props.dateAlignment)?ce(1,r):e||ce({days:1}))},t.prototype.refineRange=function(e){if(e){var n=fS(e,this.props.dateEnv);return n&&(n=vg(n)),n}return null},t.prototype.initHiddenDays=function(){var e=this.props.hiddenDays||[],n=[],r=0,i;for(this.props.weekends===!1&&e.push(0,6),i=0;i<7;i+=1)(n[i]=e.indexOf(i)!==-1)||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n},t.prototype.trimHiddenDays=function(e){var n=e.start,r=e.end;return n&&(n=this.skipHiddenDays(n)),r&&(r=this.skipHiddenDays(r,-1,!0)),n==null||r==null||n<r?{start:n,end:r}:null},t.prototype.isHiddenDay=function(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]},t.prototype.skipHiddenDays=function(e,n,r){for(n===void 0&&(n=1),r===void 0&&(r=!1);this.isHiddenDayHash[(e.getUTCDay()+(r?n:0)+7)%7];)e=at(e,n);return e},t}();function RT(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function IT(t,e){var n;switch(e.type){case"SET_OPTION":return w(w({},t),(n={},n[e.optionName]=e.rawOptionValue,n));default:return t}}function AT(t,e,n,r){var i;switch(e.type){case"CHANGE_VIEW_TYPE":return r.build(e.dateMarker||n);case"CHANGE_DATE":return r.build(e.dateMarker);case"PREV":if(i=r.buildPrev(t,n),i.isValid)return i;break;case"NEXT":if(i=r.buildNext(t,n),i.isValid)return i;break}return t}function kT(t,e,n){var r=e?e.activeRange:null;return $g({},FT(t,n),r,n)}function xT(t,e,n,r){var i=n?n.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return $g(t,e.sources,i,r);case"REMOVE_EVENT_SOURCE":return NT(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?jg(t,i,r):t;case"FETCH_EVENT_SOURCES":return Yu(t,e.sourceIds?lg(e.sourceIds):Wg(t,r),i,e.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return LT(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function MT(t,e,n){var r=e?e.activeRange:null;return Yu(t,Wg(t,n),r,!0,n)}function Bg(t){for(var e in t)if(t[e].isFetching)return!0;return!1}function $g(t,e,n,r){for(var i={},s=0,o=e;s<o.length;s++){var a=o[s];i[a.sourceId]=a}return n&&(i=jg(i,n,r)),w(w({},t),i)}function NT(t,e){return Lr(t,function(n){return n.sourceId!==e})}function jg(t,e,n){return Yu(t,Lr(t,function(r){return OT(r,e,n)}),e,!1,n)}function OT(t,e,n){return qg(t,n)?!n.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function Yu(t,e,n,r,i){var s={};for(var o in t){var a=t[o];e[o]?s[o]=PT(a,n,r,i):s[o]=a}return s}function PT(t,e,n,r){var i=r.options,s=r.calendarApi,o=r.pluginHooks.eventSourceDefs[t.sourceDefId],a=Zr();return o.fetch({eventSource:t,range:e,isRefetch:n,context:r},function(l){var u=l.rawEvents;i.eventSourceSuccess&&(u=i.eventSourceSuccess.call(s,u,l.xhr)||u),t.success&&(u=t.success.call(s,u,l.xhr)||u),r.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:a,fetchRange:e,rawEvents:u})},function(l){console.warn(l.message,l),i.eventSourceFailure&&i.eventSourceFailure.call(s,l),t.failure&&t.failure(l),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:a,fetchRange:e,error:l})}),w(w({},t),{isFetching:!0,latestFetchId:a})}function LT(t,e,n,r){var i,s=t[e];return s&&n===s.latestFetchId?w(w({},t),(i={},i[e]=w(w({},s),{isFetching:!1,fetchRange:r}),i)):t}function Wg(t,e){return Lr(t,function(n){return qg(n,e)})}function FT(t,e){var n=Dg(e),r=[].concat(t.eventSources||[]),i=[];t.initialEvents&&r.unshift(t.initialEvents),t.events&&r.unshift(t.events);for(var s=0,o=r;s<o.length;s++){var a=o[s],l=_g(a,e,n);l&&i.push(l)}return i}function qg(t,e){var n=e.pluginHooks.eventSourceDefs;return!n[t.sourceDefId].ignoreRange}function UT(t,e,n,r,i){switch(e.type){case"RECEIVE_EVENTS":return HT(t,n[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,i);case"ADD_EVENTS":return BT(t,e.eventStore,r?r.activeRange:null,i);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return ju(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?Yo(t,r.activeRange,i):t;case"REMOVE_EVENTS":return iS(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return zg(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Wu(t,function(s){return!s.sourceId});case"REMOVE_ALL_EVENTS":return nn();default:return t}}function HT(t,e,n,r,i,s){if(e&&n===e.latestFetchId){var o=uo(VT(i,e,s),e,s);return r&&(o=Yo(o,r,s)),ju(zg(t,e.sourceId),o)}return t}function VT(t,e,n){var r=n.options.eventDataTransform,i=e?e.eventDataTransform:null;return i&&(t=Th(t,i)),r&&(t=Th(t,r)),t}function Th(t,e){var n;if(!e)n=t;else{n=[];for(var r=0,i=t;r<i.length;r++){var s=i[r],o=e(s);o?n.push(o):o==null&&n.push(s)}}return n}function BT(t,e,n,r){return n&&(e=Yo(e,n,r)),ju(t,e)}function $T(t,e,n){var r=t.defs,i=ir(t.instances,function(s){var o=r[s.defId];return o.allDay||o.recurringDef?s:w(w({},s),{range:{start:n.createMarker(e.toDate(s.range.start,s.forcedStartTzo)),end:n.createMarker(e.toDate(s.range.end,s.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:s.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:s.forcedEndTzo})});return{defs:r,instances:i}}function zg(t,e){return Wu(t,function(n){return n.sourceId!==e})}function jT(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function WT(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function qT(t,e){var n;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function zT(t,e){var n;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function GT(t,e,n,r,i){var s=t.headerToolbar?_h(t.headerToolbar,t,e,n,r,i):null,o=t.footerToolbar?_h(t.footerToolbar,t,e,n,r,i):null;return{header:s,footer:o}}function _h(t,e,n,r,i,s){var o={},a=[],l=!1;for(var u in t){var c=t[u],f=KT(c,e,n,r,i,s);o[u]=f.widgets,a.push.apply(a,f.viewsWithButtons),l=l||f.hasTitle}return{sectionWidgets:o,viewsWithButtons:a,hasTitle:l}}function KT(t,e,n,r,i,s){var o=e.direction==="rtl",a=e.customButtons||{},l=n.buttonText||{},u=e.buttonText||{},c=n.buttonHints||{},f=e.buttonHints||{},h=t?t.split(" "):[],d=[],p=!1,g=h.map(function(m){return m.split(",").map(function(v){if(v==="title")return p=!0,{buttonName:v};var b,T,D,F,V,U;if(b=a[v])D=function(se){b.click&&b.click.call(se.target,se,se.target)},(F=r.getCustomButtonIconClass(b))||(F=r.getIconClass(v,o))||(V=b.text),U=b.hint||b.text;else if(T=i[v]){d.push(v),D=function(){s.changeView(v)},(V=T.buttonTextOverride)||(F=r.getIconClass(v,o))||(V=T.buttonTextDefault);var O=T.buttonTextOverride||T.buttonTextDefault;U=wi(T.buttonTitleOverride||T.buttonTitleDefault||e.viewHint,[O,v],O)}else if(s[v])if(D=function(){s[v]()},(V=l[v])||(F=r.getIconClass(v,o))||(V=u[v]),v==="prevYear"||v==="nextYear"){var le=v==="prevYear"?"prev":"next";U=wi(c[le]||f[le],[u.year||"year","year"],u[v])}else U=function(se){return wi(c[v]||f[v],[u[se]||se,se],u[v])};return{buttonName:v,buttonClick:D,buttonIcon:F,buttonText:V,buttonHint:U}})});return{widgets:g,viewsWithButtons:d,hasTitle:p}}var YT={ignoreRange:!0,parseMeta:function(t){return Array.isArray(t.events)?t.events:null},fetch:function(t,e){e({rawEvents:t.eventSource.meta})}},QT=Wt({eventSourceDefs:[YT]}),XT={parseMeta:function(t){return typeof t.events=="function"?t.events:null},fetch:function(t,e,n){var r=t.context.dateEnv,i=t.eventSource.meta;lT(i.bind(null,Sg(t.range,r)),function(s){e({rawEvents:s})},n)}},ZT=Wt({eventSourceDefs:[XT]});function JT(t,e,n,r,i){t=t.toUpperCase();var s=null;t==="GET"?e=e_(e,n):s=Gg(n);var o=new XMLHttpRequest;o.open(t,e,!0),t!=="GET"&&o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.onload=function(){if(o.status>=200&&o.status<400){var a=!1,l=void 0;try{l=JSON.parse(o.responseText),a=!0}catch{}a?r(l,o):i("Failure parsing JSON",o)}else i("Request failed",o)},o.onerror=function(){i("Request failed",o)},o.send(s)}function e_(t,e){return t+(t.indexOf("?")===-1?"?":"&")+Gg(e)}function Gg(t){var e=[];for(var n in t)e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}var t_={method:String,extraParams:S,startParam:String,endParam:String,timeZoneParam:String},n_={parseMeta:function(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch:function(t,e,n){var r=t.eventSource.meta,i=i_(r,t.range,t.context);JT(r.method,r.url,i,function(s,o){e({rawEvents:s,xhr:o})},function(s,o){n({message:s,xhr:o})})}},r_=Wt({eventSourceRefiners:t_,eventSourceDefs:[n_]});function i_(t,e,n){var r=n.dateEnv,i=n.options,s,o,a,l,u={};return s=t.startParam,s==null&&(s=i.startParam),o=t.endParam,o==null&&(o=i.endParam),a=t.timeZoneParam,a==null&&(a=i.timeZoneParam),typeof t.extraParams=="function"?l=t.extraParams():l=t.extraParams||{},w(u,l),u[s]=r.formatIso(e.start),u[o]=r.formatIso(e.end),r.timeZone!=="local"&&(u[a]=r.timeZone),u}var s_={daysOfWeek:S,startTime:ce,endTime:ce,duration:ce,startRecur:S,endRecur:S},o_={parse:function(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){var n={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null},r=void 0;return t.duration&&(r=t.duration),!r&&t.startTime&&t.endTime&&(r=PC(t.endTime,t.startTime)),{allDayGuess:Boolean(!t.startTime&&!t.endTime),duration:r,typeData:n}}return null},expand:function(t,e,n){var r=Ur(e,{start:t.startRecur,end:t.endRecur});return r?l_(t.daysOfWeek,t.startTime,r,n):[]}},a_=Wt({recurringTypes:[o_],eventRefiners:s_});function l_(t,e,n,r){for(var i=t?lg(t):null,s=Ce(n.start),o=n.end,a=[];s<o;){var l=void 0;(!i||i[s.getUTCDay()])&&(e?l=r.add(s,e):l=s,a.push(l)),s=at(s,1)}return a}var u_=Wt({optionChangeHandlers:{events:function(t,e){Dh([t],e)},eventSources:Dh}});function Dh(t,e){for(var n=Hu(e.getCurrentData().eventSources),r=[],i=0,s=t;i<s.length;i++){for(var o=s[i],a=!1,l=0;l<n.length;l+=1)if(n[l]._raw===o){n.splice(l,1),a=!0;break}a||r.push(o)}for(var u=0,c=n;u<c.length;u++){var f=c[u];e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:f.sourceId})}for(var h=0,d=r;h<d.length;h++){var p=d[h];e.calendarApi.addEventSource(p)}}function c_(t,e){e.emitter.trigger("datesSet",w(w({},Sg(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function f_(t,e){var n=e.emitter;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",zu(t,e))}var h_=[QT,ZT,r_,a_,u_,Wt({isLoadingFuncs:[function(t){return Bg(t.eventSources)}],contentTypeHandlers:{html:d_,domNodes:p_},propSetHandlers:{dateProfile:c_,eventStore:f_}})];function d_(){var t=null,e="";function n(i,s){(i!==t||s!==e)&&(i.innerHTML=s),t=i,e=s}function r(){t.innerHTML="",t=null,e=""}return{render:n,destroy:r}}function p_(){var t=null,e=[];function n(i,s){var o=Array.prototype.slice.call(s);if(i!==t||!Fr(e,o)){for(var a=0,l=o;a<l.length;a++){var u=l[a];i.appendChild(u)}r()}t=i,e=o}function r(){e.forEach(rC),e=[],t=null}return{render:n,destroy:r}}var Qu=function(){function t(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}return t.prototype.request=function(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))},t.prototype.pause=function(e){e===void 0&&(e="");var n=this.pauseDepths;n[e]=(n[e]||0)+1,this.clearTimeout()},t.prototype.resume=function(e,n){e===void 0&&(e="");var r=this.pauseDepths;if(e in r){if(n)delete r[e];else{r[e]-=1;var i=r[e];i<=0&&delete r[e]}this.tryDrain()}},t.prototype.isPaused=function(){return Object.keys(this.pauseDepths).length},t.prototype.tryDrain=function(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}},t.prototype.clear=function(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}},t.prototype.clearTimeout=function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)},t.prototype.drained=function(){this.drainedOption&&this.drainedOption()},t}(),g_=function(){function t(e,n){this.runTaskOption=e,this.drainedOption=n,this.queue=[],this.delayedRunner=new Qu(this.drain.bind(this))}return t.prototype.request=function(e,n){this.queue.push(e),this.delayedRunner.request(n)},t.prototype.pause=function(e){this.delayedRunner.pause(e)},t.prototype.resume=function(e,n){this.delayedRunner.resume(e,n)},t.prototype.drain=function(){for(var e=this.queue;e.length;){for(var n=[],r=void 0;r=e.shift();)this.runTask(r),n.push(r);this.drained(n)}},t.prototype.runTask=function(e){this.runTaskOption&&this.runTaskOption(e)},t.prototype.drained=function(e){this.drainedOption&&this.drainedOption(e)},t}();function v_(t,e,n){var r;return/^(year|month)$/.test(t.currentRangeUnit)?r=t.currentRange:r=t.activeRange,n.formatRange(r.start,r.end,Ie(e.titleFormat||m_(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function m_(t){var e=t.currentRangeUnit;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};var n=so(t.currentRange.start,t.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}var Kg=function(){function t(e){var n=this;this.computeOptionsData=Y(this._computeOptionsData),this.computeCurrentViewData=Y(this._computeCurrentViewData),this.organizeRawLocales=Y(qS),this.buildLocale=Y(xg),this.buildPluginHooks=mT(),this.buildDateEnv=Y(y_),this.buildTheme=Y(E_),this.parseToolbars=Y(GT),this.buildViewSpecs=Y(TT),this.buildDateProfileGenerator=js(b_),this.buildViewApi=Y(w_),this.buildViewUiProps=js(T_),this.buildEventUiBySource=Y(C_,tn),this.buildEventUiBases=Y(S_),this.parseContextBusinessHours=js(__),this.buildTitle=Y(v_),this.emitter=new uT,this.actionRunner=new g_(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.getCurrentData=function(){return n.data},this.dispatch=function(T){n.actionRunner.request(T)},this.props=e,this.actionRunner.pause();var r={},i=this.computeOptionsData(e.optionOverrides,r,e.calendarApi),s=i.calendarOptions.initialView||i.pluginHooks.initialView,o=this.computeCurrentViewData(s,i,e.optionOverrides,r);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(o.options);var a=LS(i.calendarOptions,i.dateEnv),l=o.dateProfileGenerator.build(a);wn(l.activeRange,a)||(a=l.currentRange.start);for(var u={dateEnv:i.dateEnv,options:i.calendarOptions,pluginHooks:i.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},c=0,f=i.pluginHooks.contextInit;c<f.length;c++){var h=f[c];h(u)}for(var d=kT(i.calendarOptions,l,u),p={dynamicOptionOverrides:r,currentViewType:s,currentDate:a,dateProfile:l,businessHours:this.parseContextBusinessHours(u),eventSources:d,eventUiBases:{},eventStore:nn(),renderableEventStore:nn(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(u).selectionConfig},g=w(w({},u),p),m=0,v=i.pluginHooks.reducers;m<v.length;m++){var b=v[m];w(p,b(null,null,g))}ja(p,u)&&this.emitter.trigger("loading",!0),this.state=p,this.updateData(),this.actionRunner.resume()}return t.prototype.resetOptions=function(e,n){var r=this.props;r.optionOverrides=n?w(w({},r.optionOverrides),e):e,this.actionRunner.request({type:"NOTHING"})},t.prototype._handleAction=function(e){var n=this,r=n.props,i=n.state,s=n.emitter,o=IT(i.dynamicOptionOverrides,e),a=this.computeOptionsData(r.optionOverrides,o,r.calendarApi),l=RT(i.currentViewType,e),u=this.computeCurrentViewData(l,a,r.optionOverrides,o);r.calendarApi.currentDataManager=this,s.setThisContext(r.calendarApi),s.setOptions(u.options);var c={dateEnv:a.dateEnv,options:a.calendarOptions,pluginHooks:a.pluginHooks,calendarApi:r.calendarApi,dispatch:this.dispatch,emitter:s,getCurrentData:this.getCurrentData},f=i.currentDate,h=i.dateProfile;this.data&&this.data.dateProfileGenerator!==u.dateProfileGenerator&&(h=u.dateProfileGenerator.build(f)),f=PS(f,e),h=AT(h,e,f,u.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!wn(h.currentRange,f))&&(f=h.currentRange.start);for(var d=xT(i.eventSources,e,h,c),p=UT(i.eventStore,e,d,h,c),g=Bg(d),m=g&&!u.options.progressiveEventRendering&&i.renderableEventStore||p,v=this.buildViewUiProps(c),b=v.eventUiSingleBase,T=v.selectionConfig,D=this.buildEventUiBySource(d),F=this.buildEventUiBases(m.defs,b,D),V={dynamicOptionOverrides:o,currentViewType:l,currentDate:f,dateProfile:h,eventSources:d,eventStore:p,renderableEventStore:m,selectionConfig:T,eventUiBases:F,businessHours:this.parseContextBusinessHours(c),dateSelection:jT(i.dateSelection,e),eventSelection:WT(i.eventSelection,e),eventDrag:qT(i.eventDrag,e),eventResize:zT(i.eventResize,e)},U=w(w({},c),V),O=0,le=a.pluginHooks.reducers;O<le.length;O++){var se=le[O];w(V,se(i,e,U))}var _e=ja(i,c),He=ja(V,c);!_e&&He?s.trigger("loading",!0):_e&&!He&&s.trigger("loading",!1),this.state=V,r.onAction&&r.onAction(e)},t.prototype.updateData=function(){var e=this,n=e.props,r=e.state,i=this.data,s=this.computeOptionsData(n.optionOverrides,r.dynamicOptionOverrides,n.calendarApi),o=this.computeCurrentViewData(r.currentViewType,s,n.optionOverrides,r.dynamicOptionOverrides),a=this.data=w(w(w({viewTitle:this.buildTitle(r.dateProfile,o.options,s.dateEnv),calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},s),o),r),l=s.pluginHooks.optionChangeHandlers,u=i&&i.calendarOptions,c=s.calendarOptions;if(u&&u!==c){u.timeZone!==c.timeZone&&(r.eventSources=a.eventSources=MT(a.eventSources,r.dateProfile,a),r.eventStore=a.eventStore=$T(a.eventStore,i.dateEnv,a.dateEnv));for(var f in l)u[f]!==c[f]&&l[f](c[f],a)}n.onData&&n.onData(a)},t.prototype._computeOptionsData=function(e,n,r){var i=this.processRawCalendarOptions(e,n),s=i.refinedOptions,o=i.pluginHooks,a=i.localeDefaults,l=i.availableLocaleData,u=i.extra;Rh(u);var c=this.buildDateEnv(s.timeZone,s.locale,s.weekNumberCalculation,s.firstDay,s.weekText,o,l,s.defaultRangeSeparator),f=this.buildViewSpecs(o.views,e,n,a),h=this.buildTheme(s,o),d=this.parseToolbars(s,e,h,f,r);return{calendarOptions:s,pluginHooks:o,dateEnv:c,viewSpecs:f,theme:h,toolbarConfig:d,localeDefaults:a,availableRawLocales:l.map}},t.prototype.processRawCalendarOptions=function(e,n){var r=Ha([Ci,e,n]),i=r.locales,s=r.locale,o=this.organizeRawLocales(i),a=o.map,l=this.buildLocale(s||o.defaultCode,a).options,u=this.buildPluginHooks(e.plugins||[],h_),c=this.currentCalendarOptionsRefiners=w(w(w(w(w({},ph),gh),vh),u.listenerRefiners),u.optionRefiners),f={},h=Ha([Ci,l,e,n]),d={},p=this.currentCalendarOptionsInput,g=this.currentCalendarOptionsRefined,m=!1;for(var v in h)v!=="plugins"&&(h[v]===p[v]||Bn[v]&&v in p&&Bn[v](p[v],h[v])?d[v]=g[v]:c[v]?(d[v]=c[v](h[v]),m=!0):f[v]=p[v]);return m&&(this.currentCalendarOptionsInput=h,this.currentCalendarOptionsRefined=d),{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:u,availableLocaleData:o,localeDefaults:l,extra:f}},t.prototype._computeCurrentViewData=function(e,n,r,i){var s=n.viewSpecs[e];if(!s)throw new Error('viewType "'+e+`" is not available. Please make sure you've loaded all neccessary plugins`);var o=this.processRawViewOptions(s,n.pluginHooks,n.localeDefaults,r,i),a=o.refinedOptions,l=o.extra;Rh(l);var u=this.buildDateProfileGenerator({dateProfileGeneratorClass:s.optionDefaults.dateProfileGeneratorClass,duration:s.duration,durationUnit:s.durationUnit,usesMinMaxTime:s.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:a.slotMinTime,slotMaxTime:a.slotMaxTime,showNonCurrentDates:a.showNonCurrentDates,dayCount:a.dayCount,dateAlignment:a.dateAlignment,dateIncrement:a.dateIncrement,hiddenDays:a.hiddenDays,weekends:a.weekends,nowInput:a.now,validRangeInput:a.validRange,visibleRangeInput:a.visibleRange,monthMode:a.monthMode,fixedWeekCount:a.fixedWeekCount}),c=this.buildViewApi(e,this.getCurrentData,n.dateEnv);return{viewSpec:s,options:a,dateProfileGenerator:u,viewApi:c}},t.prototype.processRawViewOptions=function(e,n,r,i,s){var o=Ha([Ci,e.optionDefaults,r,i,e.optionOverrides,s]),a=w(w(w(w(w(w({},ph),gh),vh),tS),n.listenerRefiners),n.optionRefiners),l={},u=this.currentViewOptionsInput,c=this.currentViewOptionsRefined,f=!1,h={};for(var d in o)o[d]===u[d]||Bn[d]&&Bn[d](o[d],u[d])?l[d]=c[d]:(o[d]===this.currentCalendarOptionsInput[d]||Bn[d]&&Bn[d](o[d],this.currentCalendarOptionsInput[d])?d in this.currentCalendarOptionsRefined&&(l[d]=this.currentCalendarOptionsRefined[d]):a[d]?l[d]=a[d](o[d]):h[d]=o[d],f=!0);return f&&(this.currentViewOptionsInput=o,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:h}},t}();function y_(t,e,n,r,i,s,o,a){var l=xg(e||o.defaultCode,o.map);return new jS({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:s.namedTimeZonedImpl,locale:l,weekNumberCalculation:n,firstDay:r,weekText:i,cmdFormatter:s.cmdFormatter,defaultSeparator:a})}function E_(t,e){var n=e.themeClasses[t.themeSystem]||Nn;return new n(t)}function b_(t){var e=t.dateProfileGeneratorClass||Vg;return new e(t)}function w_(t,e,n){return new MS(t,e,n)}function C_(t){return ir(t,function(e){return e.ui})}function S_(t,e,n){var r={"":e};for(var i in t){var s=t[i];s.sourceId&&n[s.sourceId]&&(r[i]=n[s.sourceId])}return r}function T_(t){var e=t.options;return{eventUiSingleBase:fo({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:fo({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function ja(t,e){for(var n=0,r=e.pluginHooks.isLoadingFuncs;n<r.length;n++){var i=r[n];if(i(t))return!0}return!1}function __(t){return YS(t.options.businessHours,t)}function Rh(t,e){for(var n in t)console.warn("Unknown option '"+n+"'"+(e?" for view '"+e+"'":""))}(function(t){B(e,t);function e(n){var r=t.call(this,n)||this;return r.handleData=function(i){r.dataManager?r.setState(i):r.state=i},r.dataManager=new Kg({optionOverrides:n.optionOverrides,calendarApi:n.calendarApi,onData:r.handleData}),r}return e.prototype.render=function(){return this.props.children(this.state)},e.prototype.componentDidUpdate=function(n){var r=this.props.optionOverrides;r!==n.optionOverrides&&this.dataManager.resetOptions(r)},e})(Lu);var Yg=function(){function t(){this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}return t.prototype.addSegs=function(e){for(var n=[],r=0,i=e;r<i.length;r++){var s=i[r];this.insertEntry(s,n)}return n},t.prototype.insertEntry=function(e,n){var r=this.findInsertion(e);return this.isInsertionValid(r,e)?(this.insertEntryAt(e,r),1):this.handleInvalidInsertion(r,e,n)},t.prototype.isInsertionValid=function(e,n){return(this.maxCoord===-1||e.levelCoord+n.thickness<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)},t.prototype.handleInvalidInsertion=function(e,n,r){return this.allowReslicing&&e.touchingEntry?this.splitEntry(n,e.touchingEntry,r):(r.push(n),0)},t.prototype.splitEntry=function(e,n,r){var i=0,s=[],o=e.span,a=n.span;return o.start<a.start&&(i+=this.insertEntry({index:e.index,thickness:e.thickness,span:{start:o.start,end:a.start}},s)),o.end>a.end&&(i+=this.insertEntry({index:e.index,thickness:e.thickness,span:{start:a.end,end:o.end}},s)),i?(r.push.apply(r,Re([{index:e.index,thickness:e.thickness,span:Xu(a,o)}],s)),i):(r.push(e),0)},t.prototype.insertEntryAt=function(e,n){var r=this,i=r.entriesByLevel,s=r.levelCoords;n.lateral===-1?(Wa(s,n.level,n.levelCoord),Wa(i,n.level,[e])):Wa(i[n.level],n.lateral,e),this.stackCnts[Zn(e)]=n.stackCnt},t.prototype.findInsertion=function(e){for(var n=this,r=n.levelCoords,i=n.entriesByLevel,s=n.strictOrder,o=n.stackCnts,a=r.length,l=0,u=-1,c=-1,f=null,h=0,d=0;d<a;d+=1){var p=r[d];if(!s&&p>=l+e.thickness)break;for(var g=i[d],m=void 0,v=Ml(g,e.span.start,xl),b=v[0]+v[1];(m=g[b])&&m.span.start<e.span.end;){var T=p+m.thickness;T>l&&(l=T,f=m,u=d,c=b),T===l&&(h=Math.max(h,o[Zn(m)]+1)),b+=1}}var D=0;if(f)for(D=u+1;D<a&&r[D]<l;)D+=1;var F=-1;return D<a&&r[D]===l&&(F=Ml(i[D],e.span.end,xl)[0]),{touchingLevel:u,touchingLateral:c,touchingEntry:f,stackCnt:h,levelCoord:l,level:D,lateral:F}},t.prototype.toRects=function(){for(var e=this,n=e.entriesByLevel,r=e.levelCoords,i=n.length,s=[],o=0;o<i;o+=1)for(var a=n[o],l=r[o],u=0,c=a;u<c.length;u++){var f=c[u];s.push(w(w({},f),{levelCoord:l}))}return s},t}();function xl(t){return t.span.end}function Zn(t){return t.index+":"+t.span.start}function D_(t){for(var e=[],n=0,r=t;n<r.length;n++){for(var i=r[n],s=[],o={span:i.span,entries:[i]},a=0,l=e;a<l.length;a++){var u=l[a];Xu(u.span,o.span)?o={entries:u.entries.concat(o.entries),span:R_(u.span,o.span)}:s.push(u)}s.push(o),e=s}return e}function R_(t,e){return{start:Math.min(t.start,e.start),end:Math.max(t.end,e.end)}}function Xu(t,e){var n=Math.max(t.start,e.start),r=Math.min(t.end,e.end);return n<r?{start:n,end:r}:null}function Wa(t,e,n){t.splice(e,0,n)}function Ml(t,e,n){var r=0,i=t.length;if(!i||e<n(t[r]))return[0,0];if(e>n(t[i-1]))return[i,0];for(;r<i;){var s=Math.floor(r+(i-r)/2),o=n(t[s]);if(e<o)i=s;else if(e>o)r=s+1;else return[s,1]}return[r,0]}var Qg=function(){function t(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}return t.prototype.destroy=function(){},t}();function I_(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}var Ih={},A_=function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this,r=this.props.widgetGroups.map(function(i){return n.renderWidgetGroup(i)});return y.apply(void 0,Re(["div",{className:"fc-toolbar-chunk"}],r))},e.prototype.renderWidgetGroup=function(n){for(var r=this.props,i=this.context.theme,s=[],o=!0,a=0,l=n;a<l.length;a++){var u=l[a],c=u.buttonName,f=u.buttonClick,h=u.buttonText,d=u.buttonIcon,p=u.buttonHint;if(c==="title")o=!1,s.push(y("h2",{className:"fc-toolbar-title",id:r.titleId},r.title));else{var g=c===r.activeButton,m=!r.isTodayEnabled&&c==="today"||!r.isPrevEnabled&&c==="prev"||!r.isNextEnabled&&c==="next",v=["fc-"+c+"-button",i.getClass("button")];g&&v.push(i.getClass("buttonActive")),s.push(y("button",{type:"button",title:typeof p=="function"?p(r.navUnit):p,disabled:m,"aria-pressed":g,className:v.join(" "),onClick:f},h||(d?y("span",{className:d}):"")))}}if(s.length>1){var b=o&&i.getClass("buttonGroup")||"";return y.apply(void 0,Re(["div",{className:b}],s))}return s[0]},e}(fe),Ah=function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.props,r=n.model,i=n.extraClassName,s=!1,o,a,l=r.sectionWidgets,u=l.center;l.left?(s=!0,o=l.left):o=l.start,l.right?(s=!0,a=l.right):a=l.end;var c=[i||"","fc-toolbar",s?"fc-toolbar-ltr":""];return y("div",{className:c.join(" ")},this.renderSection("start",o||[]),this.renderSection("center",u||[]),this.renderSection("end",a||[]))},e.prototype.renderSection=function(n,r){var i=this.props;return y(A_,{key:n,widgetGroups:r,title:i.title,navUnit:i.navUnit,activeButton:i.activeButton,isTodayEnabled:i.isTodayEnabled,isPrevEnabled:i.isPrevEnabled,isNextEnabled:i.isNextEnabled,titleId:i.titleId})},e}(fe),k_=function(t){B(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={availableWidth:null},n.handleEl=function(r){n.el=r,Rt(n.props.elRef,r),n.updateAvailableWidth()},n.handleResize=function(){n.updateAvailableWidth()},n}return e.prototype.render=function(){var n=this,r=n.props,i=n.state,s=r.aspectRatio,o=["fc-view-harness",s||r.liquid||r.height?"fc-view-harness-active":"fc-view-harness-passive"],a="",l="";return s?i.availableWidth!==null?a=i.availableWidth/s:l=1/s*100+"%":a=r.height||"",y("div",{"aria-labelledby":r.labeledById,ref:this.handleEl,className:o.join(" "),style:{height:a,paddingBottom:l}},r.children)},e.prototype.componentDidMount=function(){this.context.addResizeHandler(this.handleResize)},e.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleResize)},e.prototype.updateAvailableWidth=function(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})},e}(fe),x_=function(t){B(e,t);function e(n){var r=t.call(this,n)||this;return r.handleSegClick=function(i,s){var o=r.component,a=o.context,l=Al(s);if(l&&o.isValidSegDownEl(i.target)){var u=Qt(i.target,".fc-event-forced-url"),c=u?u.querySelector("a[href]").href:"";a.emitter.trigger("eventClick",{el:s,event:new Ht(o.context,l.eventRange.def,l.eventRange.instance),jsEvent:i,view:a.viewApi}),c&&!i.defaultPrevented&&(window.location.href=c)}},r.destroy=ig(n.el,"click",".fc-event",r.handleSegClick),r}return e}(Qg),M_=function(t){B(e,t);function e(n){var r=t.call(this,n)||this;return r.handleEventElRemove=function(i){i===r.currentSegEl&&r.handleSegLeave(null,r.currentSegEl)},r.handleSegEnter=function(i,s){Al(s)&&(r.currentSegEl=s,r.triggerEvent("eventMouseEnter",i,s))},r.handleSegLeave=function(i,s){r.currentSegEl&&(r.currentSegEl=null,r.triggerEvent("eventMouseLeave",i,s))},r.removeHoverListeners=cC(n.el,".fc-event",r.handleSegEnter,r.handleSegLeave),r}return e.prototype.destroy=function(){this.removeHoverListeners()},e.prototype.triggerEvent=function(n,r,i){var s=this.component,o=s.context,a=Al(i);(!r||s.isValidSegDownEl(r.target))&&o.emitter.trigger(n,{el:i,event:new Ht(o,a.eventRange.def,a.eventRange.instance),jsEvent:r,view:o.viewApi})},e}(Qg),N_=function(t){B(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.buildViewContext=Y(dT),n.buildViewPropTransformers=Y(P_),n.buildToolbarProps=Y(O_),n.headerRef=Pe(),n.footerRef=Pe(),n.interactionsStore={},n.state={viewLabelId:Ko()},n.registerInteractiveComponent=function(r,i){var s=I_(r,i),o=[x_,M_],a=o.concat(n.props.pluginHooks.componentInteractions),l=a.map(function(u){return new u(s)});n.interactionsStore[r.uid]=l,Ih[r.uid]=s},n.unregisterInteractiveComponent=function(r){var i=n.interactionsStore[r.uid];if(i){for(var s=0,o=i;s<o.length;s++){var a=o[s];a.destroy()}delete n.interactionsStore[r.uid]}delete Ih[r.uid]},n.resizeRunner=new Qu(function(){n.props.emitter.trigger("_resize",!0),n.props.emitter.trigger("windowResize",{view:n.props.viewApi})}),n.handleWindowResize=function(r){var i=n.props.options;i.handleWindowResize&&r.target===window&&n.resizeRunner.request(i.windowResizeDelay)},n}return e.prototype.render=function(){var n=this.props,r=n.toolbarConfig,i=n.options,s=this.buildToolbarProps(n.viewSpec,n.dateProfile,n.dateProfileGenerator,n.currentDate,Zi(n.options.now,n.dateEnv),n.viewTitle),o=!1,a="",l;n.isHeightAuto||n.forPrint?a="":i.height!=null?o=!0:i.contentHeight!=null?a=i.contentHeight:l=Math.max(i.aspectRatio,.5);var u=this.buildViewContext(n.viewSpec,n.viewApi,n.options,n.dateProfileGenerator,n.dateEnv,n.theme,n.pluginHooks,n.dispatch,n.getCurrentData,n.emitter,n.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),c=r.header&&r.header.hasTitle?this.state.viewLabelId:"";return y(un.Provider,{value:u},r.header&&y(Ah,w({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:r.header,titleId:c},s)),y(k_,{liquid:o,height:a,aspectRatio:l,labeledById:c},this.renderView(n),this.buildAppendContent()),r.footer&&y(Ah,w({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:r.footer,titleId:""},s)))},e.prototype.componentDidMount=function(){var n=this.props;this.calendarInteractions=n.pluginHooks.calendarInteractions.map(function(s){return new s(n)}),window.addEventListener("resize",this.handleWindowResize);var r=n.pluginHooks.propSetHandlers;for(var i in r)r[i](n[i],n)},e.prototype.componentDidUpdate=function(n){var r=this.props,i=r.pluginHooks.propSetHandlers;for(var s in i)r[s]!==n[s]&&i[s](r[s],r)},e.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(var n=0,r=this.calendarInteractions;n<r.length;n++){var i=r[n];i.destroy()}this.props.emitter.trigger("_unmount")},e.prototype.buildAppendContent=function(){var n=this.props,r=n.pluginHooks.viewContainerAppends.map(function(i){return i(n)});return y.apply(void 0,Re([je,{}],r))},e.prototype.renderView=function(n){for(var r=n.pluginHooks,i=n.viewSpec,s={dateProfile:n.dateProfile,businessHours:n.businessHours,eventStore:n.renderableEventStore,eventUiBases:n.eventUiBases,dateSelection:n.dateSelection,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,isHeightAuto:n.isHeightAuto,forPrint:n.forPrint},o=this.buildViewPropTransformers(r.viewPropsTransformers),a=0,l=o;a<l.length;a++){var u=l[a];w(s,u.transform(s,n))}var c=i.component;return y(c,w({},s))},e}(Xo);function O_(t,e,n,r,i,s){var o=n.build(i,void 0,!1),a=n.buildPrev(e,r,!1),l=n.buildNext(e,r,!1);return{title:s,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:o.isValid&&!wn(e.currentRange,i),isPrevEnabled:a.isValid,isNextEnabled:l.isValid}}function P_(t){return t.map(function(e){return new e})}var L_=function(t){B(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={forPrint:!1},n.handleBeforePrint=function(){n.setState({forPrint:!0})},n.handleAfterPrint=function(){n.setState({forPrint:!1})},n}return e.prototype.render=function(){var n=this.props,r=n.options,i=this.state.forPrint,s=i||r.height==="auto"||r.contentHeight==="auto",o=!s&&r.height!=null?r.height:"",a=["fc",i?"fc-media-print":"fc-media-screen","fc-direction-"+r.direction,n.theme.getClass("root")];return Ng()||a.push("fc-liquid-hack"),n.children(a,o,s,i)},e.prototype.componentDidMount=function(){var n=this.props.emitter;n.on("_beforeprint",this.handleBeforePrint),n.on("_afterprint",this.handleAfterPrint)},e.prototype.componentWillUnmount=function(){var n=this.props.emitter;n.off("_beforeprint",this.handleBeforePrint),n.off("_afterprint",this.handleAfterPrint)},e}(fe);function F_(t,e){return!t||e>10?Ie({weekday:"short"}):e>1?Ie({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):Ie({weekday:"long"})}var Xg="fc-col-header-cell";function Zg(t){return t.text}var U_=function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.context,r=n.dateEnv,i=n.options,s=n.theme,o=n.viewApi,a=this.props,l=a.date,u=a.dateProfile,c=Og(l,a.todayRange,null,u),f=[Xg].concat(Gu(c,s)),h=r.format(l,a.dayHeaderFormat),d=!c.isDisabled&&a.colCnt>1?Qo(this.context,l):{},p=w(w(w({date:r.toDate(l),view:o},a.extraHookProps),{text:h}),c);return y(qt,{hookProps:p,classNames:i.dayHeaderClassNames,content:i.dayHeaderContent,defaultContent:Zg,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},function(g,m,v,b){return y("th",w({ref:g,role:"columnheader",className:f.concat(m).join(" "),"data-date":c.isDisabled?void 0:cg(l),colSpan:a.colSpan},a.extraDataAttrs),y("div",{className:"fc-scrollgrid-sync-inner"},!c.isDisabled&&y("a",w({ref:v,className:["fc-col-header-cell-cushion",a.isSticky?"fc-sticky":""].join(" ")},d),b)))})},e}(fe),H_=Ie({weekday:"long"}),V_=function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.props,r=this.context,i=r.dateEnv,s=r.theme,o=r.viewApi,a=r.options,l=at(new Date(2592e5),n.dow),u={dow:n.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},c=[Xg].concat(Gu(u,s),n.extraClassNames||[]),f=i.format(l,n.dayHeaderFormat),h=w(w(w(w({date:l},u),{view:o}),n.extraHookProps),{text:f});return y(qt,{hookProps:h,classNames:a.dayHeaderClassNames,content:a.dayHeaderContent,defaultContent:Zg,didMount:a.dayHeaderDidMount,willUnmount:a.dayHeaderWillUnmount},function(d,p,g,m){return y("th",w({ref:d,role:"columnheader",className:c.concat(p).join(" "),colSpan:n.colSpan},n.extraDataAttrs),y("div",{className:"fc-scrollgrid-sync-inner"},y("a",{"aria-label":i.format(l,H_),className:["fc-col-header-cell-cushion",n.isSticky?"fc-sticky":""].join(" "),ref:g},m)))})},e}(fe),Zo=function(t){B(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.initialNowDate=Zi(r.options.now,r.dateEnv),i.initialNowQueriedMs=new Date().valueOf(),i.state=i.computeTiming().currentState,i}return e.prototype.render=function(){var n=this,r=n.props,i=n.state;return r.children(i.nowDate,i.todayRange)},e.prototype.componentDidMount=function(){this.setTimeout()},e.prototype.componentDidUpdate=function(n){n.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())},e.prototype.componentWillUnmount=function(){this.clearTimeout()},e.prototype.computeTiming=function(){var n=this,r=n.props,i=n.context,s=rr(this.initialNowDate,new Date().valueOf()-this.initialNowQueriedMs),o=i.dateEnv.startOf(s,r.unit),a=i.dateEnv.add(o,ce(1,r.unit)),l=a.valueOf()-s.valueOf();return l=Math.min(1e3*60*60*24,l),{currentState:{nowDate:o,todayRange:kh(o)},nextState:{nowDate:a,todayRange:kh(a)},waitMs:l}},e.prototype.setTimeout=function(){var n=this,r=this.computeTiming(),i=r.nextState,s=r.waitMs;this.timeoutId=setTimeout(function(){n.setState(i,function(){n.setTimeout()})},s)},e.prototype.clearTimeout=function(){this.timeoutId&&clearTimeout(this.timeoutId)},e.contextType=un,e}(Lu);function kh(t){var e=Ce(t),n=at(e,1);return{start:e,end:n}}var Jg=function(t){B(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.createDayHeaderFormatter=Y(B_),n}return e.prototype.render=function(){var n=this.context,r=this.props,i=r.dates,s=r.dateProfile,o=r.datesRepDistinctDays,a=r.renderIntro,l=this.createDayHeaderFormatter(n.options.dayHeaderFormat,o,i.length);return y(Zo,{unit:"day"},function(u,c){return y("tr",{role:"row"},a&&a("day"),i.map(function(f){return o?y(U_,{key:f.toISOString(),date:f,dateProfile:s,todayRange:c,colCnt:i.length,dayHeaderFormat:l}):y(V_,{key:f.getUTCDay(),dow:f.getUTCDay(),dayHeaderFormat:l})}))})},e}(fe);function B_(t,e,n){return t||F_(e,n)}var ev=function(){function t(e,n){for(var r=e.start,i=e.end,s=[],o=[],a=-1;r<i;)n.isHiddenDay(r)?s.push(a+.5):(a+=1,s.push(a),o.push(r)),r=at(r,1);this.dates=o,this.indices=s,this.cnt=o.length}return t.prototype.sliceRange=function(e){var n=this.getDateDayIndex(e.start),r=this.getDateDayIndex(at(e.end,-1)),i=Math.max(0,n),s=Math.min(this.cnt-1,r);return i=Math.ceil(i),s=Math.floor(s),i<=s?{firstIndex:i,lastIndex:s,isStart:n===i,isEnd:r===s}:null},t.prototype.getDateDayIndex=function(e){var n=this.indices,r=Math.floor(lr(this.dates[0],e));return r<0?n[0]-1:r>=n.length?n[n.length-1]+1:n[r]},t}(),tv=function(){function t(e,n){var r=e.dates,i,s,o;if(n){for(s=r[0].getUTCDay(),i=1;i<r.length&&r[i].getUTCDay()!==s;i+=1);o=Math.ceil(r.length/i)}else o=1,i=r.length;this.rowCnt=o,this.colCnt=i,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}return t.prototype.buildCells=function(){for(var e=[],n=0;n<this.rowCnt;n+=1){for(var r=[],i=0;i<this.colCnt;i+=1)r.push(this.buildCell(n,i));e.push(r)}return e},t.prototype.buildCell=function(e,n){var r=this.daySeries.dates[e*this.colCnt+n];return{key:r.toISOString(),date:r}},t.prototype.buildHeaderDates=function(){for(var e=[],n=0;n<this.colCnt;n+=1)e.push(this.cells[0][n].date);return e},t.prototype.sliceRange=function(e){var n=this.colCnt,r=this.daySeries.sliceRange(e),i=[];if(r)for(var s=r.firstIndex,o=r.lastIndex,a=s;a<=o;){var l=Math.floor(a/n),u=Math.min((l+1)*n,o+1);i.push({row:l,firstCol:a%n,lastCol:(u-1)%n,isStart:r.isStart&&a===s,isEnd:r.isEnd&&u-1===o}),a=u}return i},t}(),nv=function(){function t(){this.sliceBusinessHours=Y(this._sliceBusinessHours),this.sliceDateSelection=Y(this._sliceDateSpan),this.sliceEventStore=Y(this._sliceEventStore),this.sliceEventDrag=Y(this._sliceInteraction),this.sliceEventResize=Y(this._sliceInteraction),this.forceDayIfListItem=!1}return t.prototype.sliceProps=function(e,n,r,i){for(var s=[],o=4;o<arguments.length;o++)s[o-4]=arguments[o];var a=e.eventUiBases,l=this.sliceEventStore.apply(this,Re([e.eventStore,a,n,r],s));return{dateSelectionSegs:this.sliceDateSelection.apply(this,Re([e.dateSelection,a,i],s)),businessHourSegs:this.sliceBusinessHours.apply(this,Re([e.businessHours,n,r,i],s)),fgEventSegs:l.fg,bgEventSegs:l.bg,eventDrag:this.sliceEventDrag.apply(this,Re([e.eventDrag,a,n,r],s)),eventResize:this.sliceEventResize.apply(this,Re([e.eventResize,a,n,r],s)),eventSelection:e.eventSelection}},t.prototype.sliceNowDate=function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return this._sliceDateSpan.apply(this,Re([{range:{start:e,end:rr(e,1)},allDay:!1},{},n],r))},t.prototype._sliceBusinessHours=function(e,n,r,i){for(var s=[],o=4;o<arguments.length;o++)s[o-4]=arguments[o];return e?this._sliceEventStore.apply(this,Re([Yo(e,qa(n,Boolean(r)),i),{},n,r],s)).bg:[]},t.prototype._sliceEventStore=function(e,n,r,i){for(var s=[],o=4;o<arguments.length;o++)s[o-4]=arguments[o];if(e){var a=yh(e,n,qa(r,Boolean(i)),i);return{bg:this.sliceEventRanges(a.bg,s),fg:this.sliceEventRanges(a.fg,s)}}return{bg:[],fg:[]}},t.prototype._sliceInteraction=function(e,n,r,i){for(var s=[],o=4;o<arguments.length;o++)s[o-4]=arguments[o];if(!e)return null;var a=yh(e.mutatedEvents,n,qa(r,Boolean(i)),i);return{segs:this.sliceEventRanges(a.fg,s),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}},t.prototype._sliceDateSpan=function(e,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];if(!e)return[];for(var o=_S(e,n,r),a=this.sliceRange.apply(this,Re([e.range],i)),l=0,u=a;l<u.length;l++){var c=u[l];c.eventRange=o}return a},t.prototype.sliceEventRanges=function(e,n){for(var r=[],i=0,s=e;i<s.length;i++){var o=s[i];r.push.apply(r,this.sliceEventRange(o,n))}return r},t.prototype.sliceEventRange=function(e,n){var r=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(r={start:r.start,end:at(r.start,1)});for(var i=this.sliceRange.apply(this,Re([r],n)),s=0,o=i;s<o.length;s++){var a=o[s];a.eventRange=e,a.isStart=e.isStart&&a.isStart,a.isEnd=e.isEnd&&a.isEnd}return i},t}();function qa(t,e){var n=t.activeRange;return e?n:{start:rr(n.start,t.slotMinTime.milliseconds),end:rr(n.end,t.slotMaxTime.milliseconds-864e5)}}var Ds=/^(visible|hidden)$/,$_=function(t){B(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.handleEl=function(r){n.el=r,Rt(n.props.elRef,r)},n}return e.prototype.render=function(){var n=this.props,r=n.liquid,i=n.liquidIsAbsolute,s=r&&i,o=["fc-scroller"];return r&&(i?o.push("fc-scroller-liquid-absolute"):o.push("fc-scroller-liquid")),y("div",{ref:this.handleEl,className:o.join(" "),style:{overflowX:n.overflowX,overflowY:n.overflowY,left:s&&-(n.overcomeLeft||0)||"",right:s&&-(n.overcomeRight||0)||"",bottom:s&&-(n.overcomeBottom||0)||"",marginLeft:!s&&-(n.overcomeLeft||0)||"",marginRight:!s&&-(n.overcomeRight||0)||"",marginBottom:!s&&-(n.overcomeBottom||0)||"",maxHeight:n.maxHeight||""}},n.children)},e.prototype.needsXScrolling=function(){if(Ds.test(this.props.overflowX))return!1;for(var n=this.el,r=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),i=n.children,s=0;s<i.length;s+=1){var o=i[s];if(o.getBoundingClientRect().width>r)return!0}return!1},e.prototype.needsYScrolling=function(){if(Ds.test(this.props.overflowY))return!1;for(var n=this.el,r=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),i=n.children,s=0;s<i.length;s+=1){var o=i[s];if(o.getBoundingClientRect().height>r)return!0}return!1},e.prototype.getXScrollbarWidth=function(){return Ds.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight},e.prototype.getYScrollbarWidth=function(){return Ds.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth},e}(fe),Xt=function(){function t(e){var n=this;this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=function(r,i){var s=n,o=s.depths,a=s.currentMap,l=!1,u=!1;r!==null?(l=i in a,a[i]=r,o[i]=(o[i]||0)+1,u=!0):(o[i]-=1,o[i]||(delete a[i],delete n.callbackMap[i],l=!0)),n.masterCallback&&(l&&n.masterCallback(null,String(i)),u&&n.masterCallback(r,String(i)))}}return t.prototype.createRef=function(e){var n=this,r=this.callbackMap[e];return r||(r=this.callbackMap[e]=function(i){n.handleValue(i,String(e))}),r},t.prototype.collect=function(e,n,r){return AC(this.currentMap,e,n,r)},t.prototype.getAll=function(){return Hu(this.currentMap)},t}();function j_(t){for(var e=sC(t,".fc-scrollgrid-shrink"),n=0,r=0,i=e;r<i.length;r++){var s=i[r];n=Math.max(n,gC(s))}return Math.ceil(n)}function rv(t,e){return t.liquid&&e.liquid}function W_(t,e){return e.maxHeight!=null||rv(t,e)}function q_(t,e,n,r){var i=n.expandRows,s=typeof e.content=="function"?e.content(n):y("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:i?n.clientHeight:""}},n.tableColGroupNode,y(r?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(n):e.rowContent));return s}function z_(t,e){return Fr(t,e,tn)}function G_(t,e){for(var n=[],r=0,i=t;r<i.length;r++)for(var s=i[r],o=s.span||1,a=0;a<o;a+=1)n.push(y("col",{style:{width:s.width==="shrink"?K_(e):s.width||"",minWidth:s.minWidth||""}}));return y.apply(void 0,Re(["colgroup",{}],n))}function K_(t){return t==null?4:t}function Y_(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if(r.width==="shrink")return!0}return!1}function Q_(t,e){var n=["fc-scrollgrid",e.theme.getClass("table")];return t&&n.push("fc-scrollgrid-liquid"),n}function X_(t,e){var n=["fc-scrollgrid-section","fc-scrollgrid-section-"+t.type,t.className];return e&&t.liquid&&t.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),t.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function Nl(t){return y("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function ho(t){var e=t.stickyHeaderDates;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function iv(t){var e=t.stickyFooterScrollbar;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}var Zu=function(t){B(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.processCols=Y(function(r){return r},z_),n.renderMicroColGroup=Y(G_),n.scrollerRefs=new Xt,n.scrollerElRefs=new Xt(n._handleScrollerEl.bind(n)),n.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},n.handleSizing=function(){n.safeSetState(w({shrinkWidth:n.computeShrinkWidth()},n.computeScrollerDims()))},n}return e.prototype.render=function(){var n=this,r=n.props,i=n.state,s=n.context,o=r.sections||[],a=this.processCols(r.cols),l=this.renderMicroColGroup(a,i.shrinkWidth),u=Q_(r.liquid,s);r.collapsibleWidth&&u.push("fc-scrollgrid-collapsible");for(var c=o.length,f=0,h,d=[],p=[],g=[];f<c&&(h=o[f]).type==="header";)d.push(this.renderSection(h,l,!0)),f+=1;for(;f<c&&(h=o[f]).type==="body";)p.push(this.renderSection(h,l,!1)),f+=1;for(;f<c&&(h=o[f]).type==="footer";)g.push(this.renderSection(h,l,!0)),f+=1;var m=!Ng(),v={role:"rowgroup"};return y("table",{role:"grid",className:u.join(" "),style:{height:r.height}},Boolean(!m&&d.length)&&y.apply(void 0,Re(["thead",v],d)),Boolean(!m&&p.length)&&y.apply(void 0,Re(["tbody",v],p)),Boolean(!m&&g.length)&&y.apply(void 0,Re(["tfoot",v],g)),m&&y.apply(void 0,Re(Re(Re(["tbody",v],d),p),g)))},e.prototype.renderSection=function(n,r,i){return"outerContent"in n?y(je,{key:n.key},n.outerContent):y("tr",{key:n.key,role:"presentation",className:X_(n,this.props.liquid).join(" ")},this.renderChunkTd(n,r,n.chunk,i))},e.prototype.renderChunkTd=function(n,r,i,s){if("outerContent"in i)return i.outerContent;var o=this.props,a=this.state,l=a.forceYScrollbars,u=a.scrollerClientWidths,c=a.scrollerClientHeights,f=W_(o,n),h=rv(o,n),d=o.liquid?l?"scroll":f?"auto":"hidden":"visible",p=n.key,g=q_(n,i,{tableColGroupNode:r,tableMinWidth:"",clientWidth:!o.collapsibleWidth&&u[p]!==void 0?u[p]:null,clientHeight:c[p]!==void 0?c[p]:null,expandRows:n.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:function(){}},s);return y(s?"th":"td",{ref:i.elRef,role:"presentation"},y("div",{className:"fc-scroller-harness"+(h?" fc-scroller-harness-liquid":"")},y($_,{ref:this.scrollerRefs.createRef(p),elRef:this.scrollerElRefs.createRef(p),overflowY:d,overflowX:o.liquid?"hidden":"visible",maxHeight:n.maxHeight,liquid:h,liquidIsAbsolute:!0},g)))},e.prototype._handleScrollerEl=function(n,r){var i=Z_(this.props.sections,r);i&&Rt(i.chunk.scrollerElRef,n)},e.prototype.componentDidMount=function(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)},e.prototype.componentDidUpdate=function(){this.handleSizing()},e.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleSizing)},e.prototype.computeShrinkWidth=function(){return Y_(this.props.cols)?j_(this.scrollerElRefs.getAll()):0},e.prototype.computeScrollerDims=function(){var n=rT(),r=this,i=r.scrollerRefs,s=r.scrollerElRefs,o=!1,a={},l={};for(var u in i.currentMap){var c=i.currentMap[u];if(c&&c.needsYScrolling()){o=!0;break}}for(var f=0,h=this.props.sections;f<h.length;f++){var d=h[f],u=d.key,p=s.currentMap[u];if(p){var g=p.parentNode;a[u]=Math.floor(g.getBoundingClientRect().width-(o?n.y:0)),l[u]=Math.floor(g.getBoundingClientRect().height)}}return{forceYScrollbars:o,scrollerClientWidths:a,scrollerClientHeights:l}},e}(fe);Zu.addStateEquality({scrollerClientWidths:tn,scrollerClientHeights:tn});function Z_(t,e){for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i.key===e)return i}return null}var Ju=function(t){B(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.elRef=Pe(),n}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,s=i.options,o=r.seg,a=o.eventRange,l=a.ui,u={event:new Ht(i,a.def,a.instance),view:i.viewApi,timeText:r.timeText,textColor:l.textColor,backgroundColor:l.backgroundColor,borderColor:l.borderColor,isDraggable:!r.disableDragging&&mS(o,i),isStartResizable:!r.disableResizing&&yS(o,i),isEndResizable:!r.disableResizing&&ES(o),isMirror:Boolean(r.isDragging||r.isResizing||r.isDateSelecting),isStart:Boolean(o.isStart),isEnd:Boolean(o.isEnd),isPast:Boolean(r.isPast),isFuture:Boolean(r.isFuture),isToday:Boolean(r.isToday),isSelected:Boolean(r.isSelected),isDragging:Boolean(r.isDragging),isResizing:Boolean(r.isResizing)},c=bS(u).concat(l.classNames);return y(qt,{hookProps:u,classNames:s.eventClassNames,content:s.eventContent,defaultContent:r.defaultContent,didMount:s.eventDidMount,willUnmount:s.eventWillUnmount,elRef:this.elRef},function(f,h,d,p){return r.children(f,c.concat(h),d,p,u)})},e.prototype.componentDidMount=function(){Eh(this.elRef.current,this.props.seg)},e.prototype.componentDidUpdate=function(n){var r=this.props.seg;r!==n.seg&&Eh(this.elRef.current,r)},e}(fe),sv=function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,s=r.seg,o=i.options.eventTimeFormat||r.defaultTimeFormat,a=bg(s,o,i,r.defaultDisplayEventTime,r.defaultDisplayEventEnd);return y(Ju,{seg:s,timeText:a,disableDragging:r.disableDragging,disableResizing:r.disableResizing,defaultContent:r.defaultContent||J_,isDragging:r.isDragging,isResizing:r.isResizing,isDateSelecting:r.isDateSelecting,isSelected:r.isSelected,isPast:r.isPast,isFuture:r.isFuture,isToday:r.isToday},function(l,u,c,f,h){return y("a",w({className:r.extraClassNames.concat(u).join(" "),style:{borderColor:h.borderColor,backgroundColor:h.backgroundColor},ref:l},Cg(s,i)),y("div",{className:"fc-event-main",ref:c,style:{color:h.textColor}},f),h.isStartResizable&&y("div",{className:"fc-event-resizer fc-event-resizer-start"}),h.isEndResizable&&y("div",{className:"fc-event-resizer fc-event-resizer-end"}))})},e}(fe);function J_(t){return y("div",{className:"fc-event-main-frame"},t.timeText&&y("div",{className:"fc-event-time"},t.timeText),y("div",{className:"fc-event-title-container"},y("div",{className:"fc-event-title fc-sticky"},t.event.title||y(je,null,"\xA0"))))}var ec=function(t){return y(un.Consumer,null,function(e){var n=e.options,r={isAxis:t.isAxis,date:e.dateEnv.toDate(t.date),view:e.viewApi};return y(qt,{hookProps:r,classNames:n.nowIndicatorClassNames,content:n.nowIndicatorContent,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount},t.children)})},eD=Ie({day:"numeric"}),tc=function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,s=i.options,o=ov({date:r.date,dateProfile:r.dateProfile,todayRange:r.todayRange,showDayNumber:r.showDayNumber,extraProps:r.extraHookProps,viewApi:i.viewApi,dateEnv:i.dateEnv});return y(Fg,{hookProps:o,content:s.dayCellContent,defaultContent:r.defaultContent},r.children)},e}(fe);function ov(t){var e=t.date,n=t.dateEnv,r=Og(e,t.todayRange,null,t.dateProfile);return w(w(w({date:n.toDate(e),view:t.viewApi},r),{dayNumberText:t.showDayNumber?n.format(e,eD):""}),t.extraProps)}var nc=function(t){B(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.refineHookProps=js(ov),n.normalizeClassNames=Ug(),n}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,s=i.options,o=this.refineHookProps({date:r.date,dateProfile:r.dateProfile,todayRange:r.todayRange,showDayNumber:r.showDayNumber,extraProps:r.extraHookProps,viewApi:i.viewApi,dateEnv:i.dateEnv}),a=Gu(o,i.theme).concat(o.isDisabled?[]:this.normalizeClassNames(s.dayCellClassNames,o)),l=o.isDisabled?{}:{"data-date":cg(r.date)};return y(Ku,{hookProps:o,didMount:s.dayCellDidMount,willUnmount:s.dayCellWillUnmount,elRef:r.elRef},function(u){return r.children(u,a,l,o.isDisabled)})},e}(fe);function av(t){return y("div",{className:"fc-"+t})}var lv=function(t){return y(Ju,{defaultContent:tD,seg:t.seg,timeText:"",disableDragging:!0,disableResizing:!0,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:t.isPast,isFuture:t.isFuture,isToday:t.isToday},function(e,n,r,i,s){return y("div",{ref:e,className:["fc-bg-event"].concat(n).join(" "),style:{backgroundColor:s.backgroundColor}},i)})};function tD(t){var e=t.event.title;return e&&y("div",{className:"fc-event-title"},t.event.title)}var uv=function(t){return y(un.Consumer,null,function(e){var n=e.dateEnv,r=e.options,i=t.date,s=r.weekNumberFormat||t.defaultFormat,o=n.computeWeekNumber(i),a=n.format(i,s),l={num:o,text:a,date:i};return y(qt,{hookProps:l,classNames:r.weekNumberClassNames,content:r.weekNumberContent,defaultContent:nD,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount},t.children)})};function nD(t){return t.text}var za=10,rD=function(t){B(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={titleId:Ko()},n.handleRootEl=function(r){n.rootEl=r,n.props.elRef&&Rt(n.props.elRef,r)},n.handleDocumentMouseDown=function(r){var i=lC(r);n.rootEl.contains(i)||n.handleCloseClick()},n.handleDocumentKeyDown=function(r){r.key==="Escape"&&n.handleCloseClick()},n.handleCloseClick=function(){var r=n.props.onClose;r&&r()},n}return e.prototype.render=function(){var n=this.context,r=n.theme,i=n.options,s=this,o=s.props,a=s.state,l=["fc-popover",r.getClass("popover")].concat(o.extraClassNames||[]);return tC(y("div",w({id:o.id,className:l.join(" "),"aria-labelledby":a.titleId},o.extraAttrs,{ref:this.handleRootEl}),y("div",{className:"fc-popover-header "+r.getClass("popoverHeader")},y("span",{className:"fc-popover-title",id:a.titleId},o.title),y("span",{className:"fc-popover-close "+r.getIconClass("close"),title:i.closeHint,onClick:this.handleCloseClick})),y("div",{className:"fc-popover-body "+r.getClass("popoverContent")},o.children)),o.parentEl)},e.prototype.componentDidMount=function(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()},e.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)},e.prototype.updateSize=function(){var n=this.context.isRtl,r=this.props,i=r.alignmentEl,s=r.alignGridTop,o=this.rootEl,a=oT(i);if(a){var l=o.getBoundingClientRect(),u=s?Qt(i,".fc-scrollgrid").getBoundingClientRect().top:a.top,c=n?a.right-l.width:a.left;u=Math.max(u,za),c=Math.min(c,document.documentElement.clientWidth-za-l.width),c=Math.max(c,za);var f=o.offsetParent.getBoundingClientRect();aC(o,{top:u-f.top,left:c-f.left})}},e}(fe),iD=function(t){B(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.handleRootEl=function(r){n.rootEl=r,r?n.context.registerInteractiveComponent(n,{el:r,useEventCenter:!1}):n.context.unregisterInteractiveComponent(n)},n}return e.prototype.render=function(){var n=this.context,r=n.options,i=n.dateEnv,s=this.props,o=s.startDate,a=s.todayRange,l=s.dateProfile,u=i.format(o,r.dayPopoverFormat);return y(nc,{date:o,dateProfile:l,todayRange:a,elRef:this.handleRootEl},function(c,f,h){return y(rD,{elRef:c,id:s.id,title:u,extraClassNames:["fc-more-popover"].concat(f),extraAttrs:h,parentEl:s.parentEl,alignmentEl:s.alignmentEl,alignGridTop:s.alignGridTop,onClose:s.onClose},y(tc,{date:o,dateProfile:l,todayRange:a},function(d,p){return p&&y("div",{className:"fc-more-popover-misc",ref:d},p)}),s.children)})},e.prototype.queryHit=function(n,r,i,s){var o=this,a=o.rootEl,l=o.props;return n>=0&&n<i&&r>=0&&r<s?{dateProfile:l.dateProfile,dateSpan:w({allDay:!0,range:{start:l.startDate,end:l.endDate}},l.extraDateSpan),dayEl:a,rect:{left:0,top:0,right:i,bottom:s},layer:1}:null},e}(cn),cv=function(t){B(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.linkElRef=Pe(),n.state={isPopoverOpen:!1,popoverId:Ko()},n.handleClick=function(r){var i=n,s=i.props,o=i.context,a=o.options.moreLinkClick,l=xh(s).start;function u(c){var f=c.eventRange,h=f.def,d=f.instance,p=f.range;return{event:new Ht(o,h,d),start:o.dateEnv.toDate(p.start),end:o.dateEnv.toDate(p.end),isStart:c.isStart,isEnd:c.isEnd}}typeof a=="function"&&(a=a({date:l,allDay:Boolean(s.allDayDate),allSegs:s.allSegs.map(u),hiddenSegs:s.hiddenSegs.map(u),jsEvent:r,view:o.viewApi})),!a||a==="popover"?n.setState({isPopoverOpen:!0}):typeof a=="string"&&o.calendarApi.zoomTo(l,a)},n.handlePopoverClose=function(){n.setState({isPopoverOpen:!1})},n}return e.prototype.render=function(){var n=this,r=this,i=r.props,s=r.state;return y(un.Consumer,null,function(o){var a=o.viewApi,l=o.options,u=o.calendarApi,c=l.moreLinkText,f=i.moreCnt,h=xh(i),d=typeof c=="function"?c.call(u,f):"+"+f+" "+c,p=wi(l.moreLinkHint,[f],d),g={num:f,shortText:"+"+f,text:d,view:a};return y(je,null,Boolean(i.moreCnt)&&y(qt,{elRef:n.linkElRef,hookProps:g,classNames:l.moreLinkClassNames,content:l.moreLinkContent,defaultContent:i.defaultContent||sD,didMount:l.moreLinkDidMount,willUnmount:l.moreLinkWillUnmount},function(m,v,b,T){return i.children(m,["fc-more-link"].concat(v),b,T,n.handleClick,p,s.isPopoverOpen,s.isPopoverOpen?s.popoverId:"")}),s.isPopoverOpen&&y(iD,{id:s.popoverId,startDate:h.start,endDate:h.end,dateProfile:i.dateProfile,todayRange:i.todayRange,extraDateSpan:i.extraDateSpan,parentEl:n.parentEl,alignmentEl:i.alignmentElRef.current,alignGridTop:i.alignGridTop,onClose:n.handlePopoverClose},i.popoverContent()))})},e.prototype.componentDidMount=function(){this.updateParentEl()},e.prototype.componentDidUpdate=function(){this.updateParentEl()},e.prototype.updateParentEl=function(){this.linkElRef.current&&(this.parentEl=Qt(this.linkElRef.current,".fc-view-harness"))},e}(fe);function sD(t){return t.text}function xh(t){if(t.allDayDate)return{start:t.allDayDate,end:at(t.allDayDate,1)};var e=t.hiddenSegs;return{start:fv(e),end:aD(e)}}function fv(t){return t.reduce(oD).eventRange.range.start}function oD(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function aD(t){return t.reduce(lD).eventRange.range.end}function lD(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}/*!
FullCalendar v5.11.3
Docs & License: https://fullcalendar.io/
(c) 2022 Adam Shaw
*/var uD=function(t){B(e,t);function e(n,r){r===void 0&&(r={});var i=t.call(this)||this;return i.isRendering=!1,i.isRendered=!1,i.currentClassNames=[],i.customContentRenderId=0,i.handleAction=function(s){switch(s.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":i.renderRunner.tryDrain()}},i.handleData=function(s){i.currentData=s,i.renderRunner.request(s.calendarOptions.rerenderDelay)},i.handleRenderRequest=function(){if(i.isRendering){i.isRendered=!0;var s=i.currentData;nh(function(){eC(y(L_,{options:s.calendarOptions,theme:s.theme,emitter:s.emitter},function(o,a,l,u){return i.setClassNames(o),i.setHeight(a),y(Lg.Provider,{value:i.customContentRenderId},y(N_,w({isHeightAuto:l,forPrint:u},s)))}),i.el)})}else i.isRendered&&(i.isRendered=!1,nC(i.el),i.setClassNames([]),i.setHeight(""))},i.el=n,i.renderRunner=new Qu(i.handleRenderRequest),new Kg({optionOverrides:r,calendarApi:i,onAction:i.handleAction,onData:i.handleData}),i}return Object.defineProperty(e.prototype,"view",{get:function(){return this.currentData.viewApi},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n=this.isRendering;n?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),n&&this.updateSize()},e.prototype.destroy=function(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())},e.prototype.updateSize=function(){var n=this;nh(function(){t.prototype.updateSize.call(n)})},e.prototype.batchRendering=function(n){this.renderRunner.pause("batchRendering"),n(),this.renderRunner.resume("batchRendering")},e.prototype.pauseRendering=function(){this.renderRunner.pause("pauseRendering")},e.prototype.resumeRendering=function(){this.renderRunner.resume("pauseRendering",!0)},e.prototype.resetOptions=function(n,r){this.currentDataManager.resetOptions(n,r)},e.prototype.setClassNames=function(n){if(!Fr(n,this.currentClassNames)){for(var r=this.el.classList,i=0,s=this.currentClassNames;i<s.length;i++){var o=s[i];r.remove(o)}for(var a=0,l=n;a<l.length;a++){var o=l[a];r.add(o)}this.currentClassNames=n}},e.prototype.setHeight=function(n){rg(this.el,"height",n)},e}(FS);const cD={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0};function fD(t){return typeof t=="object"&&(Array.isArray(t)?t=Array.prototype.slice.call(t):t&&(t={...t})),t}function hD(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r],r));return n}function dD(t){return function(e){return{vue:t(e)}}}function pD(t){return Wt({contentTypeHandlers:{vue:()=>gD()}})}function gD(t){let e,n,r;function i(o,a){if(e!==o&&(e&&n&&n.unmount(),e=o),n)r.content=a;else{n=vD(a);let l=document.createElement("span");o.appendChild(l),r=n.mount(l)}}function s(){n&&n.unmount()}return{render:i,destroy:s}}function vD(t,e){return $p({data(){return{content:t}},render(){let{content:n}=this;return n.length===1?n[0]:Vp("span",{},n)}})}const mD=Xr({props:{options:Object},data:yD,render(){return Vp("div",{attrs:{"data-fc-render-id":this.renderId}})},mounted(){this.slotOptions=hD(this.$slots,dD);let t=this.buildOptions(this.options,this.$.appContext),e=new uD(this.$el,t);this.calendar=e,e.render()},methods:{getApi:bD,buildOptions:ED},beforeUpdate(){this.getApi().resumeRendering()},beforeUnmount(){this.getApi().destroy()},watch:wD()});function yD(){return{renderId:0}}function ED(t,e){return t=t||{},{...this.slotOptions,...t,plugins:(t.plugins||[]).concat([pD()])}}function bD(){return this.calendar}function wD(){let t={options:{deep:!0,handler(e){let n=this.getApi();n.pauseRendering();let r=this.buildOptions(e,this.$.appContext);n.resetOptions(r),this.renderId++}}};for(let e in cD)t[`options.${e}`]={deep:!0,handler(n){if(n!==void 0){let r=this.getApi();r.pauseRendering(),r.resetOptions({[e]:fD(n)},!0),this.renderId++}}};return t}var CD=!1;/*!
  * pinia v2.0.22
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let hv;const Jo=t=>hv=t,dv=Symbol();function Ol(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Si;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Si||(Si={}));function SD(){const t=Kd(!0),e=t.run(()=>Xi({}));let n=[],r=[];const i=Mr({install(s){Jo(i),i._a=s,s.provide(dv,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return!this._a&&!CD?r.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const pv=()=>{};function Mh(t,e,n,r=pv){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&Fp()&&Au(i),i}function vr(t,...e){t.slice().forEach(n=>{n(...e)})}function Pl(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];Ol(i)&&Ol(r)&&t.hasOwnProperty(n)&&!ke(r)&&!En(r)?t[n]=Pl(i,r):t[n]=r}return t}const TD=Symbol();function _D(t){return!Ol(t)||!t.hasOwnProperty(TD)}const{assign:Yt}=Object;function DD(t){return!!(ke(t)&&t.effect)}function RD(t,e,n,r){const{state:i,actions:s,getters:o}=e,a=n.state.value[t];let l;function u(){a||(n.state.value[t]=i?i():{});const c=QE(n.state.value[t]);return Yt(c,s,Object.keys(o||{}).reduce((f,h)=>(f[h]=Mr(tr(()=>{Jo(n);const d=n._s.get(t);return o[h].call(d,d)})),f),{}))}return l=gv(t,u,e,n,r,!0),l.$reset=function(){const f=i?i():{};this.$patch(h=>{Yt(h,f)})},l}function gv(t,e,n={},r,i,s){let o;const a=Yt({actions:{}},n),l={deep:!0};let u,c,f=Mr([]),h=Mr([]),d;const p=r.state.value[t];!s&&!p&&(r.state.value[t]={}),Xi({});let g;function m(U){let O;u=c=!1,typeof U=="function"?(U(r.state.value[t]),O={type:Si.patchFunction,storeId:t,events:d}):(Pl(r.state.value[t],U),O={type:Si.patchObject,payload:U,storeId:t,events:d});const le=g=Symbol();hp().then(()=>{g===le&&(u=!0)}),c=!0,vr(f,O,r.state.value[t])}const v=pv;function b(){o.stop(),f=[],h=[],r._s.delete(t)}function T(U,O){return function(){Jo(r);const le=Array.from(arguments),se=[],_e=[];function He(Ve){se.push(Ve)}function fn(Ve){_e.push(Ve)}vr(h,{args:le,name:U,store:F,after:He,onError:fn});let At;try{At=O.apply(this&&this.$id===t?this:F,le)}catch(Ve){throw vr(_e,Ve),Ve}return At instanceof Promise?At.then(Ve=>(vr(se,Ve),Ve)).catch(Ve=>(vr(_e,Ve),Promise.reject(Ve))):(vr(se,At),At)}}const D={_p:r,$id:t,$onAction:Mh.bind(null,h),$patch:m,$reset:v,$subscribe(U,O={}){const le=Mh(f,U,O.detached,()=>se()),se=o.run(()=>mi(()=>r.state.value[t],_e=>{(O.flush==="sync"?c:u)&&U({storeId:t,type:Si.direct,events:d},_e)},Yt({},l,O)));return le},$dispose:b},F=Ho(Yt({},D));r._s.set(t,F);const V=r._e.run(()=>(o=Kd(),o.run(()=>e())));for(const U in V){const O=V[U];if(ke(O)&&!DD(O)||En(O))s||(p&&_D(O)&&(ke(O)?O.value=p[U]:Pl(O,p[U])),r.state.value[t][U]=O);else if(typeof O=="function"){const le=T(U,O);V[U]=le,a.actions[U]=O}}return Yt(F,V),Yt(he(F),V),Object.defineProperty(F,"$state",{get:()=>r.state.value[t],set:U=>{m(O=>{Yt(O,U)})}}),r._p.forEach(U=>{Yt(F,o.run(()=>U({store:F,app:r._a,pinia:r,options:a})))}),p&&s&&n.hydrate&&n.hydrate(F.$state,p),u=!0,c=!0,F}function vv(t,e,n){let r,i;const s=typeof e=="function";typeof t=="string"?(r=t,i=s?n:e):(i=t,r=t.id);function o(a,l){const u=Fp();return a=a||u&&Us(dv),a&&Jo(a),a=hv,a._s.has(r)||(s?gv(r,e,i,a):RD(r,i,a)),a._s.get(r)}return o.$id=r,o}const Ji=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},ID={};function AD(t,e){const n=Qn("CourseCalendar"),r=Qn("MainSidebar"),i=Qn("MainLayout");return dt(),Nu(i,null,{default:jo(()=>[Oe(n),Oe(r)]),_:1})}const kD=Ji(ID,[["render",AD]]);/*!
FullCalendar v5.11.3
Docs & License: https://fullcalendar.io/
(c) 2022 Adam Shaw
*/var xD=function(t){B(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.headerElRef=Pe(),n}return e.prototype.renderSimpleLayout=function(n,r){var i=this,s=i.props,o=i.context,a=[],l=ho(o.options);return n&&a.push({type:"header",key:"header",isSticky:l,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:n}}),a.push({type:"body",key:"body",liquid:!0,chunk:{content:r}}),y(Fi,{viewSpec:o.viewSpec},function(u,c){return y("div",{ref:u,className:["fc-daygrid"].concat(c).join(" ")},y(Zu,{liquid:!s.isHeightAuto&&!s.forPrint,collapsibleWidth:s.forPrint,cols:[],sections:a}))})},e.prototype.renderHScrollLayout=function(n,r,i,s){var o=this.context.pluginHooks.scrollGridImpl;if(!o)throw new Error("No ScrollGrid implementation");var a=this,l=a.props,u=a.context,c=!l.forPrint&&ho(u.options),f=!l.forPrint&&iv(u.options),h=[];return n&&h.push({type:"header",key:"header",isSticky:c,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:n}]}),h.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:r}]}),f&&h.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:Nl}]}),y(Fi,{viewSpec:u.viewSpec},function(d,p){return y("div",{ref:d,className:["fc-daygrid"].concat(p).join(" ")},y(o,{liquid:!l.isHeightAuto&&!l.forPrint,collapsibleWidth:l.forPrint,colGroups:[{cols:[{span:i,minWidth:s}]}],sections:h}))})},e}(cn);function Rs(t,e){for(var n=[],r=0;r<e;r+=1)n[r]=[];for(var i=0,s=t;i<s.length;i++){var o=s[i];n[o.row].push(o)}return n}function Is(t,e){for(var n=[],r=0;r<e;r+=1)n[r]=[];for(var i=0,s=t;i<s.length;i++){var o=s[i];n[o.firstCol].push(o)}return n}function Nh(t,e){var n=[];if(t){for(var r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(var i=0,s=t.segs;i<s.length;i++){var o=s[i];n[o.row].segs.push(o)}}else for(var r=0;r<e;r+=1)n[r]=null;return n}var MD=function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.props,r=Qo(this.context,n.date);return y(tc,{date:n.date,dateProfile:n.dateProfile,todayRange:n.todayRange,showDayNumber:n.showDayNumber,extraHookProps:n.extraHookProps,defaultContent:ND},function(i,s){return(s||n.forceDayTop)&&y("div",{className:"fc-daygrid-day-top",ref:i},y("a",w({id:n.dayNumberId,className:"fc-daygrid-day-number"},r),s||y(je,null,"\xA0")))})},e}(fe);function ND(t){return t.dayNumberText}var mv=Ie({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function yv(t){var e=t.eventRange.ui.display;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}var Ev=function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.props;return y(sv,w({},n,{extraClassNames:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:mv,defaultDisplayEventEnd:n.defaultDisplayEventEnd,disableResizing:!n.seg.eventRange.def.allDay}))},e}(fe),bv=function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,s=i.options.eventTimeFormat||mv,o=bg(r.seg,s,i,!0,r.defaultDisplayEventEnd);return y(Ju,{seg:r.seg,timeText:o,defaultContent:OD,isDragging:r.isDragging,isResizing:!1,isDateSelecting:!1,isSelected:r.isSelected,isPast:r.isPast,isFuture:r.isFuture,isToday:r.isToday},function(a,l,u,c){return y("a",w({className:["fc-daygrid-event","fc-daygrid-dot-event"].concat(l).join(" "),ref:a},Cg(r.seg,i)),c)})},e}(fe);function OD(t){return y(je,null,y("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&y("div",{className:"fc-event-time"},t.timeText),y("div",{className:"fc-event-title"},t.event.title||y(je,null,"\xA0")))}var PD=function(t){B(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.compileSegs=Y(LD),n}return e.prototype.render=function(){var n=this.props,r=this.compileSegs(n.singlePlacements),i=r.allSegs,s=r.invisibleSegs;return y(cv,{dateProfile:n.dateProfile,todayRange:n.todayRange,allDayDate:n.allDayDate,moreCnt:n.moreCnt,allSegs:i,hiddenSegs:s,alignmentElRef:n.alignmentElRef,alignGridTop:n.alignGridTop,extraDateSpan:n.extraDateSpan,popoverContent:function(){var o=(n.eventDrag?n.eventDrag.affectedInstances:null)||(n.eventResize?n.eventResize.affectedInstances:null)||{};return y(je,null,i.map(function(a){var l=a.eventRange.instance.instanceId;return y("div",{className:"fc-daygrid-event-harness",key:l,style:{visibility:o[l]?"hidden":""}},yv(a)?y(bv,w({seg:a,isDragging:!1,isSelected:l===n.eventSelection,defaultDisplayEventEnd:!1},Cn(a,n.todayRange))):y(Ev,w({seg:a,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:l===n.eventSelection,defaultDisplayEventEnd:!1},Cn(a,n.todayRange))))}))}},function(o,a,l,u,c,f,h,d){return y("a",w({ref:o,className:["fc-daygrid-more-link"].concat(a).join(" "),title:f,"aria-expanded":h,"aria-controls":d},sg(c)),u)})},e}(fe);function LD(t){for(var e=[],n=[],r=0,i=t;r<i.length;r++){var s=i[r];e.push(s.seg),s.isVisible||n.push(s.seg)}return{allSegs:e,invisibleSegs:n}}var FD=Ie({week:"narrow"}),UD=function(t){B(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.rootElRef=Pe(),n.state={dayNumberId:Ko()},n.handleRootEl=function(r){Rt(n.rootElRef,r),Rt(n.props.elRef,r)},n}return e.prototype.render=function(){var n=this,r=n.context,i=n.props,s=n.state,o=n.rootElRef,a=i.date,l=i.dateProfile,u=Qo(r,a,"week");return y(nc,{date:a,dateProfile:l,todayRange:i.todayRange,showDayNumber:i.showDayNumber,extraHookProps:i.extraHookProps,elRef:this.handleRootEl},function(c,f,h,d){return y("td",w({ref:c,role:"gridcell",className:["fc-daygrid-day"].concat(f,i.extraClassNames||[]).join(" ")},h,i.extraDataAttrs,i.showDayNumber?{"aria-labelledby":s.dayNumberId}:{}),y("div",{className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",ref:i.innerElRef},i.showWeekNumber&&y(uv,{date:a,defaultFormat:FD},function(p,g,m,v){return y("a",w({ref:p,className:["fc-daygrid-week-number"].concat(g).join(" ")},u),v)}),!d&&y(MD,{date:a,dateProfile:l,showDayNumber:i.showDayNumber,dayNumberId:s.dayNumberId,forceDayTop:i.forceDayTop,todayRange:i.todayRange,extraHookProps:i.extraHookProps}),y("div",{className:"fc-daygrid-day-events",ref:i.fgContentElRef},i.fgContent,y("div",{className:"fc-daygrid-day-bottom",style:{marginTop:i.moreMarginTop}},y(PD,{allDayDate:a,singlePlacements:i.singlePlacements,moreCnt:i.moreCnt,alignmentElRef:o,alignGridTop:!i.showDayNumber,extraDateSpan:i.extraDateSpan,dateProfile:i.dateProfile,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,todayRange:i.todayRange}))),y("div",{className:"fc-daygrid-day-bg"},i.bgContent)))})},e}(cn);function HD(t,e,n,r,i,s,o){var a=new $D;a.allowReslicing=!0,a.strictOrder=r,e===!0||n===!0?(a.maxCoord=s,a.hiddenConsumes=!0):typeof e=="number"?a.maxStackCnt=e:typeof n=="number"&&(a.maxStackCnt=n,a.hiddenConsumes=!0);for(var l=[],u=[],c=0;c<t.length;c+=1){var f=t[c],h=f.eventRange.instance.instanceId,d=i[h];d!=null?l.push({index:c,thickness:d,span:{start:f.firstCol,end:f.lastCol+1}}):u.push(f)}for(var p=a.addSegs(l),g=a.toRects(),m=VD(g,t,o),v=m.singleColPlacements,b=m.multiColPlacements,T=m.leftoverMargins,D=[],F=[],V=0,U=u;V<U.length;V++){var f=U[V];b[f.firstCol].push({seg:f,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(var O=f.firstCol;O<=f.lastCol;O+=1)v[O].push({seg:Rr(f,O,O+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(var O=0;O<o.length;O+=1)D.push(0);for(var le=0,se=p;le<se.length;le++){var _e=se[le],f=t[_e.index],He=_e.span;b[He.start].push({seg:Rr(f,He.start,He.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(var O=He.start;O<He.end;O+=1)D[O]+=1,v[O].push({seg:Rr(f,O,O+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(var O=0;O<o.length;O+=1)F.push(T[O]);return{singleColPlacements:v,multiColPlacements:b,moreCnts:D,moreMarginTops:F}}function VD(t,e,n){for(var r=BD(t,n.length),i=[],s=[],o=[],a=0;a<n.length;a+=1){for(var l=r[a],u=[],c=0,f=0,h=0,d=l;h<d.length;h++){var p=d[h],g=e[p.index];u.push({seg:Rr(g,a,a+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:p.levelCoord,marginTop:p.levelCoord-c}),c=p.levelCoord+p.thickness}var m=[];c=0,f=0;for(var v=0,b=l;v<b.length;v++){var p=b[v],g=e[p.index],T=p.span.end-p.span.start>1,D=p.span.start===a;f+=p.levelCoord-c,c=p.levelCoord+p.thickness,T?(f+=p.thickness,D&&m.push({seg:Rr(g,p.span.start,p.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:p.levelCoord,marginTop:0})):D&&(m.push({seg:Rr(g,p.span.start,p.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:p.levelCoord,marginTop:f}),f=0)}i.push(u),s.push(m),o.push(f)}return{singleColPlacements:i,multiColPlacements:s,leftoverMargins:o}}function BD(t,e){for(var n=[],r=0;r<e;r+=1)n.push([]);for(var i=0,s=t;i<s.length;i++)for(var o=s[i],r=o.span.start;r<o.span.end;r+=1)n[r].push(o);return n}function Rr(t,e,n,r){if(t.firstCol===e&&t.lastCol===n-1)return t;var i=t.eventRange,s=i.range,o=Ur(s,{start:r[e].date,end:at(r[n-1].date,1)});return w(w({},t),{firstCol:e,lastCol:n-1,eventRange:{def:i.def,ui:w(w({},i.ui),{durationEditable:!1}),instance:i.instance,range:o},isStart:t.isStart&&o.start.valueOf()===s.start.valueOf(),isEnd:t.isEnd&&o.end.valueOf()===s.end.valueOf()})}var $D=function(t){B(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.hiddenConsumes=!1,n.forceHidden={},n}return e.prototype.addSegs=function(n){for(var r=this,i=t.prototype.addSegs.call(this,n),s=this.entriesByLevel,o=function(l){return!r.forceHidden[Zn(l)]},a=0;a<s.length;a+=1)s[a]=s[a].filter(o);return i},e.prototype.handleInvalidInsertion=function(n,r,i){var s=this,o=s.entriesByLevel,a=s.forceHidden,l=n.touchingEntry,u=n.touchingLevel,c=n.touchingLateral;if(this.hiddenConsumes&&l){var f=Zn(l);if(!a[f])if(this.allowReslicing){var h=w(w({},l),{span:Xu(l.span,r.span)}),d=Zn(h);a[d]=!0,o[u][c]=h,this.splitEntry(l,r,i)}else a[f]=!0,i.push(l)}return t.prototype.handleInvalidInsertion.call(this,n,r,i)},e}(Yg),wv=function(t){B(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.cellElRefs=new Xt,n.frameElRefs=new Xt,n.fgElRefs=new Xt,n.segHarnessRefs=new Xt,n.rootElRef=Pe(),n.state={framePositions:null,maxContentHeight:null,eventInstanceHeights:{}},n}return e.prototype.render=function(){var n=this,r=this,i=r.props,s=r.state,o=r.context,a=o.options,l=i.cells.length,u=Is(i.businessHourSegs,l),c=Is(i.bgEventSegs,l),f=Is(this.getHighlightSegs(),l),h=Is(this.getMirrorSegs(),l),d=HD(Eg(i.fgEventSegs,a.eventOrder),i.dayMaxEvents,i.dayMaxEventRows,a.eventOrderStrict,s.eventInstanceHeights,s.maxContentHeight,i.cells),p=d.singleColPlacements,g=d.multiColPlacements,m=d.moreCnts,v=d.moreMarginTops,b=i.eventDrag&&i.eventDrag.affectedInstances||i.eventResize&&i.eventResize.affectedInstances||{};return y("tr",{ref:this.rootElRef,role:"row"},i.renderIntro&&i.renderIntro(),i.cells.map(function(T,D){var F=n.renderFgSegs(D,i.forPrint?p[D]:g[D],i.todayRange,b),V=n.renderFgSegs(D,jD(h[D],g),i.todayRange,{},Boolean(i.eventDrag),Boolean(i.eventResize),!1);return y(UD,{key:T.key,elRef:n.cellElRefs.createRef(T.key),innerElRef:n.frameElRefs.createRef(T.key),dateProfile:i.dateProfile,date:T.date,showDayNumber:i.showDayNumbers,showWeekNumber:i.showWeekNumbers&&D===0,forceDayTop:i.showWeekNumbers,todayRange:i.todayRange,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,extraHookProps:T.extraHookProps,extraDataAttrs:T.extraDataAttrs,extraClassNames:T.extraClassNames,extraDateSpan:T.extraDateSpan,moreCnt:m[D],moreMarginTop:v[D],singlePlacements:p[D],fgContentElRef:n.fgElRefs.createRef(T.key),fgContent:y(je,null,y(je,null,F),y(je,null,V)),bgContent:y(je,null,n.renderFillSegs(f[D],"highlight"),n.renderFillSegs(u[D],"non-business"),n.renderFillSegs(c[D],"bg-event"))})}))},e.prototype.componentDidMount=function(){this.updateSizing(!0)},e.prototype.componentDidUpdate=function(n,r){var i=this.props;this.updateSizing(!tn(n,i))},e.prototype.getHighlightSegs=function(){var n=this.props;return n.eventDrag&&n.eventDrag.segs.length?n.eventDrag.segs:n.eventResize&&n.eventResize.segs.length?n.eventResize.segs:n.dateSelectionSegs},e.prototype.getMirrorSegs=function(){var n=this.props;return n.eventResize&&n.eventResize.segs.length?n.eventResize.segs:[]},e.prototype.renderFgSegs=function(n,r,i,s,o,a,l){var u=this.context,c=this.props.eventSelection,f=this.state.framePositions,h=this.props.cells.length===1,d=o||a||l,p=[];if(f)for(var g=0,m=r;g<m.length;g++){var v=m[g],b=v.seg,T=b.eventRange.instance.instanceId,D=T+":"+n,F=v.isVisible&&!s[T],V=v.isAbsolute,U="",O="";V&&(u.isRtl?(O=0,U=f.lefts[b.lastCol]-f.lefts[b.firstCol]):(U=0,O=f.rights[b.firstCol]-f.rights[b.lastCol])),p.push(y("div",{className:"fc-daygrid-event-harness"+(V?" fc-daygrid-event-harness-abs":""),key:D,ref:d?null:this.segHarnessRefs.createRef(D),style:{visibility:F?"":"hidden",marginTop:V?"":v.marginTop,top:V?v.absoluteTop:"",left:U,right:O}},yv(b)?y(bv,w({seg:b,isDragging:o,isSelected:T===c,defaultDisplayEventEnd:h},Cn(b,i))):y(Ev,w({seg:b,isDragging:o,isResizing:a,isDateSelecting:l,isSelected:T===c,defaultDisplayEventEnd:h},Cn(b,i)))))}return p},e.prototype.renderFillSegs=function(n,r){var i=this.context.isRtl,s=this.props.todayRange,o=this.state.framePositions,a=[];if(o)for(var l=0,u=n;l<u.length;l++){var c=u[l],f=i?{right:0,left:o.lefts[c.lastCol]-o.lefts[c.firstCol]}:{left:0,right:o.rights[c.firstCol]-o.rights[c.lastCol]};a.push(y("div",{key:wg(c.eventRange),className:"fc-daygrid-bg-harness",style:f},r==="bg-event"?y(lv,w({seg:c},Cn(c,s))):av(r)))}return y.apply(void 0,Re([je,{}],a))},e.prototype.updateSizing=function(n){var r=this,i=r.props,s=r.frameElRefs;if(!i.forPrint&&i.clientWidth!==null){if(n){var o=i.cells.map(function(f){return s.currentMap[f.key]});if(o.length){var a=this.rootElRef.current;this.setState({framePositions:new Li(a,o,!0,!1)})}}var l=this.state.eventInstanceHeights,u=this.queryEventInstanceHeights(),c=i.dayMaxEvents===!0||i.dayMaxEventRows===!0;this.safeSetState({eventInstanceHeights:w(w({},l),u),maxContentHeight:c?this.computeMaxContentHeight():null})}},e.prototype.queryEventInstanceHeights=function(){var n=this.segHarnessRefs.currentMap,r={};for(var i in n){var s=Math.round(n[i].getBoundingClientRect().height),o=i.split(":")[0];r[o]=Math.max(r[o]||0,s)}return r},e.prototype.computeMaxContentHeight=function(){var n=this.props.cells[0].key,r=this.cellElRefs.currentMap[n],i=this.fgElRefs.currentMap[n];return r.getBoundingClientRect().bottom-i.getBoundingClientRect().top},e.prototype.getCellEls=function(){var n=this.cellElRefs.currentMap;return this.props.cells.map(function(r){return n[r.key]})},e}(cn);wv.addStateEquality({eventInstanceHeights:tn});function jD(t,e){if(!t.length)return[];var n=WD(e);return t.map(function(r){return{seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:n[r.eventRange.instance.instanceId],marginTop:0}})}function WD(t){for(var e={},n=0,r=t;n<r.length;n++)for(var i=r[n],s=0,o=i;s<o.length;s++){var a=o[s];e[a.seg.eventRange.instance.instanceId]=a.absoluteTop}return e}var qD=function(t){B(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.splitBusinessHourSegs=Y(Rs),n.splitBgEventSegs=Y(Rs),n.splitFgEventSegs=Y(Rs),n.splitDateSelectionSegs=Y(Rs),n.splitEventDrag=Y(Nh),n.splitEventResize=Y(Nh),n.rowRefs=new Xt,n.handleRootEl=function(r){n.rootEl=r,r?n.context.registerInteractiveComponent(n,{el:r,isHitComboAllowed:n.props.isHitComboAllowed}):n.context.unregisterInteractiveComponent(n)},n}return e.prototype.render=function(){var n=this,r=this.props,i=r.dateProfile,s=r.dayMaxEventRows,o=r.dayMaxEvents,a=r.expandRows,l=r.cells.length,u=this.splitBusinessHourSegs(r.businessHourSegs,l),c=this.splitBgEventSegs(r.bgEventSegs,l),f=this.splitFgEventSegs(r.fgEventSegs,l),h=this.splitDateSelectionSegs(r.dateSelectionSegs,l),d=this.splitEventDrag(r.eventDrag,l),p=this.splitEventResize(r.eventResize,l),g=o===!0||s===!0;g&&!a&&(g=!1,s=null,o=null);var m=["fc-daygrid-body",g?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",a?"":"fc-daygrid-body-natural"];return y("div",{className:m.join(" "),ref:this.handleRootEl,style:{width:r.clientWidth,minWidth:r.tableMinWidth}},y(Zo,{unit:"day"},function(v,b){return y(je,null,y("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:r.clientWidth,minWidth:r.tableMinWidth,height:a?r.clientHeight:""}},r.colGroupNode,y("tbody",{role:"presentation"},r.cells.map(function(T,D){return y(wv,{ref:n.rowRefs.createRef(D),key:T.length?T[0].date.toISOString():D,showDayNumbers:l>1,showWeekNumbers:r.showWeekNumbers,todayRange:b,dateProfile:i,cells:T,renderIntro:r.renderRowIntro,businessHourSegs:u[D],eventSelection:r.eventSelection,bgEventSegs:c[D].filter(zD),fgEventSegs:f[D],dateSelectionSegs:h[D],eventDrag:d[D],eventResize:p[D],dayMaxEvents:o,dayMaxEventRows:s,clientWidth:r.clientWidth,clientHeight:r.clientHeight,forPrint:r.forPrint})}))))}))},e.prototype.prepareHits=function(){this.rowPositions=new Li(this.rootEl,this.rowRefs.collect().map(function(n){return n.getCellEls()[0]}),!1,!0),this.colPositions=new Li(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)},e.prototype.queryHit=function(n,r){var i=this,s=i.colPositions,o=i.rowPositions,a=s.leftToIndex(n),l=o.topToIndex(r);if(l!=null&&a!=null){var u=this.props.cells[l][a];return{dateProfile:this.props.dateProfile,dateSpan:w({range:this.getCellRange(l,a),allDay:!0},u.extraDateSpan),dayEl:this.getCellEl(l,a),rect:{left:s.lefts[a],right:s.rights[a],top:o.tops[l],bottom:o.bottoms[l]},layer:0}}return null},e.prototype.getCellEl=function(n,r){return this.rowRefs.currentMap[n].getCellEls()[r]},e.prototype.getCellRange=function(n,r){var i=this.props.cells[n][r].date,s=at(i,1);return{start:i,end:s}},e}(cn);function zD(t){return t.eventRange.def.allDay}var GD=function(t){B(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.forceDayIfListItem=!0,n}return e.prototype.sliceRange=function(n,r){return r.sliceRange(n)},e}(nv),Cv=function(t){B(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.slicer=new GD,n.tableRef=Pe(),n}return e.prototype.render=function(){var n=this,r=n.props,i=n.context;return y(qD,w({ref:this.tableRef},this.slicer.sliceProps(r,r.dateProfile,r.nextDayThreshold,i,r.dayTableModel),{dateProfile:r.dateProfile,cells:r.dayTableModel.cells,colGroupNode:r.colGroupNode,tableMinWidth:r.tableMinWidth,renderRowIntro:r.renderRowIntro,dayMaxEvents:r.dayMaxEvents,dayMaxEventRows:r.dayMaxEventRows,showWeekNumbers:r.showWeekNumbers,expandRows:r.expandRows,headerAlignElRef:r.headerAlignElRef,clientWidth:r.clientWidth,clientHeight:r.clientHeight,forPrint:r.forPrint}))},e}(cn),KD=function(t){B(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.buildDayTableModel=Y(YD),n.headerRef=Pe(),n.tableRef=Pe(),n}return e.prototype.render=function(){var n=this,r=this.context,i=r.options,s=r.dateProfileGenerator,o=this.props,a=this.buildDayTableModel(o.dateProfile,s),l=i.dayHeaders&&y(Jg,{ref:this.headerRef,dateProfile:o.dateProfile,dates:a.headerDates,datesRepDistinctDays:a.rowCnt===1}),u=function(c){return y(Cv,{ref:n.tableRef,dateProfile:o.dateProfile,dayTableModel:a,businessHours:o.businessHours,dateSelection:o.dateSelection,eventStore:o.eventStore,eventUiBases:o.eventUiBases,eventSelection:o.eventSelection,eventDrag:o.eventDrag,eventResize:o.eventResize,nextDayThreshold:i.nextDayThreshold,colGroupNode:c.tableColGroupNode,tableMinWidth:c.tableMinWidth,dayMaxEvents:i.dayMaxEvents,dayMaxEventRows:i.dayMaxEventRows,showWeekNumbers:i.weekNumbers,expandRows:!o.isHeightAuto,headerAlignElRef:n.headerElRef,clientWidth:c.clientWidth,clientHeight:c.clientHeight,forPrint:o.forPrint})};return i.dayMinWidth?this.renderHScrollLayout(l,u,a.colCnt,i.dayMinWidth):this.renderSimpleLayout(l,u)},e}(xD);function YD(t,e){var n=new ev(t.renderRange,e);return new tv(n,/year|month|week/.test(t.currentRangeUnit))}var QD=function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.buildRenderRange=function(n,r,i){var s=this.props.dateEnv,o=t.prototype.buildRenderRange.call(this,n,r,i),a=o.start,l=o.end,u;if(/^(year|month)$/.test(r)&&(a=s.startOfWeek(a),u=s.startOfWeek(l),u.valueOf()!==l.valueOf()&&(l=sh(u,1))),this.props.monthMode&&this.props.fixedWeekCount){var c=Math.ceil(mC(a,l));l=sh(l,6-c)}return{start:a,end:l}},e}(Vg);Wt({initialView:"dayGridMonth",views:{dayGrid:{component:KD,dateProfileGeneratorClass:QD},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},monthMode:!0,fixedWeekCount:!0}}});/*!
FullCalendar v5.11.3
Docs & License: https://fullcalendar.io/
(c) 2022 Adam Shaw
*/var XD=function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getKeyInfo=function(){return{allDay:{},timed:{}}},e.prototype.getKeysForDateSpan=function(n){return n.allDay?["allDay"]:["timed"]},e.prototype.getKeysForEventDef=function(n){return n.allDay?gS(n)?["timed","allDay"]:["allDay"]:["timed"]},e}(JS),ZD=Ie({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function Sv(t){var e=["fc-timegrid-slot","fc-timegrid-slot-label",t.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return y(un.Consumer,null,function(n){if(!t.isLabeled)return y("td",{className:e.join(" "),"data-time":t.isoTimeStr});var r=n.dateEnv,i=n.options,s=n.viewApi,o=i.slotLabelFormat==null?ZD:Array.isArray(i.slotLabelFormat)?Ie(i.slotLabelFormat[0]):Ie(i.slotLabelFormat),a={level:0,time:t.time,date:r.toDate(t.date),view:s,text:r.format(t.date,o)};return y(qt,{hookProps:a,classNames:i.slotLabelClassNames,content:i.slotLabelContent,defaultContent:JD,didMount:i.slotLabelDidMount,willUnmount:i.slotLabelWillUnmount},function(l,u,c,f){return y("td",{ref:l,className:e.concat(u).join(" "),"data-time":t.isoTimeStr},y("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},y("div",{className:"fc-timegrid-slot-label-cushion fc-scrollgrid-shrink-cushion",ref:c},f)))})})}function JD(t){return t.text}var e0=function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){return this.props.slatMetas.map(function(n){return y("tr",{key:n.key},y(Sv,w({},n)))})},e}(fe),t0=Ie({week:"short"}),n0=5,r0=function(t){B(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.allDaySplitter=new XD,n.headerElRef=Pe(),n.rootElRef=Pe(),n.scrollerElRef=Pe(),n.state={slatCoords:null},n.handleScrollTopRequest=function(r){var i=n.scrollerElRef.current;i&&(i.scrollTop=r)},n.renderHeadAxis=function(r,i){i===void 0&&(i="");var s=n.context.options,o=n.props.dateProfile,a=o.renderRange,l=lr(a.start,a.end),u=l===1?Qo(n.context,a.start,"week"):{};return s.weekNumbers&&r==="day"?y(uv,{date:a.start,defaultFormat:t0},function(c,f,h,d){return y("th",{ref:c,"aria-hidden":!0,className:["fc-timegrid-axis","fc-scrollgrid-shrink"].concat(f).join(" ")},y("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid",style:{height:i}},y("a",w({ref:h,className:"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner"},u),d)))}):y("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},y("div",{className:"fc-timegrid-axis-frame",style:{height:i}}))},n.renderTableRowAxis=function(r){var i=n.context,s=i.options,o=i.viewApi,a={text:s.allDayText,view:o};return y(qt,{hookProps:a,classNames:s.allDayClassNames,content:s.allDayContent,defaultContent:i0,didMount:s.allDayDidMount,willUnmount:s.allDayWillUnmount},function(l,u,c,f){return y("td",{ref:l,"aria-hidden":!0,className:["fc-timegrid-axis","fc-scrollgrid-shrink"].concat(u).join(" ")},y("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame"+(r==null?" fc-timegrid-axis-frame-liquid":""),style:{height:r}},y("span",{className:"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner",ref:c},f)))})},n.handleSlatCoords=function(r){n.setState({slatCoords:r})},n}return e.prototype.renderSimpleLayout=function(n,r,i){var s=this,o=s.context,a=s.props,l=[],u=ho(o.options);return n&&l.push({type:"header",key:"header",isSticky:u,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:n}}),r&&(l.push({type:"body",key:"all-day",chunk:{content:r}}),l.push({type:"body",key:"all-day-divider",outerContent:y("tr",{role:"presentation",className:"fc-scrollgrid-section"},y("td",{className:"fc-timegrid-divider "+o.theme.getClass("tableCellShaded")}))})),l.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(o.options.expandRows),chunk:{scrollerElRef:this.scrollerElRef,content:i}}),y(Fi,{viewSpec:o.viewSpec,elRef:this.rootElRef},function(c,f){return y("div",{className:["fc-timegrid"].concat(f).join(" "),ref:c},y(Zu,{liquid:!a.isHeightAuto&&!a.forPrint,collapsibleWidth:a.forPrint,cols:[{width:"shrink"}],sections:l}))})},e.prototype.renderHScrollLayout=function(n,r,i,s,o,a,l){var u=this,c=this.context.pluginHooks.scrollGridImpl;if(!c)throw new Error("No ScrollGrid implementation");var f=this,h=f.context,d=f.props,p=!d.forPrint&&ho(h.options),g=!d.forPrint&&iv(h.options),m=[];n&&m.push({type:"header",key:"header",isSticky:p,syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(b){return y("tr",{role:"presentation"},u.renderHeadAxis("day",b.rowSyncHeights[0]))}},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:n}]}),r&&(m.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(b){return y("tr",{role:"presentation"},u.renderTableRowAxis(b.rowSyncHeights[0]))}},{key:"cols",content:r}]}),m.push({key:"all-day-divider",type:"body",outerContent:y("tr",{role:"presentation",className:"fc-scrollgrid-section"},y("td",{colSpan:2,className:"fc-timegrid-divider "+h.theme.getClass("tableCellShaded")}))}));var v=h.options.nowIndicator;return m.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(h.options.expandRows),chunks:[{key:"axis",content:function(b){return y("div",{className:"fc-timegrid-axis-chunk"},y("table",{"aria-hidden":!0,style:{height:b.expandRows?b.clientHeight:""}},b.tableColGroupNode,y("tbody",null,y(e0,{slatMetas:a}))),y("div",{className:"fc-timegrid-now-indicator-container"},y(Zo,{unit:v?"minute":"day"},function(T){var D=v&&l&&l.safeComputeTop(T);return typeof D=="number"?y(ec,{isAxis:!0,date:T},function(F,V,U,O){return y("div",{ref:F,className:["fc-timegrid-now-indicator-arrow"].concat(V).join(" "),style:{top:D}},O)}):null})))}},{key:"cols",scrollerElRef:this.scrollerElRef,content:i}]}),g&&m.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:Nl},{key:"cols",content:Nl}]}),y(Fi,{viewSpec:h.viewSpec,elRef:this.rootElRef},function(b,T){return y("div",{className:["fc-timegrid"].concat(T).join(" "),ref:b},y(c,{liquid:!d.isHeightAuto&&!d.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:s,minWidth:o}]}],sections:m}))})},e.prototype.getAllDayMaxEventProps=function(){var n=this.context.options,r=n.dayMaxEvents,i=n.dayMaxEventRows;return(r===!0||i===!0)&&(r=void 0,i=n0),{dayMaxEvents:r,dayMaxEventRows:i}},e}(cn);function i0(t){return t.text}var s0=function(){function t(e,n,r){this.positions=e,this.dateProfile=n,this.slotDuration=r}return t.prototype.safeComputeTop=function(e){var n=this.dateProfile;if(wn(n.currentRange,e)){var r=Ce(e),i=e.valueOf()-r.valueOf();if(i>=St(n.slotMinTime)&&i<St(n.slotMaxTime))return this.computeTimeTop(ce(i))}return null},t.prototype.computeDateTop=function(e,n){return n||(n=Ce(e)),this.computeTimeTop(ce(e.valueOf()-n.valueOf()))},t.prototype.computeTimeTop=function(e){var n=this,r=n.positions,i=n.dateProfile,s=r.els.length,o=(e.milliseconds-St(i.slotMinTime))/St(this.slotDuration),a,l;return o=Math.max(0,o),o=Math.min(s,o),a=Math.floor(o),a=Math.min(a,s-1),l=o-a,r.tops[a]+r.getHeight(a)*l},t}(),o0=function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,s=i.options,o=r.slatElRefs;return y("tbody",null,r.slatMetas.map(function(a,l){var u={time:a.time,date:i.dateEnv.toDate(a.date),view:i.viewApi},c=["fc-timegrid-slot","fc-timegrid-slot-lane",a.isLabeled?"":"fc-timegrid-slot-minor"];return y("tr",{key:a.key,ref:o.createRef(a.key)},r.axis&&y(Sv,w({},a)),y(qt,{hookProps:u,classNames:s.slotLaneClassNames,content:s.slotLaneContent,didMount:s.slotLaneDidMount,willUnmount:s.slotLaneWillUnmount},function(f,h,d,p){return y("td",{ref:f,className:c.concat(h).join(" "),"data-time":a.isoTimeStr},p)}))}))},e}(fe),a0=function(t){B(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.rootElRef=Pe(),n.slatElRefs=new Xt,n}return e.prototype.render=function(){var n=this,r=n.props,i=n.context;return y("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},y("table",{"aria-hidden":!0,className:i.theme.getClass("table"),style:{minWidth:r.tableMinWidth,width:r.clientWidth,height:r.minHeight}},r.tableColGroupNode,y(o0,{slatElRefs:this.slatElRefs,axis:r.axis,slatMetas:r.slatMetas})))},e.prototype.componentDidMount=function(){this.updateSizing()},e.prototype.componentDidUpdate=function(){this.updateSizing()},e.prototype.componentWillUnmount=function(){this.props.onCoords&&this.props.onCoords(null)},e.prototype.updateSizing=function(){var n=this,r=n.context,i=n.props;if(i.onCoords&&i.clientWidth!==null){var s=this.rootElRef.current;s.offsetHeight&&i.onCoords(new s0(new Li(this.rootElRef.current,l0(this.slatElRefs.currentMap,i.slatMetas),!1,!0),this.props.dateProfile,r.options.slotDuration))}},e}(fe);function l0(t,e){return e.map(function(n){return t[n.key]})}function fi(t,e){var n=[],r;for(r=0;r<e;r+=1)n.push([]);if(t)for(r=0;r<t.length;r+=1)n[t[r].col].push(t[r]);return n}function Oh(t,e){var n=[];if(t){for(var r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(var i=0,s=t.segs;i<s.length;i++){var o=s[i];n[o.col].segs.push(o)}}else for(var r=0;r<e;r+=1)n[r]=null;return n}var u0=function(t){B(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.rootElRef=Pe(),n}return e.prototype.render=function(){var n=this,r=this.props;return y(cv,{allDayDate:null,moreCnt:r.hiddenSegs.length,allSegs:r.hiddenSegs,hiddenSegs:r.hiddenSegs,alignmentElRef:this.rootElRef,defaultContent:c0,extraDateSpan:r.extraDateSpan,dateProfile:r.dateProfile,todayRange:r.todayRange,popoverContent:function(){return _v(r.hiddenSegs,r)}},function(i,s,o,a,l,u,c,f){return y("a",{ref:function(h){Rt(i,h),Rt(n.rootElRef,h)},className:["fc-timegrid-more-link"].concat(s).join(" "),style:{top:r.top,bottom:r.bottom},onClick:l,title:u,"aria-expanded":c,"aria-controls":f},y("div",{ref:o,className:"fc-timegrid-more-link-inner fc-sticky"},a))})},e}(fe);function c0(t){return t.shortText}function f0(t,e,n){var r=new Yg;e!=null&&(r.strictOrder=e),n!=null&&(r.maxStackCnt=n);var i=r.addSegs(t),s=D_(i),o=h0(r);o=v0(o,1);var a=m0(o);return{segRects:a,hiddenGroups:s}}function h0(t){var e=t.entriesByLevel,n=rc(function(r,i){return r+":"+i},function(r,i){var s=g0(t,r,i),o=Ph(s,n),a=e[r][i];return[w(w({},a),{nextLevelNodes:o[0]}),a.thickness+o[1]]});return Ph(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,n)[0]}function Ph(t,e){if(!t)return[[],0];for(var n=t.level,r=t.lateralStart,i=t.lateralEnd,s=r,o=[];s<i;)o.push(e(n,s)),s+=1;return o.sort(d0),[o.map(p0),o[0][1]]}function d0(t,e){return e[1]-t[1]}function p0(t){return t[0]}function g0(t,e,n){for(var r=t.levelCoords,i=t.entriesByLevel,s=i[e][n],o=r[e]+s.thickness,a=r.length,l=e;l<a&&r[l]<o;l+=1);for(;l<a;l+=1){for(var u=i[l],c=void 0,f=Ml(u,s.span.start,xl),h=f[0]+f[1],d=h;(c=u[d])&&c.span.start<s.span.end;)d+=1;if(h<d)return{level:l,lateralStart:h,lateralEnd:d}}return null}function v0(t,e){var n=rc(function(r,i,s){return Zn(r)},function(r,i,s){var o=r.nextLevelNodes,a=r.thickness,l=a+s,u=a/l,c,f=[];if(!o.length)c=e;else for(var h=0,d=o;h<d.length;h++){var p=d[h];if(c===void 0){var g=n(p,i,l);c=g[0],f.push(g[1])}else{var g=n(p,c,0);f.push(g[1])}}var m=(c-i)*u;return[c-m,w(w({},r),{thickness:m,nextLevelNodes:f})]});return t.map(function(r){return n(r,0,0)[1]})}function m0(t){var e=[],n=rc(function(i,s,o){return Zn(i)},function(i,s,o){var a=w(w({},i),{levelCoord:s,stackDepth:o,stackForward:0});return e.push(a),a.stackForward=r(i.nextLevelNodes,s+i.thickness,o+1)+1});function r(i,s,o){for(var a=0,l=0,u=i;l<u.length;l++){var c=u[l];a=Math.max(n(c,s,o),a)}return a}return r(t,0,0),e}function rc(t,e){var n={};return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=t.apply(void 0,r);return s in n?n[s]:n[s]=e.apply(void 0,r)}}function Lh(t,e,n,r){n===void 0&&(n=null),r===void 0&&(r=0);var i=[];if(n)for(var s=0;s<t.length;s+=1){var o=t[s],a=n.computeDateTop(o.start,e),l=Math.max(a+(r||0),n.computeDateTop(o.end,e));i.push({start:Math.round(a),end:Math.round(l)})}return i}function y0(t,e,n,r){for(var i=[],s=[],o=0;o<t.length;o+=1){var a=e[o];a?i.push({index:o,thickness:1,span:a}):s.push(t[o])}for(var l=f0(i,n,r),u=l.segRects,c=l.hiddenGroups,f=[],h=0,d=u;h<d.length;h++){var p=d[h];f.push({seg:t[p.index],rect:p})}for(var g=0,m=s;g<m.length;g++){var v=m[g];f.push({seg:v,rect:null})}return{segPlacements:f,hiddenGroups:c}}var E0=Ie({hour:"numeric",minute:"2-digit",meridiem:!1}),Tv=function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=["fc-timegrid-event","fc-v-event"];return this.props.isShort&&n.push("fc-timegrid-event-short"),y(sv,w({},this.props,{defaultTimeFormat:E0,extraClassNames:n}))},e}(fe),b0=function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.props;return y(tc,{date:n.date,dateProfile:n.dateProfile,todayRange:n.todayRange,extraHookProps:n.extraHookProps},function(r,i){return i&&y("div",{className:"fc-timegrid-col-misc",ref:r},i)})},e}(fe),w0=function(t){B(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.sortEventSegs=Y(Eg),n}return e.prototype.render=function(){var n=this,r=this,i=r.props,s=r.context,o=s.options.selectMirror,a=i.eventDrag&&i.eventDrag.segs||i.eventResize&&i.eventResize.segs||o&&i.dateSelectionSegs||[],l=i.eventDrag&&i.eventDrag.affectedInstances||i.eventResize&&i.eventResize.affectedInstances||{},u=this.sortEventSegs(i.fgEventSegs,s.options.eventOrder);return y(nc,{elRef:i.elRef,date:i.date,dateProfile:i.dateProfile,todayRange:i.todayRange,extraHookProps:i.extraHookProps},function(c,f,h){return y("td",w({ref:c,role:"gridcell",className:["fc-timegrid-col"].concat(f,i.extraClassNames||[]).join(" ")},h,i.extraDataAttrs),y("div",{className:"fc-timegrid-col-frame"},y("div",{className:"fc-timegrid-col-bg"},n.renderFillSegs(i.businessHourSegs,"non-business"),n.renderFillSegs(i.bgEventSegs,"bg-event"),n.renderFillSegs(i.dateSelectionSegs,"highlight")),y("div",{className:"fc-timegrid-col-events"},n.renderFgSegs(u,l,!1,!1,!1)),y("div",{className:"fc-timegrid-col-events"},n.renderFgSegs(a,{},Boolean(i.eventDrag),Boolean(i.eventResize),Boolean(o))),y("div",{className:"fc-timegrid-now-indicator-container"},n.renderNowIndicator(i.nowIndicatorSegs)),y(b0,{date:i.date,dateProfile:i.dateProfile,todayRange:i.todayRange,extraHookProps:i.extraHookProps})))})},e.prototype.renderFgSegs=function(n,r,i,s,o){var a=this.props;return a.forPrint?_v(n,a):this.renderPositionedFgSegs(n,r,i,s,o)},e.prototype.renderPositionedFgSegs=function(n,r,i,s,o){var a=this,l=this.context.options,u=l.eventMaxStack,c=l.eventShortHeight,f=l.eventOrderStrict,h=l.eventMinHeight,d=this.props,p=d.date,g=d.slatCoords,m=d.eventSelection,v=d.todayRange,b=d.nowDate,T=i||s||o,D=Lh(n,p,g,h),F=y0(n,D,f,u),V=F.segPlacements,U=F.hiddenGroups;return y(je,null,this.renderHiddenGroups(U,n),V.map(function(O){var le=O.seg,se=O.rect,_e=le.eventRange.instance.instanceId,He=T||Boolean(!r[_e]&&se),fn=Ga(se&&se.span),At=!T&&se?a.computeSegHStyle(se):{left:0,right:0},Ve=Boolean(se)&&se.stackForward>0,Ye=Boolean(se)&&se.span.end-se.span.start<c;return y("div",{className:"fc-timegrid-event-harness"+(Ve?" fc-timegrid-event-harness-inset":""),key:_e,style:w(w({visibility:He?"":"hidden"},fn),At)},y(Tv,w({seg:le,isDragging:i,isResizing:s,isDateSelecting:o,isSelected:_e===m,isShort:Ye},Cn(le,v,b))))}))},e.prototype.renderHiddenGroups=function(n,r){var i=this.props,s=i.extraDateSpan,o=i.dateProfile,a=i.todayRange,l=i.nowDate,u=i.eventSelection,c=i.eventDrag,f=i.eventResize;return y(je,null,n.map(function(h){var d=Ga(h.span),p=C0(h.entries,r);return y(u0,{key:ug(fv(p)),hiddenSegs:p,top:d.top,bottom:d.bottom,extraDateSpan:s,dateProfile:o,todayRange:a,nowDate:l,eventSelection:u,eventDrag:c,eventResize:f})}))},e.prototype.renderFillSegs=function(n,r){var i=this,s=i.props,o=i.context,a=Lh(n,s.date,s.slatCoords,o.options.eventMinHeight),l=a.map(function(u,c){var f=n[c];return y("div",{key:wg(f.eventRange),className:"fc-timegrid-bg-harness",style:Ga(u)},r==="bg-event"?y(lv,w({seg:f},Cn(f,s.todayRange,s.nowDate))):av(r))});return y(je,null,l)},e.prototype.renderNowIndicator=function(n){var r=this.props,i=r.slatCoords,s=r.date;return i?n.map(function(o,a){return y(ec,{isAxis:!1,date:s,key:a},function(l,u,c,f){return y("div",{ref:l,className:["fc-timegrid-now-indicator-line"].concat(u).join(" "),style:{top:i.computeDateTop(o.start,s)}},f)})}):null},e.prototype.computeSegHStyle=function(n){var r=this.context,i=r.isRtl,s=r.options,o=s.slotEventOverlap,a=n.levelCoord,l=n.levelCoord+n.thickness,u,c;o&&(l=Math.min(1,a+(l-a)*2)),i?(u=1-l,c=a):(u=a,c=1-l);var f={zIndex:n.stackDepth+1,left:u*100+"%",right:c*100+"%"};return o&&!n.stackForward&&(f[i?"marginLeft":"marginRight"]=10*2),f},e}(fe);function _v(t,e){var n=e.todayRange,r=e.nowDate,i=e.eventSelection,s=e.eventDrag,o=e.eventResize,a=(s?s.affectedInstances:null)||(o?o.affectedInstances:null)||{};return y(je,null,t.map(function(l){var u=l.eventRange.instance.instanceId;return y("div",{key:u,style:{visibility:a[u]?"hidden":""}},y(Tv,w({seg:l,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:u===i,isShort:!1},Cn(l,n,r))))}))}function Ga(t){return t?{top:t.start,bottom:-t.end}:{top:"",bottom:""}}function C0(t,e){return t.map(function(n){return e[n.index]})}var S0=function(t){B(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.splitFgEventSegs=Y(fi),n.splitBgEventSegs=Y(fi),n.splitBusinessHourSegs=Y(fi),n.splitNowIndicatorSegs=Y(fi),n.splitDateSelectionSegs=Y(fi),n.splitEventDrag=Y(Oh),n.splitEventResize=Y(Oh),n.rootElRef=Pe(),n.cellElRefs=new Xt,n}return e.prototype.render=function(){var n=this,r=this,i=r.props,s=r.context,o=s.options.nowIndicator&&i.slatCoords&&i.slatCoords.safeComputeTop(i.nowDate),a=i.cells.length,l=this.splitFgEventSegs(i.fgEventSegs,a),u=this.splitBgEventSegs(i.bgEventSegs,a),c=this.splitBusinessHourSegs(i.businessHourSegs,a),f=this.splitNowIndicatorSegs(i.nowIndicatorSegs,a),h=this.splitDateSelectionSegs(i.dateSelectionSegs,a),d=this.splitEventDrag(i.eventDrag,a),p=this.splitEventResize(i.eventResize,a);return y("div",{className:"fc-timegrid-cols",ref:this.rootElRef},y("table",{role:"presentation",style:{minWidth:i.tableMinWidth,width:i.clientWidth}},i.tableColGroupNode,y("tbody",{role:"presentation"},y("tr",{role:"row"},i.axis&&y("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},y("div",{className:"fc-timegrid-col-frame"},y("div",{className:"fc-timegrid-now-indicator-container"},typeof o=="number"&&y(ec,{isAxis:!0,date:i.nowDate},function(g,m,v,b){return y("div",{ref:g,className:["fc-timegrid-now-indicator-arrow"].concat(m).join(" "),style:{top:o}},b)})))),i.cells.map(function(g,m){return y(w0,{key:g.key,elRef:n.cellElRefs.createRef(g.key),dateProfile:i.dateProfile,date:g.date,nowDate:i.nowDate,todayRange:i.todayRange,extraHookProps:g.extraHookProps,extraDataAttrs:g.extraDataAttrs,extraClassNames:g.extraClassNames,extraDateSpan:g.extraDateSpan,fgEventSegs:l[m],bgEventSegs:u[m],businessHourSegs:c[m],nowIndicatorSegs:f[m],dateSelectionSegs:h[m],eventDrag:d[m],eventResize:p[m],slatCoords:i.slatCoords,eventSelection:i.eventSelection,forPrint:i.forPrint})})))))},e.prototype.componentDidMount=function(){this.updateCoords()},e.prototype.componentDidUpdate=function(){this.updateCoords()},e.prototype.updateCoords=function(){var n=this.props;n.onColCoords&&n.clientWidth!==null&&n.onColCoords(new Li(this.rootElRef.current,T0(this.cellElRefs.currentMap,n.cells),!0,!1))},e}(fe);function T0(t,e){return e.map(function(n){return t[n.key]})}var _0=function(t){B(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.processSlotOptions=Y(D0),n.state={slatCoords:null},n.handleRootEl=function(r){r?n.context.registerInteractiveComponent(n,{el:r,isHitComboAllowed:n.props.isHitComboAllowed}):n.context.unregisterInteractiveComponent(n)},n.handleScrollRequest=function(r){var i=n.props.onScrollTopRequest,s=n.state.slatCoords;if(i&&s){if(r.time){var o=s.computeTimeTop(r.time);o=Math.ceil(o),o&&(o+=1),i(o)}return!0}return!1},n.handleColCoords=function(r){n.colCoords=r},n.handleSlatCoords=function(r){n.setState({slatCoords:r}),n.props.onSlatCoords&&n.props.onSlatCoords(r)},n}return e.prototype.render=function(){var n=this,r=n.props,i=n.state;return y("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:r.clientWidth,minWidth:r.tableMinWidth}},y(a0,{axis:r.axis,dateProfile:r.dateProfile,slatMetas:r.slatMetas,clientWidth:r.clientWidth,minHeight:r.expandRows?r.clientHeight:"",tableMinWidth:r.tableMinWidth,tableColGroupNode:r.axis?r.tableColGroupNode:null,onCoords:this.handleSlatCoords}),y(S0,{cells:r.cells,axis:r.axis,dateProfile:r.dateProfile,businessHourSegs:r.businessHourSegs,bgEventSegs:r.bgEventSegs,fgEventSegs:r.fgEventSegs,dateSelectionSegs:r.dateSelectionSegs,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,todayRange:r.todayRange,nowDate:r.nowDate,nowIndicatorSegs:r.nowIndicatorSegs,clientWidth:r.clientWidth,tableMinWidth:r.tableMinWidth,tableColGroupNode:r.tableColGroupNode,slatCoords:i.slatCoords,onColCoords:this.handleColCoords,forPrint:r.forPrint}))},e.prototype.componentDidMount=function(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)},e.prototype.componentDidUpdate=function(n){this.scrollResponder.update(n.dateProfile!==this.props.dateProfile)},e.prototype.componentWillUnmount=function(){this.scrollResponder.detach()},e.prototype.queryHit=function(n,r){var i=this.context,s=i.dateEnv,o=i.options,a=this.colCoords,l=this.props.dateProfile,u=this.state.slatCoords,c=this.processSlotOptions(this.props.slotDuration,o.snapDuration),f=c.snapDuration,h=c.snapsPerSlot,d=a.leftToIndex(n),p=u.positions.topToIndex(r);if(d!=null&&p!=null){var g=this.props.cells[d],m=u.positions.tops[p],v=u.positions.getHeight(p),b=(r-m)/v,T=Math.floor(b*h),D=p*h+T,F=this.props.cells[d].date,V=Tl(l.slotMinTime,LC(f,D)),U=s.add(F,V),O=s.add(U,f);return{dateProfile:l,dateSpan:w({range:{start:U,end:O},allDay:!1},g.extraDateSpan),dayEl:a.els[d],rect:{left:a.lefts[d],right:a.rights[d],top:m,bottom:m+v},layer:0}}return null},e}(cn);function D0(t,e){var n=e||t,r=Vu(t,n);return r===null&&(n=t,r=1),{snapDuration:n,snapsPerSlot:r}}var R0=function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sliceRange=function(n,r){for(var i=[],s=0;s<r.length;s+=1){var o=Ur(n,r[s]);o&&i.push({start:o.start,end:o.end,isStart:o.start.valueOf()===n.start.valueOf(),isEnd:o.end.valueOf()===n.end.valueOf(),col:s})}return i},e}(nv),I0=function(t){B(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.buildDayRanges=Y(A0),n.slicer=new R0,n.timeColsRef=Pe(),n}return e.prototype.render=function(){var n=this,r=this,i=r.props,s=r.context,o=i.dateProfile,a=i.dayTableModel,l=s.options.nowIndicator,u=this.buildDayRanges(a,o,s.dateEnv);return y(Zo,{unit:l?"minute":"day"},function(c,f){return y(_0,w({ref:n.timeColsRef},n.slicer.sliceProps(i,o,null,s,u),{forPrint:i.forPrint,axis:i.axis,dateProfile:o,slatMetas:i.slatMetas,slotDuration:i.slotDuration,cells:a.cells[0],tableColGroupNode:i.tableColGroupNode,tableMinWidth:i.tableMinWidth,clientWidth:i.clientWidth,clientHeight:i.clientHeight,expandRows:i.expandRows,nowDate:c,nowIndicatorSegs:l&&n.slicer.sliceNowDate(c,s,u),todayRange:f,onScrollTopRequest:i.onScrollTopRequest,onSlatCoords:i.onSlatCoords}))})},e}(cn);function A0(t,e,n){for(var r=[],i=0,s=t.headerDates;i<s.length;i++){var o=s[i];r.push({start:n.add(o,e.slotMinTime),end:n.add(o,e.slotMaxTime)})}return r}var Fh=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function k0(t,e,n,r,i){for(var s=new Date(0),o=t,a=ce(0),l=n||x0(r),u=[];St(o)<St(e);){var c=i.add(s,o),f=Vu(a,l)!==null;u.push({date:c,time:o,key:c.toISOString(),isoTimeStr:HC(c),isLabeled:f}),o=Tl(o,r),a=Tl(a,r)}return u}function x0(t){var e,n,r;for(e=Fh.length-1;e>=0;e-=1)if(n=ce(Fh[e]),r=Vu(n,t),r!==null&&r>1)return n;return t}var M0=function(t){B(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.buildTimeColsModel=Y(N0),n.buildSlatMetas=Y(k0),n}return e.prototype.render=function(){var n=this,r=this.context,i=r.options,s=r.dateEnv,o=r.dateProfileGenerator,a=this.props,l=a.dateProfile,u=this.buildTimeColsModel(l,o),c=this.allDaySplitter.splitProps(a),f=this.buildSlatMetas(l.slotMinTime,l.slotMaxTime,i.slotLabelInterval,i.slotDuration,s),h=i.dayMinWidth,d=!h,p=h,g=i.dayHeaders&&y(Jg,{dates:u.headerDates,dateProfile:l,datesRepDistinctDays:!0,renderIntro:d?this.renderHeadAxis:null}),m=i.allDaySlot!==!1&&function(b){return y(Cv,w({},c.allDay,{dateProfile:l,dayTableModel:u,nextDayThreshold:i.nextDayThreshold,tableMinWidth:b.tableMinWidth,colGroupNode:b.tableColGroupNode,renderRowIntro:d?n.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:n.headerElRef,clientWidth:b.clientWidth,clientHeight:b.clientHeight,forPrint:a.forPrint},n.getAllDayMaxEventProps()))},v=function(b){return y(I0,w({},c.timed,{dayTableModel:u,dateProfile:l,axis:d,slotDuration:i.slotDuration,slatMetas:f,forPrint:a.forPrint,tableColGroupNode:b.tableColGroupNode,tableMinWidth:b.tableMinWidth,clientWidth:b.clientWidth,clientHeight:b.clientHeight,onSlatCoords:n.handleSlatCoords,expandRows:b.expandRows,onScrollTopRequest:n.handleScrollTopRequest}))};return p?this.renderHScrollLayout(g,m,v,u.colCnt,h,f,this.state.slatCoords):this.renderSimpleLayout(g,m,v)},e}(r0);function N0(t,e){var n=new ev(t.renderRange,e);return new tv(n,!1)}var O0={allDaySlot:Boolean},P0=Wt({initialView:"timeGridWeek",optionRefiners:O0,views:{timeGrid:{component:M0,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});/*!
FullCalendar v5.11.3
Docs & License: https://fullcalendar.io/
(c) 2022 Adam Shaw
*/var On=function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Jr);On.prototype.classes={root:"fc-theme-bootstrap5",tableCellShaded:"fc-theme-bootstrap5-shaded",buttonGroup:"btn-group",button:"btn btn-primary",buttonActive:"active",popover:"popover",popoverHeader:"popover-header",popoverContent:"popover-body"};On.prototype.baseIconClass="bi";On.prototype.iconClasses={close:"bi-x-lg",prev:"bi-chevron-left",next:"bi-chevron-right",prevYear:"bi-chevron-double-left",nextYear:"bi-chevron-double-right"};On.prototype.rtlIconClasses={prev:"bi-chevron-right",next:"bi-chevron-left",prevYear:"bi-chevron-double-right",nextYear:"bi-chevron-double-left"};On.prototype.iconOverrideOption="buttonIcons";On.prototype.iconOverrideCustomButtonOption="icon";On.prototype.iconOverridePrefix="bi-";var L0=Wt({themeClasses:{bootstrap5:On}});const F0=[],ea=vv("course",()=>{const t=Xi(F0);function e(o){t.value.find(l=>l.code===o.code)||t.value.push(o)}function n(o){t.value=t.value.filter(a=>a.code!==o)}function r(o,a){const l=t.value.find(u=>u.code===o);l&&(l.selectedGroup=a)}function i(o){const a=t.value.find(l=>l.code===o);a&&(a.included=!a.included)}function s(o){for(let a=0;a<t.value.length;a+=1)n(t.value[a].code);for(let a=0;a<o.length;a+=1)e(o[a])}return{courses:t,addCourse:e,removeCourse:n,selectGroup:r,switchIncludeCourse:i,uploadCourses:s}});var Ll=(t=>(t.freeChoice="Libre Elecci\xF3n",t.obligatory="Obligatoria",t))(Ll||{});function po(t){const e=t.hours.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),n=t.minutes.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1});return`${e}:${n}:00`}function U0(t){switch(t.trim()){case"LUNES":return"1";case"MARTES":return"2";case"MI\xC9RCOLES":return"3";case"JUEVES":return"4";case"VIERNES":return"5";case"S\xC1BADO":return"6";case"DOMINGO":return"0";default:return null}}function Uh(t){const[e,n]=t.split(":").map(r=>parseInt(r));return{hours:e,minutes:n}}function H0(t){return t.replace("Horarios/Aula: No informado","").split("Duraci\xF3n")[0].split(`
`).filter(n=>n.match(/.* de [0-9]{2}:[0-9]{2} a [0-9]{2}:[0-9]{2}/i)).map(n=>({day:U0(n.split(" de ")[0]),start:Uh(n.split(" de ")[1].split(" a ")[0]),end:Uh(n.split(" de ")[1].split(" a ")[1])}))}function V0(t){const e=/\((.*-)?[0-9]*\).*Grupo [0-9]{1,2}.*/i,n=t.split(`
`).map(s=>s.match(e)).filter(s=>s!=null).map(s=>s[0]),r=t.split(e).filter(s=>s!=null&&s.length>10).map(s=>s.trim()).filter(s=>s!==""),i=[];for(let s=0;s<r.length;s++){const o=r[s].split("Volver")[0].split(`
`),a={name:n[s],teacher:o[0].split(":")[1].replace(".",""),number:s+1,availablePlaces:parseInt(o.filter(l=>l.match(/Cupos disponibles: [0-9]+/i))[0].split(": ")[1]),lectures:H0(o.filter((l,u)=>u>2).join(`
`))};i.push(a)}return i}function B0(t){const e=t.split(`
Volver
`)[1];return{name:e.split(`
`)[0].split("(")[0].trim(),code:e.split(`
`)[0].split("(")[1].split(")")[0].trim(),credits:parseInt(e.split(`
`)[2].split(":")[1].trim()),type:e.split(`
`)[1].split(":")[1].trim()=="LIBRE ELECCI\xD3N"?Ll.freeChoice:Ll.obligatory,groups:V0(e.split(/CLASE .* \(.*\)/)[1]),included:!0}}function Dv(){const t=["#f94144","#f3722c","#f8961e","#f9844a","#f9c74f","#90be6d","#43aa8b","#4d908e","#577590","#277da1"];return t[Math.floor(Math.random()*t.length)]}const $0={class:"calendar"},j0=Xr({__name:"course-calendar",setup(t){const e=ea(),n=tr(()=>e.courses.filter(i=>i.included&&i.selectedGroup).map(i=>i.groups[i.selectedGroup-1].lectures.map(s=>({title:i.name,daysOfWeek:[s.day],startTime:po(s.start),endTime:po(s.end),groupId:i.code,color:Dv(),allDay:!1}))).reduce((i,s)=>i.concat(s),[])),r=tr(()=>({calendarOptions:{plugins:[P0,L0],initialView:"timeGridWeek",themeSystem:"bootstrap5",events:n.value}}));return(i,s)=>{const o=Qn("FullCalendar");return dt(),Ut("div",$0,[Oe(o,{options:st(r).calendarOptions},null,8,["options"])])}}});const W0=Ji(j0,[["__scopeId","data-v-cfdc073e"]]);var Lt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fl={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Lt,function(){return function(n){var r={};function i(s){if(r[s])return r[s].exports;var o=r[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=r,i.d=function(s,o,a){i.o(s,o)||Object.defineProperty(s,o,{enumerable:!0,get:a})},i.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.t=function(s,o){if(1&o&&(s=i(s)),8&o||4&o&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),2&o&&typeof s!="string")for(var l in s)i.d(a,l,function(u){return s[u]}.bind(null,l));return a},i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,"a",o),o},i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},i.p="",i(i.s=5)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o=function(l){return l===void 0&&(l=""),("0"+parseInt(l.toString(),10)).slice(-2)},a=function(l,u){l===void 0&&(l=new Date);var c={YYYY:l.getUTCFullYear(),MM:o(l.getUTCMonth()+1),DD:o(l.getUTCDate()),hh:o(l.getUTCHours()),mm:o(l.getUTCMinutes()),ss:o(l.getUTCSeconds())};return Object.keys(c).reduce(function(f,h){return f.replace(h,c[h].toString())},u)};r.default={addLeadingZero:o,getDuration:function(l,u){var c=Math.floor((u-l)/1e3),f=Math.floor(c/3600),h=c/3600%1*60;return""+o(f)+o(h)},getHoursDiff:function(l,u){var c=Math.floor((u-l)/1e3);return Math.floor(c/3600)},getRecurrenceLengthDays:function(l){var u=l.frequency,c=l.interval,f=s.RECURRENCE.FREQUENCY;if(c)switch(u){case f.YEARLY:return 365.25*c;case f.MONTHLY:return 30.42*c;case f.WEEKLY:return 7*c;default:return c}return 36525},formatDate:a,formatDateNoUtc:function(l,u){l===void 0&&(l=new Date);var c={YYYY:l.getFullYear(),MM:o(l.getMonth()+1),DD:o(l.getDate()),hh:o(l.getHours()),mm:o(l.getMinutes()),ss:o(l.getSeconds())};return Object.keys(c).reduce(function(f,h){return f.replace(h,c[h].toString())},u)},getTimeCreated:function(){return a(new Date,s.FORMAT.DATE)},incrementDate:function(l,u){var c=864e5*u,f=new Date;return f.setTime(l.getTime()+c),f}}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.URL=r.FORMAT=r.RECURRENCE=void 0,r.RECURRENCE={FREQUENCY:{DAILY:"DAILY",WEEKLY:"WEEKLY",MONTHLY:"MONTHLY",YEARLY:"YEARLY"}},r.FORMAT={DATE:"YYYYMMDD",TIME:"ThhmmssZ",FULL:"YYYYMMDDThhmmssZ",NO_UTC_FULL:"YYYYMMDDThhmmss",OUTLOOK_DATE:"YYYY-MM-DD",OUTLOOK_TIME:"Thh:mm:ssZ",OUTLOOK_FULL:"YYYY-MM-DDThh:mm:ssZ"},r.URL={YAHOO:"https://calendar.yahoo.com/",GOOGLE:"https://calendar.google.com/calendar/render",OUTLOOK:"https://outlook.{{host}}.com/calendar/0/deeplink/compose"}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=function(){function a(l){var u=this;this.isAllDay=!1,this.description="",this.title="",this.location="",this.start=new Date,this.end=new Date,this.params={},this.attendees=[],this.setText=function(c){u.description=c.description||"",u.title=c.title||"",u.location=c.location||""},this.setTimestamps=function(c){u.isAllDay=!c.end,u.start=c.start,u.end=c.end||s.default.incrementDate(u.start,1),u.recurrence=c.recurrence},this.setParam=function(c,f){return u.params[c]=f,u},this.setText(l),this.setTimestamps(l),this.setAttendees(l)}return a.prototype.setAttendees=function(l){this.attendees=Array.isArray(l.attendees)?l.attendees:[]},a}();r.default=o},function(n,r,i){var s=this&&this.__assign||function(){return(s=Object.assign||function(l){for(var u,c=1,f=arguments.length;c<f;c++)for(var h in u=arguments[c])Object.prototype.hasOwnProperty.call(u,h)&&(l[h]=u[h]);return l}).apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0});var o=function(l){return l},a=function(l,u,c){u===void 0&&(u=";"),c===void 0&&(c=o);var f=[];for(var h in l)l.hasOwnProperty(h)&&l[h]!==void 0&&f.push(h+"="+c(l[h]));return f.join(u)};r.default={toParamString:a,toQueryString:function(l){var u=Object.keys(l).filter(function(c){return l[c]!==null}).reduce(function(c,f){var h;return s(s({},c),((h={})[f]=l[f],h))},{});return a(u,"&",encodeURIComponent)},toIcsParamString:function(l){return a(l,";")},toMailtoList:function(l){return l.map(function(u){var c=u.email,f=u.name;return f?f+" <"+c+">":c})},toProperCase:function(l){return[l[0].toUpperCase(),l.slice(1-l.length).toLowerCase()].join("")}}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(7),o=i(3),a=i(0),l=i(8),u=i(1),c=function(f){return new Blob([f],{type:"application/octet-stream"})};r.default={formatText:function(f){return f===void 0&&(f=""),f.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/[,;]/g,"\\$&")},getBlob:c,getFileName:function(f){return f?f.replace(/[^\w ]/g,"")+".ics":"event.ics"},getUid:function(){return Math.random().toString(36).substr(2)},getProdId:function(){return typeof window<"u"?window.location.host:"datebook"},getRrule:function(f){var h,d,p={FREQ:f.frequency,INTERVAL:(h=f.interval)===null||h===void 0?void 0:h.toString(),COUNT:(d=f.count)===null||d===void 0?void 0:d.toString(),WKST:f.weekstart,BYDAY:f.weekdays,BYMONTHDAY:f.monthdays};return f.end&&(p.UNTIL=a.default.formatDate(f.end,u.FORMAT.FULL)),o.default.toIcsParamString(p)},download:function(f,h){if(window.hasOwnProperty("safari")||/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&!/(cr|fx)ios[^a-z]/i.test(navigator.userAgent))l.default(h,f);else{var d=c(h);s.saveAs(d,f)}}}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ICSPropertyValue=r.ICSDuration=r.ICSAttachment=r.ICSAlarm=r.CalendarRecurrence=r.CalendarOptions=r.ICalendar=r.OutlookCalendar=r.YahooCalendar=r.GoogleCalendar=r.CalendarBase=void 0;var s=i(2);Object.defineProperty(r,"CalendarBase",{enumerable:!0,get:function(){return s.default}});var o=i(6);Object.defineProperty(r,"GoogleCalendar",{enumerable:!0,get:function(){return o.default}});var a=i(9);Object.defineProperty(r,"YahooCalendar",{enumerable:!0,get:function(){return a.default}});var l=i(10);Object.defineProperty(r,"OutlookCalendar",{enumerable:!0,get:function(){return l.default}});var u=i(11);Object.defineProperty(r,"ICalendar",{enumerable:!0,get:function(){return u.default}});var c=i(12);Object.defineProperty(r,"CalendarOptions",{enumerable:!0,get:function(){return c.default}});var f=i(13);Object.defineProperty(r,"CalendarRecurrence",{enumerable:!0,get:function(){return f.default}});var h=i(14);Object.defineProperty(r,"ICSAlarm",{enumerable:!0,get:function(){return h.default}});var d=i(15);Object.defineProperty(r,"ICSAttachment",{enumerable:!0,get:function(){return d.default}});var p=i(16);Object.defineProperty(r,"ICSDuration",{enumerable:!0,get:function(){return p.default}});var g=i(17);Object.defineProperty(r,"ICSPropertyValue",{enumerable:!0,get:function(){return g.default}})},function(n,r,i){var s,o=this&&this.__extends||(s=function(d,p){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&(g[v]=m[v])})(d,p)},function(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function g(){this.constructor=d}s(d,p),d.prototype=p===null?Object.create(p):(g.prototype=p.prototype,new g)});Object.defineProperty(r,"__esModule",{value:!0});var a=i(2),l=i(3),u=i(4),c=i(0),f=i(1),h=function(d){function p(g){var m=d.call(this,g)||this;return m.setInitialParams=function(){var v=f.FORMAT.DATE;m.isAllDay||(v+=f.FORMAT.TIME);var b=[c.default.formatDate(m.start,v),c.default.formatDate(m.end,v)].join("/");m.setParam("action","TEMPLATE").setParam("dates",b).setParam("text",m.title).setParam("details",m.description).setParam("location",m.location).setParam("allday",m.isAllDay.toString()),m.recurrence&&m.setParam("recur","RRULE:"+u.default.getRrule(m.recurrence)),m.attendees.length>0&&m.setParam("add",l.default.toMailtoList(m.attendees).join(","))},m.render=function(){return f.URL.GOOGLE+"?"+l.default.toQueryString(m.params)},m.setInitialParams(),m}return o(p,d),p}(a.default);r.default=h},function(n,r,i){var s,o,a;o=[],(a=typeof(s=function(){function l(p,g,m){var v=new XMLHttpRequest;v.open("GET",p),v.responseType="blob",v.onload=function(){d(v.response,g,m)},v.onerror=function(){console.error("could not download file")},v.send()}function u(p){var g=new XMLHttpRequest;g.open("HEAD",p,!1);try{g.send()}catch{}return 200<=g.status&&299>=g.status}function c(p){try{p.dispatchEvent(new MouseEvent("click"))}catch{var g=document.createEvent("MouseEvents");g.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),p.dispatchEvent(g)}}var f=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Lt=="object"&&Lt.global===Lt?Lt:void 0,h=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),d=f.saveAs||(typeof window!="object"||window!==f?function(){}:"download"in HTMLAnchorElement.prototype&&!h?function(p,g,m){var v=f.URL||f.webkitURL,b=document.createElement("a");g=g||p.name||"download",b.download=g,b.rel="noopener",typeof p=="string"?(b.href=p,b.origin===location.origin?c(b):u(b.href)?l(p,g,m):c(b,b.target="_blank")):(b.href=v.createObjectURL(p),setTimeout(function(){v.revokeObjectURL(b.href)},4e4),setTimeout(function(){c(b)},0))}:"msSaveOrOpenBlob"in navigator?function(p,g,m){if(g=g||p.name||"download",typeof p!="string")navigator.msSaveOrOpenBlob(function(b,T){return T===void 0?T={autoBom:!1}:typeof T!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),T={autoBom:!T}),T.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(b.type)?new Blob(["\uFEFF",b],{type:b.type}):b}(p,m),g);else if(u(p))l(p,g,m);else{var v=document.createElement("a");v.href=p,v.target="_blank",setTimeout(function(){c(v)})}}:function(p,g,m,v){if((v=v||open("","_blank"))&&(v.document.title=v.document.body.innerText="downloading..."),typeof p=="string")return l(p,g,m);var b=p.type==="application/octet-stream",T=/constructor/i.test(f.HTMLElement)||f.safari,D=/CriOS\/[\d]+/.test(navigator.userAgent);if((D||b&&T||h)&&typeof FileReader<"u"){var F=new FileReader;F.onloadend=function(){var O=F.result;O=D?O:O.replace(/^data:[^;]*;/,"data:attachment/file;"),v?v.location.href=O:location=O,v=null},F.readAsDataURL(p)}else{var V=f.URL||f.webkitURL,U=V.createObjectURL(p);v?v.location=U:location.href=U,v=null,setTimeout(function(){V.revokeObjectURL(U)},4e4)}});f.saveAs=d.saveAs=d,n.exports=d})=="function"?s.apply(r,o):s)===void 0||(n.exports=a)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(s,o){var a=document.createElement("a"),l=encodeURIComponent(s);if(a.setAttribute("href","data:text/calendar;charset=utf-8,"+l),a.setAttribute("download",o),document.createEvent){var u=document.createEvent("MouseEvents");u.initEvent("click",!0,!0),a.dispatchEvent(u)}else a.click()}},function(n,r,i){var s,o=this&&this.__extends||(s=function(h,d){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var m in g)Object.prototype.hasOwnProperty.call(g,m)&&(p[m]=g[m])})(h,d)},function(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function p(){this.constructor=h}s(h,d),h.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)});Object.defineProperty(r,"__esModule",{value:!0});var a=i(2),l=i(1),u=i(3),c=i(0),f=function(h){function d(p){var g=h.call(this,p)||this;return g.setInitialParams=function(){g.setParam("v","60").setParam("title",g.title).setParam("desc",g.description).setParam("in_loc",g.location),g.setTimeParams(),g.attendees.length>0&&g.setParam("inv_list",u.default.toMailtoList(g.attendees).join(","))},g.setTimeParams=function(){g.isAllDay?g.setParam("dur","allday").setParam("st",c.default.formatDateNoUtc(g.start,l.FORMAT.DATE)):(g.setParam("st",c.default.formatDateNoUtc(g.start,l.FORMAT.NO_UTC_FULL)),c.default.getHoursDiff(g.start.getTime(),g.end.getTime())>99?g.setParam("et",c.default.formatDateNoUtc(g.end,l.FORMAT.NO_UTC_FULL)):g.setParam("dur",c.default.getDuration(g.start.getTime(),g.end.getTime())))},g.render=function(){return l.URL.YAHOO+"?"+u.default.toQueryString(g.params)},g.setInitialParams(),g}return o(d,h),d}(a.default);r.default=f},function(n,r,i){var s,o=this&&this.__extends||(s=function(h,d){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var m in g)Object.prototype.hasOwnProperty.call(g,m)&&(p[m]=g[m])})(h,d)},function(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function p(){this.constructor=h}s(h,d),h.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)});Object.defineProperty(r,"__esModule",{value:!0});var a=i(2),l=i(1),u=i(3),c=i(0),f=function(h){function d(p){var g=h.call(this,p)||this;return g.baseUrl=l.URL.OUTLOOK,g.setInitialParams=function(){var m=l.FORMAT.OUTLOOK_DATE;g.isAllDay||(m+=l.FORMAT.OUTLOOK_TIME),g.setParam("rru","addevent").setParam("path","/calendar/action/compose").setParam("startdt",c.default.formatDate(g.start,m)).setParam("enddt",c.default.formatDate(g.end,m)).setParam("subject",g.title).setParam("body",g.description).setParam("location",g.location).setParam("allday",g.isAllDay.toString()),g.attendees.length>0&&g.setParam("to",u.default.toMailtoList(g.attendees).join(","))},g.setHost=function(m){return["live","office"].includes(m)&&(g.baseUrl=l.URL.OUTLOOK.replace("{{host}}",m)),g},g.render=function(){var m=u.default.toQueryString(g.params);return g.baseUrl+"?"+m},g.setInitialParams(),g.setHost("live"),g}return o(d,h),d}(a.default);r.default=f},function(n,r,i){var s,o=this&&this.__extends||(s=function(p,g){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(m[b]=v[b])})(p,g)},function(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function m(){this.constructor=p}s(p,g),p.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}),a=this&&this.__spreadArray||function(p,g){for(var m=0,v=g.length,b=p.length;m<v;m++,b++)p[b]=g[m];return p};Object.defineProperty(r,"__esModule",{value:!0});var l=i(2),u=i(1),c=i(3),f=i(4),h=i(0),d=function(p){function g(m){var v=p.call(this,m)||this;return v.additionalEvents=[],v.properties=[],v.meta={},v.setInitialParams=function(){v.setMeta("UID",f.default.getUid()).setMeta("DTSTAMP",h.default.getTimeCreated()).setMeta("PRODID",f.default.getProdId()).addProperty("CLASS","PUBLIC").addProperty("DESCRIPTION",f.default.formatText(v.description)).addProperty("LOCATION",f.default.formatText(v.location)).addProperty("SUMMARY",f.default.formatText(v.title)).addProperty("TRANSP","TRANSPARENT"),v.isAllDay?v.addProperty("DTSTART;VALUE=DATE",h.default.formatDateNoUtc(v.start,u.FORMAT.DATE)).addProperty("DTEND;VALUE=DATE",h.default.formatDateNoUtc(h.default.incrementDate(v.start,1),u.FORMAT.DATE)):v.addProperty("DTSTART",h.default.formatDate(v.start,u.FORMAT.FULL)).addProperty("DTEND",h.default.formatDate(v.end,u.FORMAT.FULL)),v.recurrence&&v.addProperty("RRULE",f.default.getRrule(v.recurrence)),v.attendees.length>0&&v.attendees.forEach(function(b){var T=b.email,D=b.name,F=b.icsOptions,V=F===void 0?{}:F,U=v.getAttendeeParams(V,D),O="MAILTO:"+T;v.addProperty(U,O)})},v.getAttendeeParams=function(b,T){var D={};return T&&(D.CN=T),b.delegatedFrom&&(D["DELEGATED-FROM"]=b.delegatedFrom),b.partStat&&(D.PARTSTAT=b.partStat),b.role&&(D.ROLE=b.role),b.sentBy&&(D["SENT-BY"]=b.sentBy),D.RSVP=b.rsvp?"TRUE":"FALSE","ATTENDEE;"+c.default.toParamString(D,";")},v.getAlarmDuration=function(b){var T=[b.weeks+"W",b.days+"D",b.hours+"H",b.minutes+"M",b.seconds+"S"].filter(function(D){return/^[0-9]+[A-Z]$/.exec(D)});return T.unshift(b.after?"PT":"-PT"),T.join("")},v.setMeta=function(b,T){return v.meta[b]=T,v},v.addEvent=function(b){return v.additionalEvents.push(b),v},v.addProperty=function(b,T){if(typeof T=="object"){for(var D in v.properties.push("BEGIN:"+b),T)v.addProperty(D,T[D]);v.properties.push("END:"+b)}else v.properties.push(b+":"+T.toString());return v},v.addAlarm=function(b){var T={ACTION:b.action};return b.description&&(T.DESCRIPTION=f.default.formatText(b.description)),b.summary&&(T.SUMMARY=f.default.formatText(b.summary)),b.duration&&(T.DURATION=v.getAlarmDuration(b.duration)),b.repeat&&(T.REPEAT=b.repeat),b.attach&&(T[b.attach.params?"ATTACH;"+b.attach.params:"ATTACH"]=b.attach.url),b.trigger instanceof Date?T["TRIGGER;VALUE=DATE-TIME"]=h.default.formatDate(b.trigger,u.FORMAT.FULL):T.TRIGGER=v.getAlarmDuration(b.trigger),v.addProperty("VALARM",T)},v.download=function(b){f.default.download(b||f.default.getFileName(v.title),v.render())},v.render=function(){var b=v.additionalEvents.concat(v).reduce(function(D,F){return a(a(a(a([],D),["BEGIN:VEVENT"]),F.properties),["END:VEVENT"])},[]),T=Object.keys(v.meta).map(function(D){return D+":"+v.meta[D]});return a(a(a(["BEGIN:VCALENDAR","VERSION:2.0"],b),["END:VCALENDAR"]),T).join(`
`)},v.setInitialParams(),v}return o(g,p),g}(l.default);r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0})},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0})},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0})},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0})},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0})},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0})}])})})(Fl);function Hh(t,e){const n=new Date().getDay(),r=new Date(t);return n>e?r.setDate(t.getDate()+(e+7-n)+2):r.setDate(t.getDate()+(e-n)+2),r}async function q0(t){const e=new Date;e.setMonth(1),e.setDate(1);const n=new Date;n.setDate(1),n.setMonth(6);const r=new Date;r.setMonth(12),r.setDate(31);const i=new Date,s={start:i.getMonth()>6?n:e,end:i.getMonth()>6?r:n};let o;if(t.length>1)for(let a=0;a<t.length;a++){console.log(t[a].daysOfWeek[0]),console.log(t[a]);const l=new Date(s.start.getFullYear(),s.start.getMonth(),Hh(s.start,parseInt(t[a].daysOfWeek[0])).getDate(),parseInt(t[a].startTime.split(":")[0]),parseInt(t[a].startTime.split(":")[1])),u=new Date(s.start.getFullYear(),s.start.getMonth(),Hh(s.start,parseInt(t[a].daysOfWeek[0])).getDate(),parseInt(t[a].endTime.split(":")[0]),parseInt(t[a].endTime.split(":")[1]));if(a===0)o=new Fl.exports.ICalendar({title:t[a].title,description:`${t[a].title}, Materia de la Universidad Nacional`,start:l,end:u,recurrence:{frequency:"WEEKLY",interval:1}}),o.addProperty("COLOR",t[a].color);else{const c=new Fl.exports.ICalendar({title:t[a].title,description:`${t[a].title}, Materia de la Universidad Nacional`,start:l,end:u,recurrence:{frequency:"WEEKLY",interval:1}});c.addProperty("COLOR",t[a].color),o.addEvent(c)}}o.download("UNHorario.ics")}var Rv={exports:{}};(function(t,e){(function(n,r){r()})(Lt,function(){function n(u,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function r(u,c,f){var h=new XMLHttpRequest;h.open("GET",u),h.responseType="blob",h.onload=function(){l(h.response,c,f)},h.onerror=function(){console.error("could not download file")},h.send()}function i(u){var c=new XMLHttpRequest;c.open("HEAD",u,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function s(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(c)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Lt=="object"&&Lt.global===Lt?Lt:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(u,c,f){var h=o.URL||o.webkitURL,d=document.createElement("a");c=c||u.name||"download",d.download=c,d.rel="noopener",typeof u=="string"?(d.href=u,d.origin===location.origin?s(d):i(d.href)?r(u,c,f):s(d,d.target="_blank")):(d.href=h.createObjectURL(u),setTimeout(function(){h.revokeObjectURL(d.href)},4e4),setTimeout(function(){s(d)},0))}:"msSaveOrOpenBlob"in navigator?function(u,c,f){if(c=c||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(n(u,f),c);else if(i(u))r(u,c,f);else{var h=document.createElement("a");h.href=u,h.target="_blank",setTimeout(function(){s(h)})}}:function(u,c,f,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof u=="string")return r(u,c,f);var d=u.type==="application/octet-stream",p=/constructor/i.test(o.HTMLElement)||o.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||d&&p||a)&&typeof FileReader<"u"){var m=new FileReader;m.onloadend=function(){var T=m.result;T=g?T:T.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=T:location=T,h=null},m.readAsDataURL(u)}else{var v=o.URL||o.webkitURL,b=v.createObjectURL(u);h?h.location=b:location.href=b,h=null,setTimeout(function(){v.revokeObjectURL(b)},4e4)}});o.saveAs=l.saveAs=l,t.exports=l})})(Rv);function z0(t){const e=new File([JSON.stringify(t)],"UNHorario.json",{type:"application/json;charset=utf-8"});Rv.exports.saveAs(e)}const G0={class:"course-container"},K0={class:"upload-btn"},Y0=yt(" Cargar UNHorario "),Q0={class:"mt"},X0=Xr({__name:"main-sidebar",setup(t){const e=ea(),n=tr(()=>e.courses.filter(i=>i.included).map(i=>i.groups[i.selectedGroup-1].lectures.map(s=>({title:i.name,daysOfWeek:[s.day],startTime:po(s.start),endTime:po(s.end),groupId:i.code,color:Dv(),allDay:!1}))).reduce((i,s)=>i.concat(s),[]));function r(i){const s=i.target.files||i.dataTransfer.files;if(!s.length)return;function o(a){e.uploadCourses(JSON.parse(a))}s[0].text().then(o).catch(a=>{console.error(a)})}return(i,s)=>{const o=Qn("CourseCard");return dt(),Ut("div",G0,[X("label",K0,[X("input",{type:"file",class:"",onChange:r},null,32),Y0]),X("button",{onClick:s[0]||(s[0]=a=>st(q0)(st(n)))},"Descargar ICS"),X("button",{onClick:s[1]||(s[1]=a=>st(z0)(st(e).courses))}," Descargar UNHorario "),X("ul",Q0,[(dt(!0),Ut(ht,null,Tp(st(e).courses,a=>(dt(),Ut("li",{key:a.code},[Oe(o,{course:a},null,8,["course"])]))),128))])])}}});const Z0=Ji(X0,[["__scopeId","data-v-c198b403"]]),J0=""+new URL("../logo.svg",import.meta.url).href,Iv=t=>(mp("data-v-655710da"),t=t(),yp(),t),eR={class:"container app"},tR={class:"main"},nR=Iv(()=>X("header",{class:"header"},[X("img",{src:J0,alt:"UNHorario"}),X("ul",null,[X("li",null,[X("a",{href:"https://github.com/jdaar/UNHorario/blob/master/USAGE.md"},"\xBFNecesitas ayuda?")])])],-1)),rR={class:"parent"},iR=yt("A\xF1adir curso"),sR=Iv(()=>X("footer",{class:"credits"},[yt(" Creado por "),X("a",{href:"https://jasprilla.me"},"Jhonatan David")],-1)),oR=Xr({__name:"main-layout",setup(t){const e=ea();function n(r){let i=B0(r);e.addCourse(i)}return(r,i)=>{const s=Qn("text-area");return dt(),Ut("div",eR,[X("div",tR,[X("main",null,[nR,X("article",null,[X("div",rR,[_p(r.$slots,"default",{},void 0,!0)]),X("footer",null,[Oe(s,{callback:n},{default:jo(()=>[iR]),_:1})])])]),sR])])}}});const aR=Ji(oR,[["__scopeId","data-v-655710da"]]),lR={class:"grid"},uR=Xr({__name:"text-area",props:{callback:null},setup(t){const e=t,n=Xi(""),r=()=>{e.callback(n.value),n.value=""};return(i,s)=>(dt(),Ut("div",lR,[Rb(X("textarea",{"onUpdate:modelValue":s[0]||(s[0]=o=>n.value=o),style:{resize:"none"}},null,512),[[Rw,n.value]]),X("button",{onClick:r},[_p(i.$slots,"default")])]))}});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},cR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},kv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,d=u&63;l||(d=64,o||(h=64)),r.push(n[c],n[f],n[h],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Av(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):cR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw Error();const h=s<<2|a>>4;if(r.push(h),u!==64){const d=a<<4&240|u>>2;if(r.push(d),f!==64){const p=u<<6&192|f;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},fR=function(t){const e=Av(t);return kv.encodeByteArray(e,!0)},go=function(t){return fR(t).replace(/\./g,"")},hR=function(t){try{return kv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function dR(){try{return typeof indexedDB=="object"}catch{return!1}}function pR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function gR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=()=>gR().__FIREBASE_DEFAULTS__,mR=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&hR(t[1]);return e&&JSON.parse(e)},xv=()=>{try{return vR()||mR()||yR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ER=t=>{var e,n;return(n=(e=xv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},bR=t=>{const e=ER(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},wR=()=>{var t;return(t=xv())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[go(JSON.stringify(n)),go(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR="FirebaseError";class ei extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=TR,Object.setPrototypeOf(this,ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mv.prototype.create)}}class Mv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?_R(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ei(i,a,r)}}function _R(t,e){return t.replace(DR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const DR=/\{\$([^}]+)}/g;function Ul(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Vh(s)&&Vh(o)){if(!Ul(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Vh(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(t){return t&&t._delegate?t._delegate:t}class Ui{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new CR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AR(e))try{this.getOrInitializeService({instanceIdentifier:$n})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=$n){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$n){return this.instances.has(e)}getOptions(e=$n){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:IR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$n){return this.component?this.component.multipleInstances?e:$n:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IR(t){return t===$n?void 0:t}function AR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new RR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(de||(de={}));const xR={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},MR=de.INFO,NR={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},OR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=NR[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nv{constructor(e){this.name=e,this._logLevel=MR,this._logHandler=OR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}const PR=(t,e)=>e.some(n=>t instanceof n);let Bh,$h;function LR(){return Bh||(Bh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FR(){return $h||($h=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ov=new WeakMap,Hl=new WeakMap,Pv=new WeakMap,Ka=new WeakMap,ic=new WeakMap;function UR(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Sn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Ov.set(n,t)}).catch(()=>{}),ic.set(e,t),e}function HR(t){if(Hl.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Hl.set(t,e)}let Vl={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hl.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Pv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function VR(t){Vl=t(Vl)}function BR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ya(this),e,...n);return Pv.set(r,e.sort?e.sort():[e]),Sn(r)}:FR().includes(t)?function(...e){return t.apply(Ya(this),e),Sn(Ov.get(this))}:function(...e){return Sn(t.apply(Ya(this),e))}}function $R(t){return typeof t=="function"?BR(t):(t instanceof IDBTransaction&&HR(t),PR(t,LR())?new Proxy(t,Vl):t)}function Sn(t){if(t instanceof IDBRequest)return UR(t);if(Ka.has(t))return Ka.get(t);const e=$R(t);return e!==t&&(Ka.set(t,e),ic.set(e,t)),e}const Ya=t=>ic.get(t);function jR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Sn(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Sn(o.result),l.oldVersion,l.newVersion,Sn(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const WR=["get","getKey","getAll","getAllKeys","count"],qR=["put","add","delete","clear"],Qa=new Map;function jh(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qa.get(e))return Qa.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=qR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||WR.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Qa.set(e,s),s}VR(t=>({...t,get:(e,n,r)=>jh(e,n)||t.get(e,n,r),has:(e,n)=>!!jh(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function GR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bl="@firebase/app",Wh="0.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=new Nv("@firebase/app"),KR="@firebase/app-compat",YR="@firebase/analytics-compat",QR="@firebase/analytics",XR="@firebase/app-check-compat",ZR="@firebase/app-check",JR="@firebase/auth",eI="@firebase/auth-compat",tI="@firebase/database",nI="@firebase/database-compat",rI="@firebase/functions",iI="@firebase/functions-compat",sI="@firebase/installations",oI="@firebase/installations-compat",aI="@firebase/messaging",lI="@firebase/messaging-compat",uI="@firebase/performance",cI="@firebase/performance-compat",fI="@firebase/remote-config",hI="@firebase/remote-config-compat",dI="@firebase/storage",pI="@firebase/storage-compat",gI="@firebase/firestore",vI="@firebase/firestore-compat",mI="firebase",yI="9.15.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l="[DEFAULT]",EI={[Bl]:"fire-core",[KR]:"fire-core-compat",[QR]:"fire-analytics",[YR]:"fire-analytics-compat",[ZR]:"fire-app-check",[XR]:"fire-app-check-compat",[JR]:"fire-auth",[eI]:"fire-auth-compat",[tI]:"fire-rtdb",[nI]:"fire-rtdb-compat",[rI]:"fire-fn",[iI]:"fire-fn-compat",[sI]:"fire-iid",[oI]:"fire-iid-compat",[aI]:"fire-fcm",[lI]:"fire-fcm-compat",[uI]:"fire-perf",[cI]:"fire-perf-compat",[fI]:"fire-rc",[hI]:"fire-rc-compat",[dI]:"fire-gcs",[pI]:"fire-gcs-compat",[gI]:"fire-fst",[vI]:"fire-fst-compat","fire-js":"fire-js",[mI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=new Map,jl=new Map;function bI(t,e){try{t.container.addComponent(e)}catch(n){sr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function mo(t){const e=t.name;if(jl.has(e))return sr.debug(`There were multiple attempts to register component ${e}.`),!1;jl.set(e,t);for(const n of vo.values())bI(n,t);return!0}function wI(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Tn=new Mv("app","Firebase",CI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ui("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=yI;function Lv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:$l,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Tn.create("bad-app-name",{appName:String(i)});if(n||(n=wR()),!n)throw Tn.create("no-options");const s=vo.get(i);if(s){if(Ul(n,s.options)&&Ul(r,s.config))return s;throw Tn.create("duplicate-app",{appName:i})}const o=new kR(i);for(const l of jl.values())o.addComponent(l);const a=new SI(n,r,o);return vo.set(i,a),a}function _I(t=$l){const e=vo.get(t);if(!e&&t===$l)return Lv();if(!e)throw Tn.create("no-app",{appName:t});return e}function Ir(t,e,n){var r;let i=(r=EI[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sr.warn(a.join(" "));return}mo(new Ui(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="firebase-heartbeat-database",RI=1,Hi="firebase-heartbeat-store";let Xa=null;function Fv(){return Xa||(Xa=jR(DI,RI,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Hi)}}}).catch(t=>{throw Tn.create("idb-open",{originalErrorMessage:t.message})})),Xa}async function II(t){try{return(await Fv()).transaction(Hi).objectStore(Hi).get(Uv(t))}catch(e){if(e instanceof ei)sr.warn(e.message);else{const n=Tn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});sr.warn(n.message)}}}async function qh(t,e){try{const r=(await Fv()).transaction(Hi,"readwrite");return await r.objectStore(Hi).put(e,Uv(t)),r.done}catch(n){if(n instanceof ei)sr.warn(n.message);else{const r=Tn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});sr.warn(r.message)}}}function Uv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=1024,kI=30*24*60*60*1e3;class xI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new NI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=zh();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=kI}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=zh(),{heartbeatsToSend:n,unsentEntries:r}=MI(this._heartbeatsCache.heartbeats),i=go(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function zh(){return new Date().toISOString().substring(0,10)}function MI(t,e=AI){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Gh(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Gh(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class NI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dR()?pR().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await II(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return qh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return qh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Gh(t){return go(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(t){mo(new Ui("platform-logger",e=>new zR(e),"PRIVATE")),mo(new Ui("heartbeat",e=>new xI(e),"PRIVATE")),Ir(Bl,Wh,t),Ir(Bl,Wh,"esm2017"),Ir("fire-js","")}OI("");var PI="firebase",LI="9.15.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ir(PI,LI,"app");var FI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},j,sc=sc||{},Z=FI||self;function yo(){}function ta(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function es(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function UI(t){return Object.prototype.hasOwnProperty.call(t,Za)&&t[Za]||(t[Za]=++HI)}var Za="closure_uid_"+(1e9*Math.random()>>>0),HI=0;function VI(t,e,n){return t.call.apply(t.bind,arguments)}function BI(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function tt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?tt=VI:tt=BI,tt.apply(null,arguments)}function As(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ke(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Pn(){this.s=this.s,this.o=this.o}var $I=0;Pn.prototype.s=!1;Pn.prototype.na=function(){!this.s&&(this.s=!0,this.M(),$I!=0)&&UI(this)};Pn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Hv=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function oc(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Kh(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(ta(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function nt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var jI=function(){if(!Z.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Z.addEventListener("test",yo,e),Z.removeEventListener("test",yo,e)}catch{}return t}();function Eo(t){return/^[\s\xa0]*$/.test(t)}var Yh=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ja(t,e){return t<e?-1:t>e?1:0}function na(){var t=Z.navigator;return t&&(t=t.userAgent)?t:""}function Ft(t){return na().indexOf(t)!=-1}function ac(t){return ac[" "](t),t}ac[" "]=yo;function WI(t){var e=GI;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var qI=Ft("Opera"),Vr=Ft("Trident")||Ft("MSIE"),Vv=Ft("Edge"),Wl=Vv||Vr,Bv=Ft("Gecko")&&!(na().toLowerCase().indexOf("webkit")!=-1&&!Ft("Edge"))&&!(Ft("Trident")||Ft("MSIE"))&&!Ft("Edge"),zI=na().toLowerCase().indexOf("webkit")!=-1&&!Ft("Edge");function $v(){var t=Z.document;return t?t.documentMode:void 0}var bo;e:{var el="",tl=function(){var t=na();if(Bv)return/rv:([^\);]+)(\)|;)/.exec(t);if(Vv)return/Edge\/([\d\.]+)/.exec(t);if(Vr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(zI)return/WebKit\/(\S+)/.exec(t);if(qI)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(tl&&(el=tl?tl[1]:""),Vr){var nl=$v();if(nl!=null&&nl>parseFloat(el)){bo=String(nl);break e}}bo=el}var GI={};function KI(){return WI(function(){let t=0;const e=Yh(String(bo)).split("."),n=Yh("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=Ja(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||Ja(i[2].length==0,s[2].length==0)||Ja(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var ql;if(Z.document&&Vr){var Qh=$v();ql=Qh||parseInt(bo,10)||void 0}else ql=void 0;var YI=ql;function Vi(t,e){if(nt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Bv){e:{try{ac(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:QI[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Vi.X.h.call(this)}}Ke(Vi,nt);var QI={2:"touch",3:"pen",4:"mouse"};Vi.prototype.h=function(){Vi.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ts="closure_listenable_"+(1e6*Math.random()|0),XI=0;function ZI(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++XI,this.ba=this.ea=!1}function ra(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function lc(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function jv(t){const e={};for(const n in t)e[n]=t[n];return e}const Xh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Wv(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<Xh.length;s++)n=Xh[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ia(t){this.src=t,this.g={},this.h=0}ia.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Gl(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new ZI(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function zl(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=Hv(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(ra(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Gl(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var uc="closure_lm_"+(1e6*Math.random()|0),rl={};function qv(t,e,n,r,i){if(r&&r.once)return Gv(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)qv(t,e[s],n,r,i);return null}return n=hc(n),t&&t[ts]?t.N(e,n,es(r)?!!r.capture:!!r,i):zv(t,e,n,!1,r,i)}function zv(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=es(i)?!!i.capture:!!i,a=fc(t);if(a||(t[uc]=a=new ia(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=JI(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)jI||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Yv(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function JI(){function t(n){return e.call(t.src,t.listener,n)}const e=eA;return t}function Gv(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Gv(t,e[s],n,r,i);return null}return n=hc(n),t&&t[ts]?t.O(e,n,es(r)?!!r.capture:!!r,i):zv(t,e,n,!0,r,i)}function Kv(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Kv(t,e[s],n,r,i);else r=es(r)?!!r.capture:!!r,n=hc(n),t&&t[ts]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Gl(s,n,r,i),-1<n&&(ra(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=fc(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Gl(e,n,r,i)),(n=-1<t?e[t]:null)&&cc(n))}function cc(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[ts])zl(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Yv(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=fc(e))?(zl(n,t),n.h==0&&(n.src=null,e[uc]=null)):ra(t)}}}function Yv(t){return t in rl?rl[t]:rl[t]="on"+t}function eA(t,e){if(t.ba)t=!0;else{e=new Vi(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&cc(t),t=n.call(r,e)}return t}function fc(t){return t=t[uc],t instanceof ia?t:null}var il="__closure_events_fn_"+(1e9*Math.random()>>>0);function hc(t){return typeof t=="function"?t:(t[il]||(t[il]=function(e){return t.handleEvent(e)}),t[il])}function qe(){Pn.call(this),this.i=new ia(this),this.P=this,this.I=null}Ke(qe,Pn);qe.prototype[ts]=!0;qe.prototype.removeEventListener=function(t,e,n,r){Kv(this,t,e,n,r)};function Ge(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new nt(e,t);else if(e instanceof nt)e.target=e.target||t;else{var i=e;e=new nt(r,t),Wv(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=ks(o,r,!0,e)&&i}if(o=e.g=t,i=ks(o,r,!0,e)&&i,i=ks(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=ks(o,r,!1,e)&&i}qe.prototype.M=function(){if(qe.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ra(n[r]);delete t.g[e],t.h--}}this.I=null};qe.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};qe.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function ks(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&zl(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var dc=Z.JSON.stringify;function tA(){var t=Zv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class nA{constructor(){this.h=this.g=null}add(e,n){const r=Qv.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Qv=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new rA,t=>t.reset());class rA{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function iA(t){Z.setTimeout(()=>{throw t},0)}function Xv(t,e){Kl||sA(),Yl||(Kl(),Yl=!0),Zv.add(t,e)}var Kl;function sA(){var t=Z.Promise.resolve(void 0);Kl=function(){t.then(oA)}}var Yl=!1,Zv=new nA;function oA(){for(var t;t=tA();){try{t.h.call(t.g)}catch(n){iA(n)}var e=Qv;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Yl=!1}function sa(t,e){qe.call(this),this.h=t||1,this.g=e||Z,this.j=tt(this.lb,this),this.l=Date.now()}Ke(sa,qe);j=sa.prototype;j.ca=!1;j.R=null;j.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ge(this,"tick"),this.ca&&(pc(this),this.start()))}};j.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function pc(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}j.M=function(){sa.X.M.call(this),pc(this),delete this.g};function gc(t,e,n){if(typeof t=="function")n&&(t=tt(t,n));else if(t&&typeof t.handleEvent=="function")t=tt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Z.setTimeout(t,e||0)}function Jv(t){t.g=gc(()=>{t.g=null,t.i&&(t.i=!1,Jv(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class aA extends Pn{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Jv(this)}M(){super.M(),this.g&&(Z.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bi(t){Pn.call(this),this.h=t,this.g={}}Ke(Bi,Pn);var Zh=[];function em(t,e,n,r){Array.isArray(n)||(n&&(Zh[0]=n.toString()),n=Zh);for(var i=0;i<n.length;i++){var s=qv(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function tm(t){lc(t.g,function(e,n){this.g.hasOwnProperty(n)&&cc(e)},t),t.g={}}Bi.prototype.M=function(){Bi.X.M.call(this),tm(this)};Bi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function oa(){this.g=!0}oa.prototype.Aa=function(){this.g=!1};function lA(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var f=c.split("_");o=2<=f.length&&f[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function uA(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function wr(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+fA(t,n)+(r?" "+r:"")})}function cA(t,e){t.info(function(){return"TIMEOUT: "+e})}oa.prototype.info=function(){};function fA(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return dc(n)}catch{return e}}var ur={},Jh=null;function aa(){return Jh=Jh||new qe}ur.Pa="serverreachability";function nm(t){nt.call(this,ur.Pa,t)}Ke(nm,nt);function $i(t){const e=aa();Ge(e,new nm(e))}ur.STAT_EVENT="statevent";function rm(t,e){nt.call(this,ur.STAT_EVENT,t),this.stat=e}Ke(rm,nt);function ot(t){const e=aa();Ge(e,new rm(e,t))}ur.Qa="timingevent";function im(t,e){nt.call(this,ur.Qa,t),this.size=e}Ke(im,nt);function ns(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Z.setTimeout(function(){t()},e)}var la={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},sm={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function vc(){}vc.prototype.h=null;function ed(t){return t.h||(t.h=t.i())}function om(){}var rs={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function mc(){nt.call(this,"d")}Ke(mc,nt);function yc(){nt.call(this,"c")}Ke(yc,nt);var Ql;function ua(){}Ke(ua,vc);ua.prototype.g=function(){return new XMLHttpRequest};ua.prototype.i=function(){return{}};Ql=new ua;function is(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new Bi(this),this.O=hA,t=Wl?125:void 0,this.T=new sa(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new am}function am(){this.i=null,this.g="",this.h=!1}var hA=45e3,Xl={},wo={};j=is.prototype;j.setTimeout=function(t){this.O=t};function Zl(t,e,n){t.K=1,t.v=fa(rn(e)),t.s=n,t.P=!0,lm(t,null)}function lm(t,e){t.F=Date.now(),ss(t),t.A=rn(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),vm(n.i,"t",r),t.C=0,n=t.l.H,t.h=new am,t.g=Fm(t.l,n?e:null,!t.s),0<t.N&&(t.L=new aA(tt(t.La,t,t.g),t.N)),em(t.S,t.g,"readystatechange",t.ib),e=t.H?jv(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),$i(),lA(t.j,t.u,t.A,t.m,t.U,t.s)}j.ib=function(t){t=t.target;const e=this.L;e&&Zt(t)==3?e.l():this.La(t)};j.La=function(t){try{if(t==this.g)e:{const c=Zt(this.g);var e=this.g.Ea();const f=this.g.aa();if(!(3>c)&&(c!=3||Wl||this.g&&(this.h.h||this.g.fa()||id(this.g)))){this.I||c!=4||e==7||(e==8||0>=f?$i(3):$i(2)),ca(this);var n=this.g.aa();this.Y=n;t:if(um(this)){var r=id(this.g);t="";var i=r.length,s=Zt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zn(this),Ti(this);var o="";break t}this.h.i=new Z.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,uA(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Eo(a)){var u=a;break t}}u=null}if(n=u)wr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Jl(this,n);else{this.i=!1,this.o=3,ot(12),zn(this),Ti(this);break e}}this.P?(cm(this,c,o),Wl&&this.i&&c==3&&(em(this.S,this.T,"tick",this.hb),this.T.start())):(wr(this.j,this.m,o,null),Jl(this,o)),c==4&&zn(this),this.i&&!this.I&&(c==4?Nm(this.l,this):(this.i=!1,ss(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,ot(12)):(this.o=0,ot(13)),zn(this),Ti(this)}}}catch{}finally{}};function um(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function cm(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=dA(t,n),i==wo){e==4&&(t.o=4,ot(14),r=!1),wr(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Xl){t.o=4,ot(15),wr(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else wr(t.j,t.m,i,null),Jl(t,i);um(t)&&i!=wo&&i!=Xl&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,ot(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),_c(e),e.K=!0,ot(11))):(wr(t.j,t.m,n,"[Invalid Chunked Response]"),zn(t),Ti(t))}j.hb=function(){if(this.g){var t=Zt(this.g),e=this.g.fa();this.C<e.length&&(ca(this),cm(this,t,e),this.i&&t!=4&&ss(this))}};function dA(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?wo:(n=Number(e.substring(n,r)),isNaN(n)?Xl:(r+=1,r+n>e.length?wo:(e=e.substr(r,n),t.C=r+n,e)))}j.cancel=function(){this.I=!0,zn(this)};function ss(t){t.V=Date.now()+t.O,fm(t,t.O)}function fm(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=ns(tt(t.gb,t),e)}function ca(t){t.B&&(Z.clearTimeout(t.B),t.B=null)}j.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(cA(this.j,this.A),this.K!=2&&($i(),ot(17)),zn(this),this.o=2,Ti(this)):fm(this,this.V-t)};function Ti(t){t.l.G==0||t.I||Nm(t.l,t)}function zn(t){ca(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,pc(t.T),tm(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Jl(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||eu(n.h,t))){if(!t.J&&eu(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)To(n),pa(n);else break e;Tc(n),ot(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=ns(tt(n.cb,n),6e3));if(1>=Em(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Gn(n,11)}else if((t.J||n.g==t)&&To(n),!Eo(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const f=u[4];f!=null&&(n.Ca=f,n.j.info("SVER="+n.Ca));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=t.g;if(d){const p=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.h;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Ec(s,s.h),s.h=null))}if(r.D){const g=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.za=g,Se(r.F,r.D,g))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=Lm(r,r.H?r.ka:null,r.V),o.J){bm(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(ca(a),ss(a)),r.g=o}else xm(r);0<n.i.length&&ga(n)}else u[0]!="stop"&&u[0]!="close"||Gn(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Gn(n,7):Sc(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}$i(4)}catch{}}function pA(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(ta(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function gA(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ta(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function hm(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(ta(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=gA(t),r=pA(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var dm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vA(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Jn(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Jn){this.h=e!==void 0?e:t.h,Co(this,t.j),this.s=t.s,this.g=t.g,So(this,t.m),this.l=t.l,e=t.i;var n=new ji;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),td(this,n),this.o=t.o}else t&&(n=String(t).match(dm))?(this.h=!!e,Co(this,n[1]||"",!0),this.s=pi(n[2]||""),this.g=pi(n[3]||"",!0),So(this,n[4]),this.l=pi(n[5]||"",!0),td(this,n[6]||"",!0),this.o=pi(n[7]||"")):(this.h=!!e,this.i=new ji(null,this.h))}Jn.prototype.toString=function(){var t=[],e=this.j;e&&t.push(gi(e,nd,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(gi(e,nd,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(gi(n,n.charAt(0)=="/"?EA:yA,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",gi(n,wA)),t.join("")};function rn(t){return new Jn(t)}function Co(t,e,n){t.j=n?pi(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function So(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function td(t,e,n){e instanceof ji?(t.i=e,CA(t.i,t.h)):(n||(e=gi(e,bA)),t.i=new ji(e,t.h))}function Se(t,e,n){t.i.set(e,n)}function fa(t){return Se(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function pi(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function gi(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,mA),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function mA(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var nd=/[#\/\?@]/g,yA=/[#\?:]/g,EA=/[#\?]/g,bA=/[#\?@]/g,wA=/#/g;function ji(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ln(t){t.g||(t.g=new Map,t.h=0,t.i&&vA(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}j=ji.prototype;j.add=function(t,e){Ln(this),this.i=null,t=ti(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function pm(t,e){Ln(t),e=ti(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function gm(t,e){return Ln(t),e=ti(t,e),t.g.has(e)}j.forEach=function(t,e){Ln(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};j.oa=function(){Ln(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};j.W=function(t){Ln(this);let e=[];if(typeof t=="string")gm(this,t)&&(e=e.concat(this.g.get(ti(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};j.set=function(t,e){return Ln(this),this.i=null,t=ti(this,t),gm(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};j.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function vm(t,e,n){pm(t,e),0<n.length&&(t.i=null,t.g.set(ti(t,e),oc(n)),t.h+=n.length)}j.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function ti(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function CA(t,e){e&&!t.j&&(Ln(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(pm(this,r),vm(this,i,n))},t)),t.j=e}var SA=class{constructor(t,e){this.h=t,this.g=e}};function mm(t){this.l=t||TA,Z.PerformanceNavigationTiming?(t=Z.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Z.g&&Z.g.Ga&&Z.g.Ga()&&Z.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var TA=10;function ym(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Em(t){return t.h?1:t.g?t.g.size:0}function eu(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Ec(t,e){t.g?t.g.add(e):t.h=e}function bm(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}mm.prototype.cancel=function(){if(this.i=wm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function wm(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return oc(t.i)}function bc(){}bc.prototype.stringify=function(t){return Z.JSON.stringify(t,void 0)};bc.prototype.parse=function(t){return Z.JSON.parse(t,void 0)};function _A(){this.g=new bc}function DA(t,e,n){const r=n||"";try{hm(t,function(i,s){let o=i;es(i)&&(o=dc(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function RA(t,e){const n=new oa;if(Z.Image){const r=new Image;r.onload=As(xs,n,r,"TestLoadImage: loaded",!0,e),r.onerror=As(xs,n,r,"TestLoadImage: error",!1,e),r.onabort=As(xs,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=As(xs,n,r,"TestLoadImage: timeout",!1,e),Z.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function xs(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function os(t){this.l=t.ac||null,this.j=t.jb||!1}Ke(os,vc);os.prototype.g=function(){return new ha(this.l,this.j)};os.prototype.i=function(t){return function(){return t}}({});function ha(t,e){qe.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=wc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ke(ha,qe);var wc=0;j=ha.prototype;j.open=function(t,e){if(this.readyState!=wc)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Wi(this)};j.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Z).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};j.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,as(this)),this.readyState=wc};j.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Wi(this)),this.g&&(this.readyState=3,Wi(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Z.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Cm(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function Cm(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}j.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?as(this):Wi(this),this.readyState==3&&Cm(this)}};j.Va=function(t){this.g&&(this.response=this.responseText=t,as(this))};j.Ua=function(t){this.g&&(this.response=t,as(this))};j.ga=function(){this.g&&as(this)};function as(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Wi(t)}j.setRequestHeader=function(t,e){this.v.append(t,e)};j.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};j.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Wi(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(ha.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var IA=Z.JSON.parse;function Ae(t){qe.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Sm,this.K=this.L=!1}Ke(Ae,qe);var Sm="",AA=/^https?$/i,kA=["POST","PUT"];j=Ae.prototype;j.Ka=function(t){this.L=t};j.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ql.g(),this.C=this.u?ed(this.u):ed(Ql),this.g.onreadystatechange=tt(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){rd(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Z.FormData&&t instanceof Z.FormData,!(0<=Hv(kA,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Dm(this),0<this.B&&((this.K=xA(this.g))?(this.g.timeout=this.B,this.g.ontimeout=tt(this.qa,this)):this.A=gc(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){rd(this,s)}};function xA(t){return Vr&&KI()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}j.qa=function(){typeof sc<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ge(this,"timeout"),this.abort(8))};function rd(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Tm(t),da(t)}function Tm(t){t.D||(t.D=!0,Ge(t,"complete"),Ge(t,"error"))}j.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ge(this,"complete"),Ge(this,"abort"),da(this))};j.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),da(this,!0)),Ae.X.M.call(this)};j.Ha=function(){this.s||(this.F||this.v||this.l?_m(this):this.fb())};j.fb=function(){_m(this)};function _m(t){if(t.h&&typeof sc<"u"&&(!t.C[1]||Zt(t)!=4||t.aa()!=2)){if(t.v&&Zt(t)==4)gc(t.Ha,0,t);else if(Ge(t,"readystatechange"),Zt(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(dm)[1]||null;if(!i&&Z.self&&Z.self.location){var s=Z.self.location.protocol;i=s.substr(0,s.length-1)}r=!AA.test(i?i.toLowerCase():"")}n=r}if(n)Ge(t,"complete"),Ge(t,"success");else{t.m=6;try{var o=2<Zt(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",Tm(t)}}finally{da(t)}}}}function da(t,e){if(t.g){Dm(t);const n=t.g,r=t.C[0]?yo:null;t.g=null,t.C=null,e||Ge(t,"ready");try{n.onreadystatechange=r}catch{}}}function Dm(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Z.clearTimeout(t.A),t.A=null)}function Zt(t){return t.g?t.g.readyState:0}j.aa=function(){try{return 2<Zt(this)?this.g.status:-1}catch{return-1}};j.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};j.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),IA(e)}};function id(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Sm:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}j.Ea=function(){return this.m};j.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Rm(t){let e="";return lc(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Cc(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Rm(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Se(t,e,n))}function hi(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Im(t){this.Ca=0,this.i=[],this.j=new oa,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=hi("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=hi("baseRetryDelayMs",5e3,t),this.bb=hi("retryDelaySeedMs",1e4,t),this.$a=hi("forwardChannelMaxRetries",2,t),this.ta=hi("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new mm(t&&t.concurrentRequestLimit),this.Fa=new _A,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}j=Im.prototype;j.ma=8;j.G=1;function Sc(t){if(Am(t),t.G==3){var e=t.U++,n=rn(t.F);Se(n,"SID",t.I),Se(n,"RID",e),Se(n,"TYPE","terminate"),ls(t,n),e=new is(t,t.j,e,void 0),e.K=2,e.v=fa(rn(n)),n=!1,Z.navigator&&Z.navigator.sendBeacon&&(n=Z.navigator.sendBeacon(e.v.toString(),"")),!n&&Z.Image&&(new Image().src=e.v,n=!0),n||(e.g=Fm(e.l,null),e.g.da(e.v)),e.F=Date.now(),ss(e)}Pm(t)}function pa(t){t.g&&(_c(t),t.g.cancel(),t.g=null)}function Am(t){pa(t),t.u&&(Z.clearTimeout(t.u),t.u=null),To(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&Z.clearTimeout(t.m),t.m=null)}function ga(t){ym(t.h)||t.m||(t.m=!0,Xv(t.Ja,t),t.C=0)}function MA(t,e){return Em(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=ns(tt(t.Ja,t,e),Om(t,t.C)),t.C++,!0)}j.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new is(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=jv(s),Wv(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=km(this,i,e),n=rn(this.F),Se(n,"RID",t),Se(n,"CVER",22),this.D&&Se(n,"X-HTTP-Session-Id",this.D),ls(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(Rm(s)))+"&"+e:this.o&&Cc(n,this.o,s)),Ec(this.h,i),this.Ya&&Se(n,"TYPE","init"),this.O?(Se(n,"$req",e),Se(n,"SID","null"),i.Z=!0,Zl(i,n,null)):Zl(i,n,e),this.G=2}}else this.G==3&&(t?sd(this,t):this.i.length==0||ym(this.h)||sd(this))};function sd(t,e){var n;e?n=e.m:n=t.U++;const r=rn(t.F);Se(r,"SID",t.I),Se(r,"RID",n),Se(r,"AID",t.T),ls(t,r),t.o&&t.s&&Cc(r,t.o,t.s),n=new is(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=km(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),Ec(t.h,n),Zl(n,r,e)}function ls(t,e){t.ia&&lc(t.ia,function(n,r){Se(e,r,n)}),t.l&&hm({},function(n,r){Se(e,r,n)})}function km(t,e,n){n=Math.min(t.i.length,n);var r=t.l?tt(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{DA(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function xm(t){t.g||t.u||(t.Z=1,Xv(t.Ia,t),t.A=0)}function Tc(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=ns(tt(t.Ia,t),Om(t,t.A)),t.A++,!0)}j.Ia=function(){if(this.u=null,Mm(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=ns(tt(this.eb,this),t)}};j.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ot(10),pa(this),Mm(this))};function _c(t){t.B!=null&&(Z.clearTimeout(t.B),t.B=null)}function Mm(t){t.g=new is(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=rn(t.sa);Se(e,"RID","rpc"),Se(e,"SID",t.I),Se(e,"CI",t.L?"0":"1"),Se(e,"AID",t.T),Se(e,"TYPE","xmlhttp"),ls(t,e),t.o&&t.s&&Cc(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=fa(rn(e)),n.s=null,n.P=!0,lm(n,t)}j.cb=function(){this.v!=null&&(this.v=null,pa(this),Tc(this),ot(19))};function To(t){t.v!=null&&(Z.clearTimeout(t.v),t.v=null)}function Nm(t,e){var n=null;if(t.g==e){To(t),_c(t),t.g=null;var r=2}else if(eu(t.h,e))n=e.D,bm(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=aa(),Ge(r,new im(r,n)),ga(t)}else xm(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&MA(t,e)||r==2&&Tc(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Gn(t,5);break;case 4:Gn(t,10);break;case 3:Gn(t,6);break;default:Gn(t,2)}}}function Om(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function Gn(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=tt(t.kb,t);n||(n=new Jn("//www.google.com/images/cleardot.gif"),Z.location&&Z.location.protocol=="http"||Co(n,"https"),fa(n)),RA(n.toString(),r)}else ot(2);t.G=0,t.l&&t.l.va(e),Pm(t),Am(t)}j.kb=function(t){t?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function Pm(t){if(t.G=0,t.la=[],t.l){const e=wm(t.h);(e.length!=0||t.i.length!=0)&&(Kh(t.la,e),Kh(t.la,t.i),t.h.i.length=0,oc(t.i),t.i.length=0),t.l.ua()}}function Lm(t,e,n){var r=n instanceof Jn?rn(n):new Jn(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),So(r,r.m);else{var i=Z.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Jn(null,void 0);r&&Co(s,r),e&&(s.g=e),i&&So(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&Se(r,n,e),Se(r,"VER",t.ma),ls(t,r),r}function Fm(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new Ae(new os({jb:!0})):new Ae(t.ra),e.Ka(t.H),e}function Um(){}j=Um.prototype;j.xa=function(){};j.wa=function(){};j.va=function(){};j.ua=function(){};j.Ra=function(){};function _o(){if(Vr&&!(10<=Number(YI)))throw Error("Environmental error: no available transport.")}_o.prototype.g=function(t,e){return new gt(t,e)};function gt(t,e){qe.call(this),this.g=new Im(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!Eo(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Eo(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ni(this)}Ke(gt,qe);gt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;ot(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=Lm(t,null,t.V),ga(t)};gt.prototype.close=function(){Sc(this.g)};gt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=dc(t),t=n);e.i.push(new SA(e.ab++,t)),e.G==3&&ga(e)};gt.prototype.M=function(){this.g.l=null,delete this.j,Sc(this.g),delete this.g,gt.X.M.call(this)};function Hm(t){mc.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ke(Hm,mc);function Vm(){yc.call(this),this.status=1}Ke(Vm,yc);function ni(t){this.g=t}Ke(ni,Um);ni.prototype.xa=function(){Ge(this.g,"a")};ni.prototype.wa=function(t){Ge(this.g,new Hm(t))};ni.prototype.va=function(t){Ge(this.g,new Vm)};ni.prototype.ua=function(){Ge(this.g,"b")};_o.prototype.createWebChannel=_o.prototype.g;gt.prototype.send=gt.prototype.u;gt.prototype.open=gt.prototype.m;gt.prototype.close=gt.prototype.close;la.NO_ERROR=0;la.TIMEOUT=8;la.HTTP_ERROR=6;sm.COMPLETE="complete";om.EventType=rs;rs.OPEN="a";rs.CLOSE="b";rs.ERROR="c";rs.MESSAGE="d";qe.prototype.listen=qe.prototype.N;Ae.prototype.listenOnce=Ae.prototype.O;Ae.prototype.getLastError=Ae.prototype.Oa;Ae.prototype.getLastErrorCode=Ae.prototype.Ea;Ae.prototype.getStatus=Ae.prototype.aa;Ae.prototype.getResponseJson=Ae.prototype.Sa;Ae.prototype.getResponseText=Ae.prototype.fa;Ae.prototype.send=Ae.prototype.da;Ae.prototype.setWithCredentials=Ae.prototype.Ka;var NA=function(){return new _o},OA=function(){return aa()},sl=la,PA=sm,LA=ur,od={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},FA=os,Ms=om,UA=Ae;const ad="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ri="9.15.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=new Nv("@firebase/firestore");function ld(){return or.logLevel}function W(t,...e){if(or.logLevel<=de.DEBUG){const n=e.map(Dc);or.debug(`Firestore (${ri}): ${t}`,...n)}}function sn(t,...e){if(or.logLevel<=de.ERROR){const n=e.map(Dc);or.error(`Firestore (${ri}): ${t}`,...n)}}function tu(t,...e){if(or.logLevel<=de.WARN){const n=e.map(Dc);or.warn(`Firestore (${ri}): ${t}`,...n)}}function Dc(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(t="Unexpected state"){const e=`FIRESTORE (${ri}) INTERNAL ASSERTION FAILED: `+t;throw sn(e),new Error(e)}function ye(t,e){t||Q()}function ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends ei{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qe.UNAUTHENTICATED))}shutdown(){}}class VA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class BA{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new _n;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new _n,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new _n)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ye(typeof r.accessToken=="string"),new Bm(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ye(e===null||typeof e=="string"),new Qe(e)}}class $A{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(ye(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class jA{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new $A(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class WA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qA{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{s.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,W("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ye(typeof n.token=="string"),this.A=n.token,new WA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=zA(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function pe(t,e){return t<e?-1:t>e?1:0}function Br(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Le.fromMillis(Date.now())}static fromDate(e){return Le.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Le(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pe(this.nanoseconds,e.nanoseconds):pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.timestamp=e}static fromTimestamp(e){return new te(e)}static min(){return new te(new Le(0,0))}static max(){return new te(new Le(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(),r===void 0?r=e.length-n:r>e.length-n&&Q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return qi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class we extends qi{construct(e,n,r){return new we(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new H(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new we(n)}static emptyPath(){return new we([])}}const GA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends qi{construct(e,n,r){return new Je(e,n,r)}static isValidIdentifier(e){return GA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Je(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new H(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new H(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new H(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new H(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Je(n)}static emptyPath(){return new Je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.path=e}static fromPath(e){return new q(we.fromString(e))}static fromName(e){return new q(we.fromString(e).popFirst(5))}static empty(){return new q(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&we.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return we.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new q(new we(e.slice()))}}function KA(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new Le(n+1,0):new Le(n,r));return new kn(i,q.empty(),e)}function YA(t){return new kn(t.readTime,t.key,-1)}class kn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new kn(te.min(),q.empty(),-1)}static max(){return new kn(te.max(),q.empty(),-1)}}function QA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function us(t){if(t.code!==R.FAILED_PRECONDITION||t.message!==XA)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new x((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof x?n:x.resolve(n)}catch(n){return x.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):x.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):x.reject(n)}static resolve(e){return new x((n,r)=>{n(e)})}static reject(e){return new x((n,r)=>{r(e)})}static waitFor(e){return new x((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=x.resolve(!1);for(const r of e)n=n.next(i=>i?x.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new x((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new x((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function cs(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}Rc.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class zi{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new zi("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof zi&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ii(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jm(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(t){return t==null}function Do(t){return t===0&&1/t==-1/0}function ek(t){return typeof t=="number"&&Number.isInteger(t)&&!Do(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new rt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rt.EMPTY_BYTE_STRING=new rt("");const tk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xn(t){if(ye(!!t),typeof t=="string"){let e=0;const n=tk.exec(t);if(ye(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Me(t.seconds),nanos:Me(t.nanos)}}function Me(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $r(t){return typeof t=="string"?rt.fromBase64String(t):rt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function qm(t){const e=t.mapValue.fields.__previous_value__;return Wm(e)?qm(e):e}function Gi(t){const e=xn(t.mapValue.fields.__local_write_time__.timestampValue);return new Le(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ar(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Wm(t)?4:nk(t)?9007199254740991:10:Q()}function jt(t,e){if(t===e)return!0;const n=ar(t);if(n!==ar(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gi(t).isEqual(Gi(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=xn(r.timestampValue),o=xn(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return $r(r.bytesValue).isEqual($r(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Me(r.geoPointValue.latitude)===Me(i.geoPointValue.latitude)&&Me(r.geoPointValue.longitude)===Me(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Me(r.integerValue)===Me(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Me(r.doubleValue),o=Me(i.doubleValue);return s===o?Do(s)===Do(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Br(t.arrayValue.values||[],e.arrayValue.values||[],jt);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(ud(s)!==ud(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!jt(s[a],o[a])))return!1;return!0}(t,e);default:return Q()}}function Ki(t,e){return(t.values||[]).find(n=>jt(n,e))!==void 0}function jr(t,e){if(t===e)return 0;const n=ar(t),r=ar(e);if(n!==r)return pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pe(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Me(i.integerValue||i.doubleValue),a=Me(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return cd(t.timestampValue,e.timestampValue);case 4:return cd(Gi(t),Gi(e));case 5:return pe(t.stringValue,e.stringValue);case 6:return function(i,s){const o=$r(i),a=$r(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=pe(o[l],a[l]);if(u!==0)return u}return pe(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=pe(Me(i.latitude),Me(s.latitude));return o!==0?o:pe(Me(i.longitude),Me(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=jr(o[l],a[l]);if(u)return u}return pe(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Ns.mapValue&&s===Ns.mapValue)return 0;if(i===Ns.mapValue)return 1;if(s===Ns.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const f=pe(a[c],u[c]);if(f!==0)return f;const h=jr(o[a[c]],l[u[c]]);if(h!==0)return h}return pe(a.length,u.length)}(t.mapValue,e.mapValue);default:throw Q()}}function cd(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pe(t,e);const n=xn(t),r=xn(e),i=pe(n.seconds,r.seconds);return i!==0?i:pe(n.nanos,r.nanos)}function Wr(t){return nu(t)}function nu(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=xn(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?$r(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,q.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=nu(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${nu(r.fields[a])}`;return s+"}"}(t.mapValue):Q();var e,n}function fd(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ru(t){return!!t&&"integerValue"in t}function Ic(t){return!!t&&"arrayValue"in t}function hd(t){return!!t&&"nullValue"in t}function dd(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qs(t){return!!t&&"mapValue"in t}function _i(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ii(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=_i(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_i(t.arrayValue.values[n]);return e}return Object.assign({},t)}function nk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,n){this.position=e,this.inclusive=n}}function pd(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=q.comparator(q.fromName(o.referenceValue),n.key):r=jr(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function gd(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!jt(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{}class Ne extends zm{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new sk(e,n,r):n==="array-contains"?new lk(e,r):n==="in"?new uk(e,r):n==="not-in"?new ck(e,r):n==="array-contains-any"?new fk(e,r):new Ne(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ok(e,r):new ak(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(jr(n,this.value)):n!==null&&ar(this.value)===ar(n)&&this.matchesComparison(jr(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class It extends zm{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new It(e,n)}matches(e){return Gm(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Gm(t){return t.op==="and"}function rk(t){return ik(t)&&Gm(t)}function ik(t){for(const e of t.filters)if(e instanceof It)return!1;return!0}function Km(t){if(t instanceof Ne)return t.field.canonicalString()+t.op.toString()+Wr(t.value);{const e=t.filters.map(n=>Km(n)).join(",");return`${t.op}(${e})`}}function Ym(t,e){return t instanceof Ne?function(n,r){return r instanceof Ne&&n.op===r.op&&n.field.isEqual(r.field)&&jt(n.value,r.value)}(t,e):t instanceof It?function(n,r){return r instanceof It&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&Ym(s,r.filters[o]),!0):!1}(t,e):void Q()}function Qm(t){return t instanceof Ne?function(e){return`${e.field.canonicalString()} ${e.op} ${Wr(e.value)}`}(t):t instanceof It?function(e){return e.op.toString()+" {"+e.getFilters().map(Qm).join(" ,")+"}"}(t):"Filter"}class sk extends Ne{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){const n=q.comparator(e.key,this.key);return this.matchesComparison(n)}}class ok extends Ne{constructor(e,n){super(e,"in",n),this.keys=Xm("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ak extends Ne{constructor(e,n){super(e,"not-in",n),this.keys=Xm("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Xm(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}class lk extends Ne{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ic(n)&&Ki(n.arrayValue,this.value)}}class uk extends Ne{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ki(this.value.arrayValue,n)}}class ck extends Ne{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ki(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ki(this.value.arrayValue,n)}}class fk extends Ne{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ic(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ki(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n="asc"){this.field=e,this.dir=n}}function hk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n){this.comparator=e,this.root=n||ze.EMPTY}insert(e,n){return new Ue(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new Ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Os(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Os(this.root,e,this.comparator,!1)}getReverseIterator(){return new Os(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Os(this.root,e,this.comparator,!0)}}class Os{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r!=null?r:ze.RED,this.left=i!=null?i:ze.EMPTY,this.right=s!=null?s:ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ze(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ze.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();const e=this.left.check();if(e!==this.right.check())throw Q();return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(t,e,n,r,i){return this}insert(t,e,n){return new ze(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vd(this.data.getIterator())}getIteratorFrom(e){return new vd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Fe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Fe(this.comparator);return n.data=e,n}}class vd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.fields=e,e.sort(Je.comparator)}static empty(){return new Vt([])}unionWith(e){let n=new Fe(Je.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Vt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Br(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.value=e}static empty(){return new vt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!qs(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_i(n)}setAll(e){let n=Je.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=_i(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());qs(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return jt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];qs(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ii(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new vt(_i(this.value))}}function Zm(t){const e=[];return ii(t.fields,(n,r)=>{const i=new Je([n]);if(qs(r)){const s=Zm(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Vt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Xe(e,0,te.min(),te.min(),te.min(),vt.empty(),0)}static newFoundDocument(e,n,r,i){return new Xe(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new Xe(e,2,n,te.min(),te.min(),vt.empty(),0)}static newUnknownDocument(e,n){return new Xe(e,3,n,te.min(),te.min(),vt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function md(t,e=null,n=[],r=[],i=null,s=null,o=null){return new dk(t,e,n,r,i,s,o)}function Ac(t){const e=ne(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Km(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),va(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Wr(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Wr(r)).join(",")),e.ft=n}return e.ft}function kc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!hk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ym(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gd(t.startAt,e.startAt)&&gd(t.endAt,e.endAt)}function iu(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this._t=null,this.startAt,this.endAt}}function pk(t,e,n,r,i,s,o,a){return new fs(t,e,n,r,i,s,o,a)}function Jm(t){return new fs(t)}function yd(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ey(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function xc(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function ty(t){return t.collectionGroup!==null}function Ar(t){const e=ne(t);if(e.dt===null){e.dt=[];const n=xc(e),r=ey(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new Di(n)),e.dt.push(new Di(Je.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Di(Je.keyField(),s))}}}return e.dt}function on(t){const e=ne(t);if(!e._t)if(e.limitType==="F")e._t=md(e.path,e.collectionGroup,Ar(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Ar(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Di(s.field,o))}const r=e.endAt?new Ro(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ro(e.startAt.position,e.startAt.inclusive):null;e._t=md(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function su(t,e){e.getFirstInequalityField(),xc(t);const n=t.filters.concat([e]);return new fs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ou(t,e,n){return new fs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ma(t,e){return kc(on(t),on(e))&&t.limitType===e.limitType}function ny(t){return`${Ac(on(t))}|lt:${t.limitType}`}function au(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>Qm(r)).join(", ")}]`),va(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Wr(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Wr(r)).join(",")),`Target(${n})`}(on(t))}; limitType=${t.limitType})`}function Mc(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):q.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Ar(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=pd(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Ar(n),r)||n.endAt&&!function(i,s,o){const a=pd(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Ar(n),r))}(t,e)}function gk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ry(t){return(e,n)=>{let r=!1;for(const i of Ar(t)){const s=vk(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function vk(t,e,n){const r=t.field.isKeyField()?q.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?jr(a,l):Q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Do(e)?"-0":e}}function sy(t){return{integerValue:""+t}}function mk(t,e){return ek(e)?sy(e):iy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(){this._=void 0}}function yk(t,e,n){return t instanceof Io?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Yi?ay(t,e):t instanceof Qi?ly(t,e):function(r,i){const s=oy(r,i),o=Ed(s)+Ed(r.gt);return ru(s)&&ru(r.gt)?sy(o):iy(r.yt,o)}(t,e)}function Ek(t,e,n){return t instanceof Yi?ay(t,e):t instanceof Qi?ly(t,e):n}function oy(t,e){return t instanceof Ao?ru(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Io extends ya{}class Yi extends ya{constructor(e){super(),this.elements=e}}function ay(t,e){const n=uy(e);for(const r of t.elements)n.some(i=>jt(i,r))||n.push(r);return{arrayValue:{values:n}}}class Qi extends ya{constructor(e){super(),this.elements=e}}function ly(t,e){let n=uy(e);for(const r of t.elements)n=n.filter(i=>!jt(i,r));return{arrayValue:{values:n}}}class Ao extends ya{constructor(e,n){super(),this.yt=e,this.gt=n}}function Ed(t){return Me(t.integerValue||t.doubleValue)}function uy(t){return Ic(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function bk(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Yi&&r instanceof Yi||n instanceof Qi&&r instanceof Qi?Br(n.elements,r.elements,jt):n instanceof Ao&&r instanceof Ao?jt(n.gt,r.gt):n instanceof Io&&r instanceof Io}(t.transform,e.transform)}class wk{constructor(e,n){this.version=e,this.transformResults=n}}class Jt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Jt}static exists(e){return new Jt(void 0,e)}static updateTime(e){return new Jt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zs(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ea{}function cy(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new hy(t.key,Jt.none()):new hs(t.key,t.data,Jt.none());{const n=t.data,r=vt.empty();let i=new Fe(Je.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new cr(t.key,r,new Vt(i.toArray()),Jt.none())}}function Ck(t,e,n){t instanceof hs?function(r,i,s){const o=r.value.clone(),a=wd(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof cr?function(r,i,s){if(!zs(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=wd(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(fy(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ri(t,e,n,r){return t instanceof hs?function(i,s,o,a){if(!zs(i.precondition,s))return o;const l=i.value.clone(),u=Cd(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof cr?function(i,s,o,a){if(!zs(i.precondition,s))return o;const l=Cd(i.fieldTransforms,a,s),u=s.data;return u.setAll(fy(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return zs(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function Sk(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=oy(r.transform,i||null);s!=null&&(n===null&&(n=vt.empty()),n.set(r.field,s))}return n||null}function bd(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Br(n,r,(i,s)=>bk(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class hs extends Ea{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class cr extends Ea{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function fy(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function wd(t,e,n){const r=new Map;ye(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Ek(o,a,n[i]))}return r}function Cd(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,yk(s,o,e))}return r}class hy extends Ea{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Tk extends Ea{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe,oe;function Dk(t){switch(t){default:return Q();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function dy(t){if(t===void 0)return sn("GRPC error has no .code"),R.UNKNOWN;switch(t){case xe.OK:return R.OK;case xe.CANCELLED:return R.CANCELLED;case xe.UNKNOWN:return R.UNKNOWN;case xe.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case xe.INTERNAL:return R.INTERNAL;case xe.UNAVAILABLE:return R.UNAVAILABLE;case xe.UNAUTHENTICATED:return R.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case xe.NOT_FOUND:return R.NOT_FOUND;case xe.ALREADY_EXISTS:return R.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return R.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case xe.ABORTED:return R.ABORTED;case xe.OUT_OF_RANGE:return R.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return R.UNIMPLEMENTED;case xe.DATA_LOSS:return R.DATA_LOSS;default:return Q()}}(oe=xe||(xe={}))[oe.OK=0]="OK",oe[oe.CANCELLED=1]="CANCELLED",oe[oe.UNKNOWN=2]="UNKNOWN",oe[oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oe[oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oe[oe.NOT_FOUND=5]="NOT_FOUND",oe[oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",oe[oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",oe[oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",oe[oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oe[oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oe[oe.ABORTED=10]="ABORTED",oe[oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",oe[oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",oe[oe.INTERNAL=13]="INTERNAL",oe[oe.UNAVAILABLE=14]="UNAVAILABLE",oe[oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ii(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return jm(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=new Ue(q.comparator);function an(){return Rk}const py=new Ue(q.comparator);function vi(...t){let e=py;for(const n of t)e=e.insert(n.key,n);return e}function gy(t){let e=py;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Kn(){return Ii()}function vy(){return Ii()}function Ii(){return new si(t=>t.toString(),(t,e)=>t.isEqual(e))}const Ik=new Ue(q.comparator),Ak=new Fe(q.comparator);function ie(...t){let e=Ak;for(const n of t)e=e.add(n);return e}const kk=new Fe(pe);function my(){return kk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ds.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ba(te.min(),i,my(),an(),ie())}}class ds{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ds(r,n,ie(),ie(),ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class yy{constructor(e,n){this.targetId=e,this.Et=n}}class Ey{constructor(e,n,r=rt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Sd{constructor(){this.At=0,this.Rt=_d(),this.bt=rt.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return this.At!==0}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=ie(),n=ie(),r=ie();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q()}}),new ds(this.bt,this.Pt,e,n,r)}xt(){this.vt=!1,this.Rt=_d()}Nt(e,n){this.vt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class xk{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=an(),this.qt=Td(),this.Ut=new Fe(pe)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}jt(e){this.forEachTarget(e,n=>{const r=this.Wt(n);switch(e.state){case 0:this.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(n);break;case 3:this.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:Q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.zt(i)&&n(i)})}Jt(e){const n=e.targetId,r=e.Et.count,i=this.Yt(n);if(i){const s=i.target;if(iu(s))if(r===0){const o=new q(s.path);this.Qt(n,o,Xe.newNoDocument(o,te.min()))}else ye(r===1);else this.Xt(n)!==r&&(this.Ht(n),this.Ut=this.Ut.add(n))}}Zt(e){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&iu(a.target)){const l=new q(a.target.path);this.Lt.get(l)!==null||this.te(o,l)||this.Qt(o,l,Xe.newNoDocument(l,e))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=ie();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Yt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new ba(e,n,this.Ut,this.Lt,r);return this.Lt=an(),this.qt=Td(),this.Ut=new Fe(pe),i}Gt(e,n){if(!this.zt(e))return;const r=this.te(e,n.key)?2:0;this.Wt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const n=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let n=this.Bt.get(e);return n||(n=new Sd,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new Fe(pe),this.qt=this.qt.insert(e,n)),n}zt(e){const n=this.Yt(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new Sd),this.$t.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.$t.getRemoteKeysForTarget(e).has(n)}}function Td(){return new Ue(q.comparator)}function _d(){return new Ue(q.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Nk=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Ok=(()=>({and:"AND",or:"OR"}))();class Pk{constructor(e,n){this.databaseId=e,this.wt=n}}function ko(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function by(t,e){return t.wt?e.toBase64():e.toUint8Array()}function Lk(t,e){return ko(t,e.toTimestamp())}function Bt(t){return ye(!!t),te.fromTimestamp(function(e){const n=xn(e);return new Le(n.seconds,n.nanos)}(t))}function Nc(t,e){return function(n){return new we(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function wy(t){const e=we.fromString(t);return ye(_y(e)),e}function lu(t,e){return Nc(t.databaseId,e.path)}function ol(t,e){const n=wy(e);if(n.get(1)!==t.databaseId.projectId)throw new H(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(Cy(n))}function uu(t,e){return Nc(t.databaseId,e)}function Fk(t){const e=wy(t);return e.length===4?we.emptyPath():Cy(e)}function cu(t){return new we(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Cy(t){return ye(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Dd(t,e,n){return{name:lu(t,e),fields:n.value.mapValue.fields}}function Uk(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Q()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.wt?(ye(u===void 0||typeof u=="string"),rt.fromBase64String(u||"")):(ye(u===void 0||u instanceof Uint8Array),rt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?R.UNKNOWN:dy(l.code);return new H(u,l.message||"")}(o);n=new Ey(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ol(t,r.document.name),s=Bt(r.document.updateTime),o=r.document.createTime?Bt(r.document.createTime):te.min(),a=new vt({mapValue:{fields:r.document.fields}}),l=Xe.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Gs(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ol(t,r.document),s=r.readTime?Bt(r.readTime):te.min(),o=Xe.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Gs([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ol(t,r.document),s=r.removedTargetIds||[];n=new Gs([],s,i,null)}else{if(!("filter"in e))return Q();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new _k(i),o=r.targetId;n=new yy(o,s)}}return n}function Hk(t,e){let n;if(e instanceof hs)n={update:Dd(t,e.key,e.value)};else if(e instanceof hy)n={delete:lu(t,e.key)};else if(e instanceof cr)n={update:Dd(t,e.key,e.data),updateMask:Kk(e.fieldMask)};else{if(!(e instanceof Tk))return Q();n={verify:lu(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Io)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Yi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Qi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ao)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw Q()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:Lk(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Q()}(t,e.precondition)),n}function Vk(t,e){return t&&t.length>0?(ye(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Bt(r.updateTime):Bt(i);return s.isEqual(te.min())&&(s=Bt(i)),new wk(s,r.transformResults||[])}(n,e))):[]}function Bk(t,e){return{documents:[uu(t,e.path)]}}function $k(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=uu(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=uu(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return Ty(It.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:Er(c.field),direction:qk(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.wt||va(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function jk(t){let e=Fk(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ye(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const f=Sy(c);return f instanceof It&&rk(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(f){return new Di(br(f.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(c)));let a=null;n.limit&&(a=function(c){let f;return f=typeof c=="object"?c.value:c,va(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(c){const f=!!c.before,h=c.values||[];return new Ro(h,f)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const f=!c.before,h=c.values||[];return new Ro(h,f)}(n.endAt)),pk(e,i,o,s,a,"F",l,u)}function Wk(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Q()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function Sy(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=br(e.unaryFilter.field);return Ne.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=br(e.unaryFilter.field);return Ne.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=br(e.unaryFilter.field);return Ne.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=br(e.unaryFilter.field);return Ne.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(t):t.fieldFilter!==void 0?function(e){return Ne.create(br(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return It.create(e.compositeFilter.filters.map(n=>Sy(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Q()}}(e.compositeFilter.op))}(t):Q()}function qk(t){return Mk[t]}function zk(t){return Nk[t]}function Gk(t){return Ok[t]}function Er(t){return{fieldPath:t.canonicalString()}}function br(t){return Je.fromServerFormat(t.fieldPath)}function Ty(t){return t instanceof Ne?function(e){if(e.op==="=="){if(dd(e.value))return{unaryFilter:{field:Er(e.field),op:"IS_NAN"}};if(hd(e.value))return{unaryFilter:{field:Er(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(dd(e.value))return{unaryFilter:{field:Er(e.field),op:"IS_NOT_NAN"}};if(hd(e.value))return{unaryFilter:{field:Er(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Er(e.field),op:zk(e.op),value:e.value}}}(t):t instanceof It?function(e){const n=e.getFilters().map(r=>Ty(r));return n.length===1?n[0]:{compositeFilter:{op:Gk(e.op),filters:n}}}(t):Q()}function Kk(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _y(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Ck(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ri(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ri(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=vy();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=cy(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ie())}isEqual(e){return this.batchId===e.batchId&&Br(this.mutations,e.mutations,(n,r)=>bd(n,r))&&Br(this.baseMutations,e.baseMutations,(n,r)=>bd(n,r))}}class Oc{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ye(e.mutations.length===r.length);let i=Ik;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Oc(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,n,r,i,s=te.min(),o=te.min(),a=rt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new er(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this.ie=e}}function Zk(t){const e=jk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ou(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(){this.Je=new ex}addToCollectionParentIndex(e,n){return this.Je.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.Je.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(kn.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(kn.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}}class ex{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Fe(we.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Fe(we.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new qr(0)}static vn(){return new qr(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(){this.changes=new si(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ri(r.mutation,i,Vt.empty(),Le.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ie()){const i=Kn();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=vi();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Kn();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ie()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=an();const o=Ii(),a=Ii();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof cr)?s=s.insert(u.key,u):c!==void 0&&(o.set(u.key,c.mutation.getFieldMask()),Ri(c.mutation,u,c.mutation.getFieldMask(),Le.now()))}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var f;return a.set(u,new nx(c,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ii();let i=new Ue((o,a)=>o-a),s=ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Vt.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||ie()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=vy();c.forEach(h=>{if(!s.has(h)){const d=cy(n.get(h),r.get(h));d!==null&&f.set(h,d),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return q.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ty(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):x.resolve(Kn());let a=-1,l=s;return o.next(u=>x.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(c)?x.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ie())).next(c=>({batchId:a,changes:gy(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let i=vi();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=vi();return this.indexManager.getCollectionParents(e,i).next(o=>x.forEach(o,a=>{const l=function(u,c){return new fs(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,f)=>{s=s.insert(c,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((a,l)=>{const u=l.getKey();i.get(u)===null&&(i=i.insert(u,Xe.newInvalidDocument(u)))});let o=vi();return i.forEach((a,l)=>{const u=s.get(a);u!==void 0&&Ri(u.mutation,l,Vt.empty(),Le.now()),Mc(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return x.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:Bt(r.createTime)}),x.resolve()}getNamedQuery(e,n){return x.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(r){return{name:r.name,query:Zk(r.bundledQuery),readTime:Bt(r.readTime)}}(n)),x.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(){this.overlays=new Ue(q.comparator),this.es=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Kn();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.oe(e,n,s)}),x.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){const i=Kn(),s=n.length+1,o=new q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ue((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Kn(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Kn(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return x.resolve(a)}oe(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Qk(n,r));let s=this.es.get(n);s===void 0&&(s=ie(),this.es.set(n,s)),this.es.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(){this.ns=new Fe(Be.ss),this.rs=new Fe(Be.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new Be(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new Be(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new q(new we([])),r=new Be(n,e),i=new Be(n,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new q(new we([])),r=new Be(n,e),i=new Be(n,e+1);let s=ie();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Be(e,0),r=this.ns.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Be{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return q.comparator(e.key,n.key)||pe(e._s,n._s)}static os(e,n){return pe(e._s,n._s)||q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Fe(Be.ss)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Yk(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new Be(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,n){return x.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ps(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Be(n,0),i=new Be(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Fe(pe);return n.forEach(i=>{const s=new Be(i,0),o=new Be(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),x.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;q.isDocumentKey(s)||(s=s.child(""));const o=new Be(new q(s),0);let a=new Fe(pe);return this.gs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l._s)),!0)},o),x.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ye(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.gs;return x.forEach(n.mutations,i=>{const s=new Be(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new Be(n,0),i=this.gs.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e){this.Es=e,this.docs=new Ue(q.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():Xe.newInvalidDocument(n))}getEntries(e,n){let r=an();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Xe.newInvalidDocument(i))}),x.resolve(r)}getAllFromCollection(e,n,r){let i=an();const s=new q(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||QA(YA(l),r)<=0||(i=i.insert(l.key,l.mutableCopy()))}return x.resolve(i)}getAllFromCollectionGroup(e,n,r,i){Q()}As(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new lx(this)}getSize(e){return x.resolve(this.size)}}class lx extends tx{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e){this.persistence=e,this.Rs=new si(n=>Ac(n),kc),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Pc,this.targetCount=0,this.vs=qr.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),x.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new qr(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.Dn(n),x.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),x.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new Rc(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new ux(this),this.indexManager=new Jk,this.remoteDocumentCache=function(r){return new ax(r)}(r=>this.referenceDelegate.xs(r)),this.yt=new Xk(n),this.Ns=new ix(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new ox(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);const i=new fx(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,n){return x.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class fx extends ZA{constructor(e){super(),this.currentSequenceNumber=e}}class Lc{constructor(e){this.persistence=e,this.Fs=new Pc,this.$s=null}static Bs(e){return new Lc(e)}get Ls(){if(this.$s)return this.$s;throw Q()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),x.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Ls,r=>{const i=q.fromPath(r);return this.qs(e,i).next(s=>{s||n.removeEntry(i,te.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.qs(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}qs(e,n){return x.or([()=>x.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=ie(),i=ie();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Fc(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(s=>s||this.Oi(e,n,i,r)).next(s=>s||this.Mi(e,n))}ki(e,n){if(yd(n))return x.resolve(null);let r=on(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ou(n,null,"F"),r=on(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ie(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Fi(n,a);return this.$i(n,u,o,l.readTime)?this.ki(e,ou(n,null,"F")):this.Bi(e,u,n,l)}))})))}Oi(e,n,r,i){return yd(n)||i.isEqual(te.min())?this.Mi(e,n):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(n,s);return this.$i(n,o,r,i)?this.Mi(e,n):(ld()<=de.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),au(n)),this.Bi(e,o,n,KA(i,-1)))})}Fi(e,n){let r=new Fe(ry(e));return n.forEach((i,s)=>{Mc(e,s)&&(r=r.add(s))}),r}$i(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,n){return ld()<=de.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",au(n)),this.Ni.getDocumentsMatchingQuery(e,n,kn.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.yt=i,this.qi=new Ue(pe),this.Ui=new si(s=>Ac(s),kc),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rx(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qi))}}function px(t,e,n,r){return new dx(t,e,n,r)}async function Dy(t,e){const n=ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ie();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ji:u,removedBatchIds:o,addedBatchIds:a}))})})}function gx(t,e){const n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,f=c.keys();let h=x.resolve();return f.forEach(d=>{h=h.next(()=>u.getEntry(a,d)).next(p=>{const g=l.docVersions.get(d);ye(g!==null),p.version.compareTo(g)<0&&(c.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),u.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ie();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Ry(t){const e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function vx(t,e){const n=ne(t),r=e.snapshotVersion;let i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;const a=[];e.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;a.push(n.Cs.removeMatchingKeys(s,c.removedDocuments,f).next(()=>n.Cs.addMatchingKeys(s,c.addedDocuments,f)));let d=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(f)?d=d.withResumeToken(rt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):c.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(c.resumeToken,r)),i=i.insert(f,d),function(p,g,m){return p.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(h,d,c)&&a.push(n.Cs.updateTargetData(s,d))});let l=an(),u=ie();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(mx(s,o,e.documentUpdates).next(c=>{l=c.Wi,u=c.zi})),!r.isEqual(te.min())){const c=n.Cs.getLastRemoteSnapshotVersion(s).next(f=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return x.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.qi=i,s))}function mx(t,e,n){let r=ie(),i=ie();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=an();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(te.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):W("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Wi:o,zi:i}})}function yx(t,e){const n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ex(t,e){const n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(s=>s?(i=s,x.resolve(i)):n.Cs.allocateTargetId(r).next(o=>(i=new er(e,o,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.qi.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.qi=n.qi.insert(r.targetId,r),n.Ui.set(e,r.targetId)),r})}async function fu(t,e,n){const r=ne(t),i=r.qi.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!cs(o))throw o;W("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}function Rd(t,e,n){const r=ne(t);let i=te.min(),s=ie();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=ne(a),f=c.Ui.get(u);return f!==void 0?x.resolve(c.qi.get(f)):c.Cs.getTargetData(l,u)}(r,o,on(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,n?i:te.min(),n?s:ie())).next(a=>(bx(r,gk(e),a),{documents:a,Hi:s})))}function bx(t,e,n){let r=t.Ki.get(e)||te.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ki.set(e,r)}class Id{constructor(){this.activeTargetIds=my()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wx{constructor(){this.Lr=new Id,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,n,r){this.qr[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Id,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{Ur(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,r,i,s){const o=this.ho(e,n);W("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(l=>(W("RestConnection","Received: ",l),l),l=>{throw tu("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}_o(e,n,r,i,s,o){return this.ao(e,n,r,i,s)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ri,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,n){const r=Sx[e];return`${this.oo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,i){return new Promise((s,o)=>{const a=new UA;a.setWithCredentials(!0),a.listenOnce(PA.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case sl.NO_ERROR:const u=a.getResponseJson();W("Connection","XHR received:",JSON.stringify(u)),s(u);break;case sl.TIMEOUT:W("Connection",'RPC "'+e+'" timed out'),o(new H(R.DEADLINE_EXCEEDED,"Request time out"));break;case sl.HTTP_ERROR:const c=a.getStatus();if(W("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){let f=a.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f==null?void 0:f.error;if(h&&h.status&&h.message){const d=function(p){const g=p.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(g)>=0?g:R.UNKNOWN}(h.status);o(new H(d,h.message))}else o(new H(R.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new H(R.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{W("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(n,"POST",l,r,15)})}wo(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=NA(),o=OA(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new FA({})),this.lo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const l=i.join("");W("Connection","Creating WebChannel: "+l,a);const u=s.createWebChannel(l,a);let c=!1,f=!1;const h=new Tx({Hr:p=>{f?W("Connection","Not sending because WebChannel is closed:",p):(c||(W("Connection","Opening WebChannel transport."),u.open(),c=!0),W("Connection","WebChannel sending:",p),u.send(p))},Jr:()=>u.close()}),d=(p,g,m)=>{p.listen(g,v=>{try{m(v)}catch(b){setTimeout(()=>{throw b},0)}})};return d(u,Ms.EventType.OPEN,()=>{f||W("Connection","WebChannel transport opened.")}),d(u,Ms.EventType.CLOSE,()=>{f||(f=!0,W("Connection","WebChannel transport closed"),h.io())}),d(u,Ms.EventType.ERROR,p=>{f||(f=!0,tu("Connection","WebChannel transport errored:",p),h.io(new H(R.UNAVAILABLE,"The operation could not be completed")))}),d(u,Ms.EventType.MESSAGE,p=>{var g;if(!f){const m=p.data[0];ye(!!m);const v=m,b=v.error||((g=v[0])===null||g===void 0?void 0:g.error);if(b){W("Connection","WebChannel received error:",b);const T=b.status;let D=function(V){const U=xe[V];if(U!==void 0)return dy(U)}(T),F=b.message;D===void 0&&(D=R.INTERNAL,F="Unknown error status: "+T+" with message "+b.message),f=!0,h.io(new H(D,F)),u.close()}else W("Connection","WebChannel received:",m),h.ro(m)}}),d(o,LA.STAT_EVENT,p=>{p.stat===od.PROXY?W("Connection","Detected buffering proxy"):p.stat===od.NOPROXY&&W("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function al(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(t){return new Pk(t,!0)}class Iy{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=n,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,n,r,i,s,o,a,l){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Iy(e,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,n){this.Lo(),this.qo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(sn(n.toString()),sn("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Uo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new H(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(e){return W("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Dx extends Ay{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.yt=s}jo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.xo.reset();const n=Uk(this.yt,e),r=function(i){if(!("targetChange"in i))return te.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?te.min():s.readTime?Bt(s.readTime):te.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=cu(this.yt),n.addTarget=function(i,s){let o;const a=s.target;return o=iu(a)?{documents:Bk(i,a)}:{query:$k(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=by(i,s.resumeToken):s.snapshotVersion.compareTo(te.min())>0&&(o.readTime=ko(i,s.snapshotVersion.toTimestamp())),o}(this.yt,e);const r=Wk(this.yt,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=cu(this.yt),n.removeTarget=e,this.Bo(n)}}class Rx extends Ay{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=Vk(e.writeResults,e.commitTime),r=Bt(e.commitTime);return this.listener.Zo(r,n)}return ye(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=cu(this.yt),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Hk(this.yt,r))};this.Bo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new H(R.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new H(R.UNKNOWN,i.toString())})}_o(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(R.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class Ax{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(sn(n),this.ou=!1):W("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(o=>{r.enqueueAndForget(async()=>{fr(this)&&(W("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=ne(a);l._u.add(4),await ps(l),l.gu.set("Unknown"),l._u.delete(4),await Ca(l)}(this))})}),this.gu=new Ax(r,i)}}async function Ca(t){if(fr(t))for(const e of t.wu)await e(!0)}async function ps(t){for(const e of t.wu)await e(!1)}function ky(t,e){const n=ne(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),Vc(n)?Hc(n):oi(n).ko()&&Uc(n,e))}function xy(t,e){const n=ne(t),r=oi(n);n.du.delete(e),r.ko()&&My(n,e),n.du.size===0&&(r.ko()?r.Fo():fr(n)&&n.gu.set("Unknown"))}function Uc(t,e){t.yu.Ot(e.targetId),oi(t).zo(e)}function My(t,e){t.yu.Ot(e),oi(t).Ho(e)}function Hc(t){t.yu=new xk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.du.get(e)||null}),oi(t).start(),t.gu.uu()}function Vc(t){return fr(t)&&!oi(t).No()&&t.du.size>0}function fr(t){return ne(t)._u.size===0}function Ny(t){t.yu=void 0}async function xx(t){t.du.forEach((e,n)=>{Uc(t,e)})}async function Mx(t,e){Ny(t),Vc(t)?(t.gu.hu(e),Hc(t)):t.gu.set("Unknown")}async function Nx(t,e,n){if(t.gu.set("Online"),e instanceof Ey&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.du.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.du.delete(o),r.yu.removeTarget(o))}(t,e)}catch(r){W("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xo(t,r)}else if(e instanceof Gs?t.yu.Kt(e):e instanceof yy?t.yu.Jt(e):t.yu.jt(e),!n.isEqual(te.min()))try{const r=await Ry(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.yu.Zt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.du.get(l);u&&i.du.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.du.get(a);if(!l)return;i.du.set(a,l.withResumeToken(rt.EMPTY_BYTE_STRING,l.snapshotVersion)),My(i,a);const u=new er(l.target,a,1,l.sequenceNumber);Uc(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){W("RemoteStore","Failed to raise snapshot:",r),await xo(t,r)}}async function xo(t,e,n){if(!cs(e))throw e;t._u.add(1),await ps(t),t.gu.set("Offline"),n||(n=()=>Ry(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await Ca(t)})}function Oy(t,e){return e().catch(n=>xo(t,n,e))}async function Sa(t){const e=ne(t),n=Mn(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Ox(e);)try{const i=await yx(e.localStore,r);if(i===null){e.fu.length===0&&n.Fo();break}r=i.batchId,Px(e,i)}catch(i){await xo(e,i)}Py(e)&&Ly(e)}function Ox(t){return fr(t)&&t.fu.length<10}function Px(t,e){t.fu.push(e);const n=Mn(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function Py(t){return fr(t)&&!Mn(t).No()&&t.fu.length>0}function Ly(t){Mn(t).start()}async function Lx(t){Mn(t).eu()}async function Fx(t){const e=Mn(t);for(const n of t.fu)e.Xo(n.mutations)}async function Ux(t,e,n){const r=t.fu.shift(),i=Oc.from(r,e,n);await Oy(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Sa(t)}async function Hx(t,e){e&&Mn(t).Yo&&await async function(n,r){if(i=r.code,Dk(i)&&i!==R.ABORTED){const s=n.fu.shift();Mn(n).Mo(),await Oy(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Sa(n)}var i}(t,e),Py(t)&&Ly(t)}async function kd(t,e){const n=ne(t);n.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");const r=fr(n);n._u.add(3),await ps(n),r&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await Ca(n)}async function Vx(t,e){const n=ne(t);e?(n._u.delete(2),await Ca(n)):e||(n._u.add(2),await ps(n),n.gu.set("Unknown"))}function oi(t){return t.pu||(t.pu=function(e,n,r){const i=ne(e);return i.su(),new Dx(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:xx.bind(null,t),Zr:Mx.bind(null,t),Wo:Nx.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Mo(),Vc(t)?Hc(t):t.gu.set("Unknown")):(await t.pu.stop(),Ny(t))})),t.pu}function Mn(t){return t.Iu||(t.Iu=function(e,n,r){const i=ne(e);return i.su(),new Rx(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:Lx.bind(null,t),Zr:Hx.bind(null,t),tu:Fx.bind(null,t),Zo:Ux.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Mo(),await Sa(t)):(await t.Iu.stop(),t.fu.length>0&&(W("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new _n,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Bc(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $c(t,e){if(sn("AsyncQueue",`${e}: ${t}`),cs(t))return new H(R.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=vi(),this.sortedSet=new Ue(this.comparator)}static emptySet(e){return new kr(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof kr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new kr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(){this.Tu=new Ue(q.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?e.type!==0&&r.type===3?this.Tu=this.Tu.insert(n,e):e.type===3&&r.type!==1?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Tu=this.Tu.remove(n):e.type===1&&r.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):Q():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}}class zr{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new zr(e,n,kr.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ma(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(){this.Au=void 0,this.listeners=[]}}class $x{constructor(){this.queries=new si(e=>ny(e),ma),this.onlineState="Unknown",this.Ru=new Set}}async function jx(t,e){const n=ne(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Bx),i)try{s.Au=await n.onListen(r)}catch(o){const a=$c(o,`Initialization of query '${au(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.bu(n.onlineState),s.Au&&e.Pu(s.Au)&&jc(n)}async function Wx(t,e){const n=ne(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function qx(t,e){const n=ne(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&jc(n)}function zx(t,e,n){const r=ne(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function jc(t){t.Ru.forEach(e=>{e.next()})}class Gx{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new zr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Nu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(e){e=zr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e){this.key=e}}class Uy{constructor(e){this.key=e}}class Kx{constructor(e,n){this.query=e,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=ie(),this.mutatedKeys=ie(),this.Gu=ry(e),this.Qu=new kr(this.Gu)}get ju(){return this.qu}Wu(e,n){const r=n?n.zu:new xd,i=n?n.Qu:this.Qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const h=i.get(c),d=Mc(this.query,f)?f:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let m=!1;h&&d?h.data.isEqual(d.data)?p!==g&&(r.track({type:3,doc:d}),m=!0):this.Hu(h,d)||(r.track({type:2,doc:d}),m=!0,(l&&this.Gu(d,l)>0||u&&this.Gu(d,u)<0)&&(a=!0)):!h&&d?(r.track({type:0,doc:d}),m=!0):h&&!d&&(r.track({type:1,doc:h}),m=!0,(l||u)&&(a=!0)),m&&(d?(o=o.add(d),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Qu:o,zu:r,$i:a,mutatedKeys:s}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((u,c)=>function(f,h){const d=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return d(f)-d(h)}(u.type,c.type)||this.Gu(u.doc,c.doc)),this.Ju(r);const o=n?this.Yu():[],a=this.Ku.size===0&&this.current?1:0,l=a!==this.Uu;return this.Uu=a,s.length!==0||l?{snapshot:new zr(this.query,e.Qu,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new xd,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.qu=this.qu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qu=this.qu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=ie(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new Uy(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new Fy(r))}),n}tc(e){this.qu=e.Hi,this.Ku=ie();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return zr.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.Uu===0,this.hasCachedResults)}}class Yx{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Qx{constructor(e){this.key=e,this.nc=!1}}class Xx{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new si(a=>ny(a),ma),this.rc=new Map,this.oc=new Set,this.uc=new Ue(q.comparator),this.cc=new Map,this.ac=new Pc,this.hc={},this.lc=new Map,this.fc=qr.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}}async function Zx(t,e){const n=lM(t);let r,i;const s=n.ic.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=await Ex(n.localStore,on(e));n.isPrimaryClient&&ky(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await Jx(n,e,r,a==="current",o.resumeToken)}return i}async function Jx(t,e,n,r,i){t._c=(f,h,d)=>async function(p,g,m,v){let b=g.view.Wu(m);b.$i&&(b=await Rd(p.localStore,g.query,!1).then(({documents:F})=>g.view.Wu(F,b)));const T=v&&v.targetChanges.get(g.targetId),D=g.view.applyChanges(b,p.isPrimaryClient,T);return Nd(p,g.targetId,D.Xu),D.snapshot}(t,f,h,d);const s=await Rd(t.localStore,e,!0),o=new Kx(e,s.Hi),a=o.Wu(s.documents),l=ds.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);Nd(t,n,u.Xu);const c=new Yx(e,n,o);return t.ic.set(e,c),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),u.snapshot}async function eM(t,e){const n=ne(t),r=n.ic.get(e),i=n.rc.get(r.targetId);if(i.length>1)return n.rc.set(r.targetId,i.filter(s=>!ma(s,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await fu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),xy(n.remoteStore,r.targetId),hu(n,r.targetId)}).catch(us)):(hu(n,r.targetId),await fu(n.localStore,r.targetId,!0))}async function tM(t,e,n){const r=uM(t);try{const i=await function(s,o){const a=ne(s),l=Le.now(),u=o.reduce((h,d)=>h.add(d.key),ie());let c,f;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let d=an(),p=ie();return a.Gi.getEntries(h,u).next(g=>{d=g,d.forEach((m,v)=>{v.isValidDocument()||(p=p.add(m))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,d)).next(g=>{c=g;const m=[];for(const v of o){const b=Sk(v,c.get(v.key).overlayedDocument);b!=null&&m.push(new cr(v.key,b,Zm(b.value.mapValue),Jt.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,m,o)}).next(g=>{f=g;const m=g.applyToLocalDocumentSet(c,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,m)})}).then(()=>({batchId:f.batchId,changes:gy(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.hc[s.currentUser.toKey()];l||(l=new Ue(pe)),l=l.insert(o,a),s.hc[s.currentUser.toKey()]=l}(r,i.batchId,n),await gs(r,i.changes),await Sa(r.remoteStore)}catch(i){const s=$c(i,"Failed to persist write");n.reject(s)}}async function Hy(t,e){const n=ne(t);try{const r=await vx(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.cc.get(s);o&&(ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?ye(o.nc):i.removedDocuments.size>0&&(ye(o.nc),o.nc=!1))}),await gs(n,r,e)}catch(r){await us(r)}}function Md(t,e,n){const r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ic.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=ne(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const f of c.listeners)f.bu(o)&&(l=!0)}),l&&jc(a)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function nM(t,e,n){const r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.cc.get(e),s=i&&i.key;if(s){let o=new Ue(q.comparator);o=o.insert(s,Xe.newNoDocument(s,te.min()));const a=ie().add(s),l=new ba(te.min(),new Map,new Fe(pe),o,a);await Hy(r,l),r.uc=r.uc.remove(s),r.cc.delete(e),Wc(r)}else await fu(r.localStore,e,!1).then(()=>hu(r,e,n)).catch(us)}async function rM(t,e){const n=ne(t),r=e.batch.batchId;try{const i=await gx(n.localStore,e);By(n,r,null),Vy(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gs(n,i)}catch(i){await us(i)}}async function iM(t,e,n){const r=ne(t);try{const i=await function(s,o){const a=ne(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(ye(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);By(r,e,n),Vy(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await gs(r,i)}catch(i){await us(i)}}function Vy(t,e){(t.lc.get(e)||[]).forEach(n=>{n.resolve()}),t.lc.delete(e)}function By(t,e,n){const r=ne(t);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function hu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.rc.get(e))t.ic.delete(r),n&&t.sc.wc(r,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(r=>{t.ac.containsKey(r)||$y(t,r)})}function $y(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);n!==null&&(xy(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),Wc(t))}function Nd(t,e,n){for(const r of n)r instanceof Fy?(t.ac.addReference(r.key,e),sM(t,r)):r instanceof Uy?(W("SyncEngine","Document no longer in limbo: "+r.key),t.ac.removeReference(r.key,e),t.ac.containsKey(r.key)||$y(t,r.key)):Q()}function sM(t,e){const n=e.key,r=n.path.canonicalString();t.uc.get(n)||t.oc.has(r)||(W("SyncEngine","New document in limbo: "+n),t.oc.add(r),Wc(t))}function Wc(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new q(we.fromString(e)),r=t.fc.next();t.cc.set(r,new Qx(n)),t.uc=t.uc.insert(n,r),ky(t.remoteStore,new er(on(Jm(n.path)),r,2,Rc.at))}}async function gs(t,e,n){const r=ne(t),i=[],s=[],o=[];r.ic.isEmpty()||(r.ic.forEach((a,l)=>{o.push(r._c(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Fc.Ci(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.sc.Wo(i),await async function(a,l){const u=ne(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>x.forEach(l,f=>x.forEach(f.Si,h=>u.persistence.referenceDelegate.addReference(c,f.targetId,h)).next(()=>x.forEach(f.Di,h=>u.persistence.referenceDelegate.removeReference(c,f.targetId,h)))))}catch(c){if(!cs(c))throw c;W("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const f=c.targetId;if(!c.fromCache){const h=u.qi.get(f),d=h.snapshotVersion,p=h.withLastLimboFreeSnapshotVersion(d);u.qi=u.qi.insert(f,p)}}}(r.localStore,s))}async function oM(t,e){const n=ne(t);if(!n.currentUser.isEqual(e)){W("SyncEngine","User change. New user:",e.toKey());const r=await Dy(n.localStore,e);n.currentUser=e,function(i,s){i.lc.forEach(o=>{o.forEach(a=>{a.reject(new H(R.CANCELLED,s))})}),i.lc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gs(n,r.ji)}}function aM(t,e){const n=ne(t),r=n.cc.get(e);if(r&&r.nc)return ie().add(r.key);{let i=ie();const s=n.rc.get(e);if(!s)return i;for(const o of s){const a=n.ic.get(o);i=i.unionWith(a.view.ju)}return i}}function lM(t){const e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Hy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nM.bind(null,e),e.sc.Wo=qx.bind(null,e.eventManager),e.sc.wc=zx.bind(null,e.eventManager),e}function uM(t){const e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iM.bind(null,e),e}class cM{constructor(){this.synchronizeTabs=!1}async initialize(e){this.yt=wa(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return px(this.persistence,new hx,e.initialUser,this.yt)}yc(e){return new cx(Lc.Bs,this.yt)}gc(e){return new wx}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class fM{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Md(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=oM.bind(null,this.syncEngine),await Vx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new $x}createDatastore(e){const n=wa(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new _x(i));var i;return function(s,o,a,l){return new Ix(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>Md(this.syncEngine,a,0),o=Ad.C()?new Ad:new Cx,new kx(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new Xx(r,i,s,o,a,l);return u&&(c.dc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=ne(e);W("RemoteStore","RemoteStore shutting down."),n._u.add(5),await ps(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(t,e,n){if(!n)throw new H(R.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function hM(t,e,n,r){if(e===!0&&r===!0)throw new H(R.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Od(t){if(!q.isDocumentKey(t))throw new H(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Pd(t){if(q.isDocumentKey(t))throw new H(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ta(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q()}function Mo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ta(t);throw new H(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld=new Map;class Fd{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new H(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,hM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new H(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new H(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fd(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new HA;switch(n.type){case"gapi":const r=n.client;return new jA(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new H(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Ld.get(e);n&&(W("ComponentProvider","Removing Datastore"),Ld.delete(e),n.terminate())}(this),Promise.resolve()}}function dM(t,e,n,r={}){var i;const s=(t=Mo(t,_a))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&tu("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=Qe.MOCK_USER;else{o=SR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new H(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Qe(l)}t._authCredentials=new VA(new Bm(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}}class ai{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ai(this.firestore,e,this._query)}}class Dn extends ai{constructor(e,n,r){super(e,n,Jm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new q(e))}withConverter(e){return new Dn(this.firestore,e,this._path)}}function Wy(t,e,...n){if(t=Hr(t),jy("collection","path",e),t instanceof _a){const r=we.fromString(e,...n);return Pd(r),new Dn(t,null,r)}{if(!(t instanceof mt||t instanceof Dn))throw new H(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(we.fromString(e,...n));return Pd(r),new Dn(t.firestore,null,r)}}function pM(t,e,...n){if(t=Hr(t),arguments.length===1&&(e=$m.R()),jy("doc","path",e),t instanceof _a){const r=we.fromString(e,...n);return Od(r),new mt(t,null,new q(r))}{if(!(t instanceof mt||t instanceof Dn))throw new H(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(we.fromString(e,...n));return Od(r),new mt(t.firestore,t instanceof Dn?t.converter:null,new q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):sn("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Qe.UNAUTHENTICATED,this.clientId=$m.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{W("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(W("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new H(R.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _n;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=$c(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function mM(t,e){t.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Dy(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function yM(t,e){t.asyncQueue.verifyOperationInProgress();const n=await EM(t);W("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>kd(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>kd(e.remoteStore,s)),t.onlineComponents=e}async function EM(t){return t.offlineComponents||(W("FirestoreClient","Using default OfflineComponentProvider"),await mM(t,new cM)),t.offlineComponents}async function qy(t){return t.onlineComponents||(W("FirestoreClient","Using default OnlineComponentProvider"),await yM(t,new fM)),t.onlineComponents}function bM(t){return qy(t).then(e=>e.syncEngine)}async function wM(t){const e=await qy(t),n=e.eventManager;return n.onListen=Zx.bind(null,e.syncEngine),n.onUnlisten=eM.bind(null,e.syncEngine),n}function CM(t,e,n={}){const r=new _n;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new gM({next:f=>{s.enqueueAndForget(()=>Wx(i,c)),f.fromCache&&a.source==="server"?l.reject(new H(R.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),c=new Gx(o,u,{includeMetadataChanges:!0,Nu:!0});return jx(i,c)}(await wM(t),t.asyncQueue,e,n,r)),r.promise}class SM{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Iy(this,"async_queue_retry"),this.Wc=()=>{const n=al();n&&W("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const e=al();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const n=al();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const n=new _n;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(e){if(!cs(e))throw e;W("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{this.Kc=r,this.Gc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw sn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Gc=!1,r))));return this.Bc=n,n}enqueueAfterDelay(e,n,r){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const i=Bc.createAndSchedule(this,e,n,r,s=>this.Yc(s));return this.Uc.push(i),i}zc(){this.Kc&&Q()}verifyOperationInProgress(){}async Xc(){let e;do e=this.Bc,await e;while(e!==this.Bc)}Zc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}class qc extends _a{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new SM,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Gy(this),this._firestoreClient.terminate()}}function TM(t,e){const n=typeof t=="object"?t:_I(),r=typeof t=="string"?t:e||"(default)",i=wI(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=bR("firestore");s&&dM(i,...s)}return i}function zy(t){return t._firestoreClient||Gy(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Gy(t){var e;const n=t._freezeSettings(),r=function(i,s,o,a){return new JA(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new vM(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gr(rt.fromBase64String(e))}catch(n){throw new H(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gr(rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pe(this._lat,e._lat)||pe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=/^__.*__$/;class DM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new cr(e,this.data,this.fieldMask,n,this.fieldTransforms):new hs(e,this.data,n,this.fieldTransforms)}}function Yy(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}class Kc{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,s===void 0&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Kc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return No(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(e.length===0)throw this.ha("Document fields must not be empty");if(Yy(this.sa)&&_M.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class RM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.yt=r||wa(e)}da(e,n,r,i=!1){return new Kc({sa:e,methodName:n,fa:r,path:Je.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Qy(t){const e=t._freezeSettings(),n=wa(t._databaseId);return new RM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function IM(t,e,n,r,i,s={}){const o=t.da(s.merge||s.mergeFields?2:0,e,n,i);Jy("Data must be an object, but it was:",o,r);const a=Xy(r,o);let l,u;if(s.merge)l=new Vt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const h=kM(e,f,n);if(!o.contains(h))throw new H(R.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);MM(c,h)||c.push(h)}l=new Vt(c),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new DM(new vt(a),l,u)}function AM(t,e,n,r=!1){return Yc(n,t.da(r?4:3,e))}function Yc(t,e){if(Zy(t=Hr(t)))return Jy("Unsupported field value:",e,t),Xy(t,e);if(t instanceof Ky)return function(n,r){if(!Yy(r.sa))throw r.ha(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&e.sa!==4)throw e.ha("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Yc(o,r.aa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Hr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return mk(r.yt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Le.fromDate(n);return{timestampValue:ko(r.yt,i)}}if(n instanceof Le){const i=new Le(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ko(r.yt,i)}}if(n instanceof Gc)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Gr)return{bytesValue:by(r.yt,n._byteString)};if(n instanceof mt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Nc(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ha(`Unsupported field value: ${Ta(n)}`)}(t,e)}function Xy(t,e){const n={};return jm(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ii(t,(r,i)=>{const s=Yc(i,e.ra(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Zy(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Le||t instanceof Gc||t instanceof Gr||t instanceof mt||t instanceof Ky)}function Jy(t,e,n){if(!Zy(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Ta(n);throw r==="an object"?e.ha(t+" a custom object"):e.ha(t+" "+r)}}function kM(t,e,n){if((e=Hr(e))instanceof zc)return e._internalPath;if(typeof e=="string")return eE(t,e);throw No("Field path arguments must be of type string or ",t,!1,void 0,n)}const xM=new RegExp("[~\\*/\\[\\]]");function eE(t,e,n){if(e.search(xM)>=0)throw No(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new zc(...e.split("."))._internalPath}catch{throw No(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function No(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new H(R.INVALID_ARGUMENT,a+t+l)}function MM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new NM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Qc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class NM extends tE{data(){return super.data()}}function Qc(t,e){return typeof e=="string"?eE(t,e):e instanceof zc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xc{}class PM extends Xc{}function LM(t,e,...n){let r=[];e instanceof Xc&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof Zc).length,o=i.filter(a=>a instanceof Da).length;if(s>1||s>0&&o>0)throw new H(R.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Da extends PM{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Da(e,n,r)}_apply(e){const n=this._parse(e);return nE(e._query,n),new ai(e.firestore,e.converter,su(e._query,n))}_parse(e){const n=Qy(e.firestore);return function(i,s,o,a,l,u,c){let f;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new H(R.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){Hd(c,u);const h=[];for(const d of c)h.push(Ud(a,i,d));f={arrayValue:{values:h}}}else f=Ud(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||Hd(c,u),f=AM(o,s,c,u==="in"||u==="not-in");return Ne.create(l,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function FM(t,e,n){const r=e,i=Qc("where",t);return Da._create(i,r,n)}class Zc extends Xc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Zc(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:It.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)nE(s,a),s=su(s,a)}(e._query,n),new ai(e.firestore,e.converter,su(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Ud(t,e,n){if(typeof(n=Hr(n))=="string"){if(n==="")throw new H(R.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ty(e)&&n.indexOf("/")!==-1)throw new H(R.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(we.fromString(n));if(!q.isDocumentKey(r))throw new H(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fd(t,new q(r))}if(n instanceof mt)return fd(t,n._key);throw new H(R.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ta(n)}.`)}function Hd(t,e){if(!Array.isArray(t)||t.length===0)throw new H(R.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new H(R.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function nE(t,e){if(e.isInequality()){const r=xc(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new H(R.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=ey(t);s!==null&&UM(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new H(R.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(R.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function UM(t,e,n){if(!n.isEqual(e))throw new H(R.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class HM{convertValue(e,n="none"){switch(ar(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Q()}}convertObject(e,n){const r={};return ii(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Gc(Me(e.latitude),Me(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=qm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Gi(e));default:return null}}convertTimestamp(e){const n=xn(e);return new Le(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=we.fromString(e);ye(_y(r));const i=new zi(r.get(1),r.get(3)),s=new q(r.popFirst(5));return i.isEqual(n)||sn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class BM extends tE{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ks(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Qc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ks extends BM{data(e={}){return super.data(e)}}class $M{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ps(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ks(this._firestore,this._userDataWriter,r.key,r,new Ps(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new Ks(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ps(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Ks(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ps(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:jM(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function jM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}class WM extends HM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,n)}}function qM(t){t=Mo(t,ai);const e=Mo(t.firestore,qc),n=zy(e),r=new WM(e);return OM(t._query),CM(n,t._query).then(i=>new $M(e,r,t,i))}function rE(t,e){const n=Mo(t.firestore,qc),r=pM(t),i=VM(t.converter,e);return zM(n,[IM(Qy(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Jt.exists(!1))]).then(()=>r)}function zM(t,e){return function(n,r){const i=new _n;return n.asyncQueue.enqueueAndForget(async()=>tM(await bM(n),r,i)),i.promise}(zy(t),e)}(function(t,e=!0){(function(n){ri=n})(TI),mo(new Ui("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new qc(new BA(n.getProvider("auth-internal")),new qA(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new H(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zi(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Ir(ad,"3.8.0",t),Ir(ad,"3.8.0","esm2017")})();const GM={apiKey:"AIzaSyCjDEi_oGaKMtGpHeF1edai69f4R6C9t6M",authDomain:"unhorario-alertbud.firebaseapp.com",projectId:"unhorario-alertbud",storageBucket:"unhorario-alertbud.appspot.com",messagingSenderId:"720795287735",appId:"1:720795287735:web:3b9c393c92c9e66b4a8d32",measurementId:"G-W8T2QX6SHM"},KM=Lv(GM),iE=TM(KM),YM=Wy(iE,"comments"),sE=Wy(iE,"ratings");async function QM(t,e){try{return(await rE(YM,{comment:t,teacher_name:e})).id}catch(n){console.error("Error adding document: ",n)}}async function XM(t,e){try{return(await rE(sE,{rating:t,teacher_name:e})).id}catch(n){console.error("Error adding document: ",n)}}async function Vd(t){try{const e=new Array,n=await LM(sE,FM("teacher_name","==",t));return(await qM(n)).forEach(i=>{e.push(i.data().rating)}),e}catch(e){console.error("Error adding document: ",e)}}const ZM=[],JM=vv("feedback",()=>{const t=Xi(ZM);async function e(r,i){t.value.find(s=>s.teacher_name===i&&s.voted)||(await XM(r,i),Vd(i).then(s=>{var a;const o=t.value.findIndex(l=>l.teacher_name===i);o!==-1&&(t.value[o]={value:r,teacher_name:i,rating:(a=s==null?void 0:s.reduce((l,u)=>l+(u?1:-1),0))!=null?a:0,voted:!0})}))}function n(r){const i=t.value.filter(s=>s.teacher_name===r);Vd(r).then(s=>{var o,a,l,u,c;t.value.push({value:(a=(o=i[0])==null?void 0:o.value)!=null?a:!1,teacher_name:r,rating:(l=s==null?void 0:s.reduce((f,h)=>f+(h?1:-1),0))!=null?l:0,voted:(c=(u=i[0])==null?void 0:u.voted)!=null?c:!1})})}return{feedback:t,sendFeedback:e,populateFeedback:n}}),vs=t=>(mp("data-v-9b5c6267"),t=t(),yp(),t),eN={class:"no-padding"},tN={role:"list"},nN={role:"listbox",class:"group-container"},rN=["onClick"],iN=yt(" Del componente "),sN=yt(" con "),oN=yt(" creditos "),aN=yt(" cupos disponibles "),lN={key:0},uN=yt(" Dictada por "),cN=vs(()=>X("h5",null,"\xBFComo calificarias a este docente?",-1)),fN={class:"grid"},hN=vs(()=>X("b",null," + ",-1)),dN=[hN],pN=vs(()=>X("b",null," - ",-1)),gN=[pN],vN=vs(()=>X("h5",null,"\xBFDeseas compartir tu opinion de este docente?",-1)),mN=yt("Publicar"),yN={for:"switch",style:{display:"flex","align-items":"center"}},EN=["checked"],bN=vs(()=>X("h5",{style:{margin:"0"}},"Incluir en el archivo",-1)),wN=Xr({__name:"course-card",props:{course:null},setup(t){const e=t,n=ea(),r=JM(),i=tr(()=>{var a;return(a=e.course.groups[e.course.selectedGroup-1])==null?void 0:a.teacher});mi(i,a=>{r.populateFeedback(a)});const s=tr(()=>{var a,l;return(l=(a=r.feedback.filter(u=>u.teacher_name==i.value)[0])==null?void 0:a.rating)!=null?l:"Selecciona para ver"});async function o(a){await QM(i.value,a)}return(a,l)=>{const u=Qn("TextArea");return dt(),Ut("article",eN,[X("header",null,[X("h4",null,[yt(bt(t.course.name)+" ",1),X("b",null,"("+bt(t.course.code)+")",1)]),X("details",tN,[X("summary",null,bt(t.course.selectedGroup?t.course.groups.filter(c=>c.number==t.course.selectedGroup)[0].name:"Seleccione un grupo"),1),X("ul",nN,[(dt(!0),Ut(ht,null,Tp(t.course.groups.map(c=>({number:c.number,name:c.name})),c=>(dt(),Ut("li",{onClick:f=>st(n).selectGroup(t.course.code,c.number),key:c.number},[X("p",null," Grupo "+bt(c.name)+" ("+bt(t.course.groups[c.number-1].teacher)+", calificacion: "+bt(st(s))+") ",1)],8,rN))),128))])]),X("h5",null,[iN,X("b",null,bt(t.course.type),1),sN,X("b",null,bt(t.course.credits),1),oN]),X("h5",null,[X("b",null,bt(t.course.selectedGroup?t.course.groups.filter(c=>c.number==t.course.selectedGroup)[0].availablePlaces:0),1),aN]),t.course.selectedGroup?(dt(),Ut("div",lN,[X("h5",null,[uN,X("b",null,bt(t.course.groups[t.course.selectedGroup-1].teacher),1),yt(" con una calificacion de "+bt(st(s)),1)]),cN,X("div",fN,[X("button",{onClick:l[0]||(l[0]=c=>st(r).sendFeedback(!0,st(i)))},dN),X("button",{onClick:l[1]||(l[1]=c=>st(r).sendFeedback(!1,st(i)))},gN)]),vN,Oe(u,{callback:o},{default:jo(()=>[mN]),_:1})])):Qb("",!0),X("label",yN,[X("input",{type:"checkbox",id:"switch",name:"switch",role:"switch",class:"group-selector",checked:t.course.included,onInput:l[2]||(l[2]=c=>st(n).switchIncludeCourse(t.course.code))},null,40,EN),bN])])])}}});const CN=Ji(wN,[["__scopeId","data-v-9b5c6267"]]),Fn=$p(kD);Fn.component("FullCalendar",mD);Fn.component("CourseCalendar",W0);Fn.component("MainSidebar",Z0);Fn.component("CourseCard",CN);Fn.component("MainLayout",aR);Fn.component("TextArea",uR);Fn.use(SD());Fn.mount("#app");
